/*
  filename: integralui.treeview.js
  version : 2.4.0
  Copyright Â© 2016-2020 Lidor Systems. All rights reserved.

  This file is part of the "IntegralUI Web" Library. 
                                                                   
  The contents of this file are subject to the IntegralUI Web License, and may not be used except in compliance with the License.
  A copy of the License should have been installed in the product's root installation directory or it can be found at
  http://www.lidorsystems.com/products/web/studio/license-agreement.aspx.
                                                            
  This SOFTWARE is provided "AS IS", WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License for the specific language 
  governing rights and limitations under the License. Any infringement will be prosecuted under applicable laws.                           
*/
var __extends=this&&this.__extends||function(){var e=function(d,a){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return e(d,a)};return function(d,a){function b(){this.constructor=d}e(d,a);d.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}}();Object.defineProperty(exports,"__esModule",{value:!0});
var core_1=require("@angular/core"),integralui_core_1=require("./integralui.core"),integralui_common_service_1=require("../services/integralui.common.service"),integralui_data_service_1=require("../services/integralui.data.service"),integralui_dragdrop_service_1=require("../services/integralui.dragdrop.service"),integralui_filter_service_1=require("../services/integralui.filter.service"),integralui_base_list_1=require("./integralui.base.list"),integralui_scrollbar_1=require("./integralui.scrollbar"),
integralui_treeitem_1=require("./integralui.treeitem"),i0=require("@angular/core"),i1=require("../services/integralui.data.service"),i2=require("../services/integralui.dragdrop.service"),i3=require("../services/integralui.common.service"),i4=require("../services/integralui.filter.service"),i5=require("./integralui.core"),i6=require("@angular/common"),i7=require("./integralui.scrollbar"),i8=require("./integralui.treeitem"),_c0=["content"],_c1=["verScroll"],_c2=["horScroll"],_c3=["itemElem"],_c4=["itemContentElem"];
function IntegralUITreeView_span_3_li_2_div_2_span_4_Template(e,d){if(e&1){var a=i0.\u0275\u0275getCurrentView();i0.\u0275\u0275elementStart(0,"span");i0.\u0275\u0275elementStart(1,"span",23);i0.\u0275\u0275listener("mousedown",function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext(2).$implicit;return i0.\u0275\u0275nextContext(2).expandBoxMouseDown(b,c.data)})("mouseup",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext(4).expandBoxMouseUp(b)})("touchstart",
function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext(2).$implicit;return i0.\u0275\u0275nextContext(2).expandBoxTouchStart(b,c.data)})("touchend",function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext(2).$implicit;return i0.\u0275\u0275nextContext(2).expandBoxTouchEnd(b,c.data)});i0.\u0275\u0275elementEnd();i0.\u0275\u0275elementEnd()}if(e&2){var b=i0.\u0275\u0275nextContext(2).$implicit;i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngClass",b.style.expandBox)}}
var _c5=function(e,d){return{height:e,width:d}},_c6=function(e){return{"iui-listitem-animate-select iui-listitem-animate-select-left":e}},_c7=function(e){return{height:e}};
function IntegralUITreeView_span_3_li_2_div_2_span_7_Template(e,d){e&1&&(i0.\u0275\u0275elementStart(0,"span",24),i0.\u0275\u0275element(1,"span",12),i0.\u0275\u0275elementEnd());if(e&2){var a=i0.\u0275\u0275nextContext(2).$implicit,b=i0.\u0275\u0275nextContext(2);i0.\u0275\u0275property("ngStyle",i0.\u0275\u0275pureFunction2(3,_c5,b.animateItemSize.height+"px",a.clickPos.x+"px"));i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngClass",i0.\u0275\u0275pureFunction1(6,_c6,a.isClicked))("ngStyle",
i0.\u0275\u0275pureFunction1(8,_c7,b.animateItemSize.height+"px"))}}var _c8=function(e,d,a){return{left:e,height:d,width:a}},_c9=function(e){return{"iui-listitem-animate-select iui-listitem-animate-select-right":e}};
function IntegralUITreeView_span_3_li_2_div_2_span_8_Template(e,d){e&1&&(i0.\u0275\u0275elementStart(0,"span",24),i0.\u0275\u0275element(1,"span",12),i0.\u0275\u0275elementEnd());if(e&2){var a=i0.\u0275\u0275nextContext(2).$implicit,b=i0.\u0275\u0275nextContext(2);i0.\u0275\u0275property("ngStyle",i0.\u0275\u0275pureFunction3(3,_c8,a.clickPos.x+"px",b.animateItemSize.height+"px",b.contentSize.width-a.clickPos.x+"px"));i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngClass",i0.\u0275\u0275pureFunction1(7,
_c9,a.isClicked))("ngStyle",i0.\u0275\u0275pureFunction1(9,_c7,b.animateItemSize.height+"px"))}}var _c10=function(e,d){return{display:e,width:d}},_c11=function(e){return{"padding-left":e}},_c12=function(e){return{display:e}},_c13=function(e){return{$implicit:e}};
function IntegralUITreeView_span_3_li_2_div_2_Template(e,d){if(e&1){var a=i0.\u0275\u0275getCurrentView();i0.\u0275\u0275elementStart(0,"div",16);i0.\u0275\u0275listener("mouseenter",function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext(2).itemMouseEnter(b,c)})("mousemove",function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext(2).itemMouseMove(b,c)})("mouseleave",function(b){i0.\u0275\u0275restoreView(a);
var c=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext(2).itemMouseLeave(b,c)});i0.\u0275\u0275elementStart(1,"div",17);i0.\u0275\u0275listener("mousedown",function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext(2).itemMouseDown(b,c)})("mouseup",function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext(2).itemMouseUp(b,c)})("dragstart",function(b){i0.\u0275\u0275restoreView(a);
var c=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext(2).itemDragStart(b,c)})("dragover",function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext(),d=c.$implicit;c=c.index;return i0.\u0275\u0275nextContext(2).itemDragOver(b,d,c)})("drop",function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext(2).itemDragDrop(b,c)})("touchstart",function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext().$implicit;
return i0.\u0275\u0275nextContext(2).itemTouchStart(b,c)})("touchmove",function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext(2).itemTouchMove(b,c)})("touchend",function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext(2).itemTouchEnd(b,c)});i0.\u0275\u0275elementStart(2,"div",18,19);i0.\u0275\u0275listener("focus",function(){i0.\u0275\u0275restoreView(a);var b=i0.\u0275\u0275nextContext().$implicit;
return i0.\u0275\u0275nextContext(2).itemGotFocus(b)})("blur",function(){i0.\u0275\u0275restoreView(a);var b=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext(2).itemLostFocus(b)})("keydown",function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext(2).itemKeyDown(b,c)})("keypress",function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext(2).itemKeyPress(b,
c)})("keyup",function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext(2).itemKeyUp(b,c)});i0.\u0275\u0275template(4,IntegralUITreeView_span_3_li_2_div_2_span_4_Template,2,1,"span",8);i0.\u0275\u0275elementStart(5,"div",20);i0.\u0275\u0275listener("click",function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext(2).itemClickEvent(b,c)})("dblclick",function(b){i0.\u0275\u0275restoreView(a);
var c=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext(2).itemDblClickEvent(b,c)})("contextmenu",function(b){i0.\u0275\u0275restoreView(a);var c=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext(2).itemRightClickEvent(b,c)});i0.\u0275\u0275element(6,"span",21);i0.\u0275\u0275elementEnd();i0.\u0275\u0275elementEnd();i0.\u0275\u0275elementEnd();i0.\u0275\u0275template(7,IntegralUITreeView_span_3_li_2_div_2_span_7_Template,2,10,"span",22);i0.\u0275\u0275template(8,
IntegralUITreeView_span_3_li_2_div_2_span_8_Template,2,11,"span",22);i0.\u0275\u0275elementEnd()}if(e&2){var b=i0.\u0275\u0275nextContext().$implicit,c=i0.\u0275\u0275nextContext(2);i0.\u0275\u0275property("ngClass",b.style.general)("ngStyle",i0.\u0275\u0275pureFunction2(12,_c10,0==c.currentItemDisplay?"inline-block":"block",c.longestItemWidthValue));i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngStyle",i0.\u0275\u0275pureFunction1(15,_c11,b.indent+"px"));i0.\u0275\u0275advance(1);i0.\u0275\u0275propertyInterpolate("tabindex",
b.tabIndex);i0.\u0275\u0275property("ngClass",b.style.content)("iuiFocus",b.data==c.currentFocusItem)("ngStyle",i0.\u0275\u0275pureFunction1(17,_c12,0==c.currentItemDisplay?"inline-block":"block"));i0.\u0275\u0275advance(2);i0.\u0275\u0275property("ngIf",c.showExpandBox);i0.\u0275\u0275advance(2);i0.\u0275\u0275property("iuiTemplateOutlet",c.itemData[0])("iuiTemplateOutletContext",i0.\u0275\u0275pureFunction1(19,_c13,b.data));i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngIf",c.allowAnimation&&
b.isClicked);i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngIf",c.allowAnimation&&b.isClicked)}}var _c14=function(e,d){return{"open-empty-bottom":e,"close-empty-bottom":d}};
function IntegralUITreeView_span_3_li_2_span_3_Template(e,d){e&1&&(i0.\u0275\u0275elementStart(0,"span",25),i0.\u0275\u0275element(1,"div",26),i0.\u0275\u0275elementEnd());if(e&2){var a=i0.\u0275\u0275nextContext().$implicit;i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngClass",i0.\u0275\u0275pureFunction2(1,_c14,1==a.status,2==a.status))}}var _c15=function(e,d,a){return{"open-empty-bottom":e,"close-empty-bottom":d,"empty-bottom":a}};
function IntegralUITreeView_span_3_li_2_span_4_Template(e,d){e&1&&(i0.\u0275\u0275elementStart(0,"span",25),i0.\u0275\u0275element(1,"div",26),i0.\u0275\u0275elementEnd());if(e&2){var a=i0.\u0275\u0275nextContext().$implicit;i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngClass",i0.\u0275\u0275pureFunction3(1,_c15,1==a.status,2==a.status,3==a.status))}}var _c16=function(e){return{"iui-treeitem-animate":e}};
function IntegralUITreeView_span_3_li_2_Template(e,d){e&1&&(i0.\u0275\u0275elementStart(0,"li",12,13),i0.\u0275\u0275template(2,IntegralUITreeView_span_3_li_2_div_2_Template,9,21,"div",14),i0.\u0275\u0275template(3,IntegralUITreeView_span_3_li_2_span_3_Template,2,4,"span",15),i0.\u0275\u0275template(4,IntegralUITreeView_span_3_li_2_span_4_Template,2,5,"span",15),i0.\u0275\u0275elementEnd());if(e&2){var a=d.$implicit,b=i0.\u0275\u0275nextContext(2);i0.\u0275\u0275property("ngClass",i0.\u0275\u0275pureFunction1(5,
_c16,b.allowAnimation))("ngStyle",a.inlineStyle);i0.\u0275\u0275advance(2);i0.\u0275\u0275property("ngIf",!a.isEmpty&&!a.isEmptyPrev);i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngIf",a.isEmptyPrev);i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngIf",a.isEmpty)}}var _c17=function(e,d,a,b){return{left:e,top:d,height:a,width:b}};
function IntegralUITreeView_span_3_div_3_Template(e,d){if(e&1){var a=i0.\u0275\u0275getCurrentView();i0.\u0275\u0275elementStart(0,"div",27);i0.\u0275\u0275elementStart(1,"div",28);i0.\u0275\u0275listener("mousemove",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext(2).hoverBlockMouseMove(b)})("mouseleave",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext(2).hoverBlockMouseLeave(b)});i0.\u0275\u0275element(2,"span",21);i0.\u0275\u0275elementEnd();
i0.\u0275\u0275elementEnd()}if(e&2){var b=i0.\u0275\u0275nextContext(2);i0.\u0275\u0275property("ngStyle",i0.\u0275\u0275pureFunction4(4,_c17,b.blockHoverRect.left+"px",b.blockHoverRect.top+"px",b.blockHoverRect.height+"px",b.blockHoverRect.width+"px"));i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngStyle",i0.\u0275\u0275pureFunction1(9,_c7,b.blockHoverRect.height+"px"));i0.\u0275\u0275advance(1);i0.\u0275\u0275property("iuiTemplateOutlet",b.itemHoverData[0])("iuiTemplateOutletContext",i0.\u0275\u0275pureFunction1(11,
_c13,b.hoverItemObj.data))}}
function IntegralUITreeView_span_3_span_4_span_1_div_1_Template(e,d){e&1&&(i0.\u0275\u0275elementStart(0,"div",31),i0.\u0275\u0275elementStart(1,"div",32),i0.\u0275\u0275element(2,"span",21),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd());if(e&2){var a=i0.\u0275\u0275nextContext(),b=a.index;a=a.$implicit;var c=i0.\u0275\u0275nextContext(3);i0.\u0275\u0275property("ngStyle",c.getSelectBlockRect(b));i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngStyle",i0.\u0275\u0275pureFunction1(4,_c7,
c.blockSelectHeight+"px"));i0.\u0275\u0275advance(1);i0.\u0275\u0275property("iuiTemplateOutlet",c.itemSelectData[0])("iuiTemplateOutletContext",i0.\u0275\u0275pureFunction1(6,_c13,a))}}
function IntegralUITreeView_span_3_span_4_span_1_Template(e,d){e&1&&(i0.\u0275\u0275elementStart(0,"span"),i0.\u0275\u0275template(1,IntegralUITreeView_span_3_span_4_span_1_div_1_Template,3,8,"div",30),i0.\u0275\u0275elementEnd());if(e&2){var a=d.$implicit,b=i0.\u0275\u0275nextContext(3);i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngIf",b.isContentAllowed(a,"select"))}}
function IntegralUITreeView_span_3_span_4_Template(e,d){e&1&&(i0.\u0275\u0275elementStart(0,"span"),i0.\u0275\u0275template(1,IntegralUITreeView_span_3_span_4_span_1_Template,2,1,"span",29),i0.\u0275\u0275elementEnd());if(e&2){var a=i0.\u0275\u0275nextContext(2);i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngForOf",a.currentSelectedItems)}}
function IntegralUITreeView_span_3_iui_scrollbar_5_Template(e,d){if(e&1){var a=i0.\u0275\u0275getCurrentView();i0.\u0275\u0275elementStart(0,"iui-scrollbar",33,34);i0.\u0275\u0275listener("mouseenter",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext(2).scrollMouseEnter(b)})("valueChanged",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext(2).onVerticalScrollChanged(b)})("scrollStart",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext(2).onVerticalScrollStart(b)})("scrollEnd",
function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext(2).onVerticalScrollEnd(b)});i0.\u0275\u0275elementEnd()}if(e&2){var b=i0.\u0275\u0275nextContext(2);i0.\u0275\u0275property("enabled",b.enabled)("value",b.currentScrollPos.y)("max",b.maxScrollPos.y)("largeChange",b.scrollLargeChange.y)("height",b.scrollBarSize.height)}}
function IntegralUITreeView_span_3_iui_scrollbar_6_Template(e,d){if(e&1){var a=i0.\u0275\u0275getCurrentView();i0.\u0275\u0275elementStart(0,"iui-scrollbar",35,36);i0.\u0275\u0275listener("mouseenter",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext(2).scrollMouseEnter(b)})("valueChanged",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext(2).onHorizontalScrollChanged(b)})("scrollStart",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext(2).onHorizontalScrollStart(b)})("scrollEnd",
function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext(2).onHorizontalScrollEnd(b)});i0.\u0275\u0275elementEnd()}if(e&2){var b=i0.\u0275\u0275nextContext(2);i0.\u0275\u0275property("enabled",b.enabled)("orientation",b.horScrollOrientation)("value",b.currentScrollPos.x)("max",b.maxScrollPos.x)("width",b.scrollBarSize.width)}}function IntegralUITreeView_span_3_div_7_Template(e,d){e&1&&i0.\u0275\u0275element(0,"div",37)}var _c18=function(e,d,a){return{width:e,height:d,"margin-left":a}};
function IntegralUITreeView_span_3_Template(e,d){if(e&1){var a=i0.\u0275\u0275getCurrentView();i0.\u0275\u0275elementStart(0,"span");i0.\u0275\u0275elementStart(1,"ul",5);i0.\u0275\u0275listener("touchstart",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext().ctrlTouchStart(b)})("touchend",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext().ctrlTouchEnd(b)});i0.\u0275\u0275template(2,IntegralUITreeView_span_3_li_2_Template,5,7,"li",6);i0.\u0275\u0275elementEnd();
i0.\u0275\u0275template(3,IntegralUITreeView_span_3_div_3_Template,3,13,"div",7);i0.\u0275\u0275template(4,IntegralUITreeView_span_3_span_4_Template,2,1,"span",8);i0.\u0275\u0275template(5,IntegralUITreeView_span_3_iui_scrollbar_5_Template,2,5,"iui-scrollbar",9);i0.\u0275\u0275template(6,IntegralUITreeView_span_3_iui_scrollbar_6_Template,2,5,"iui-scrollbar",10);i0.\u0275\u0275template(7,IntegralUITreeView_span_3_div_7_Template,1,0,"div",11);i0.\u0275\u0275elementEnd()}if(e&2){var b=i0.\u0275\u0275nextContext();
i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngStyle",i0.\u0275\u0275pureFunction3(7,_c18,0==b.currentItemDisplay?"9999px":b.blockSize.width+"px",b.contentSize.height+"px",0-b.currentScrollPos.x+"px"));i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngForOf",b.scrollItemList);i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngIf",b.isHoverTemplatePresent&&!b.isUpdateActive&&b.hoverItemObj&&b.isContentAllowed(b.hoverItemObj.data,"hover"));i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngIf",
b.isSelectedTemplatePresent&&!b.isUpdateActive);i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngIf",b.isVerScrollVisible());i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngIf",b.isHorScrollVisible());i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngIf",b.isVerScrollVisible()&&b.isHorScrollVisible())}}
function IntegralUITreeView_span_4_iui_treeitem_2_Template(e,d){e&1&&i0.\u0275\u0275element(0,"iui-treeitem",40);if(e&2){var a=d.$implicit,b=i0.\u0275\u0275nextContext(2);i0.\u0275\u0275property("allowAnimation",b.getItemObject(a,"allowAnimation"))("enabled",b.getItemObject(a,"enabled"))("expanded",b.getItemObject(a,"expanded"))("text",b.getItemObject(a,"text"))("templateRef",b.itemData[0])("data",a)("items",b.getItemObject(a,"items"))("visible",b.getItemObject(a,"visible"))}}
function IntegralUITreeView_span_4_Template(e,d){e&1&&(i0.\u0275\u0275elementStart(0,"span"),i0.\u0275\u0275elementStart(1,"ul",38),i0.\u0275\u0275template(2,IntegralUITreeView_span_4_iui_treeitem_2_Template,1,8,"iui-treeitem",39),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd());if(e&2){var a=i0.\u0275\u0275nextContext();i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngStyle",a.getBlockStyle());i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngForOf",a.items)}}
var IntegralUITreeView=function(e){function d(a,b,c,d,l,h,g,k){var f=e.call(this,a,b,c,d,l,h)||this;f.dataService=a;f.dragDropService=b;f.elemRef=c;f.elemRenderer=d;f.commonService=l;f.filterService=h;f.cmpResolver=g;f.baseService=k;f.isThereChildItems=!1;f.expandTimeout=null;f.expandItem=null;f.currentItemDisplay=integralui_core_1.IntegralUIItemDisplayMode.Full;f.isExpandBoxVisible=!0;f.isLongestInProcess=!1;f.longestObj={data:null,width:0};f.isExpandBoxTouched=!1;f.tRef=null;f.autoExpand=!1;f.afterCollapse=
new core_1.EventEmitter;f.afterExpand=new core_1.EventEmitter;f.beforeCollapse=new core_1.EventEmitter;f.beforeExpand=new core_1.EventEmitter;f.itemList=[];return f}__extends(d,e);Object.defineProperty(d.prototype,"compactMode",{get:function(){return this.options.compactMode},set:function(a){this.options.compactMode!=a&&(this.options.compactMode=a,this.updateLayout())},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"indent",{get:function(){return this.options.indent},set:function(a){this.options.indent!=
a&&(this.options.indent=a,this.updateLayout())},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"itemDisplay",{get:function(){return this.currentItemDisplay},set:function(a){this.currentItemDisplay!=a&&(this.currentItemDisplay=a,this.updateLayout())},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"showExpandBox",{get:function(){return this.isExpandBoxVisible},set:function(a){this.isExpandBoxVisible!=a&&(this.isExpandBoxVisible=a,this.updateLayout())},enumerable:!0,
configurable:!0});d.prototype.ngOnInit=function(){this.baseService.setComponent(this);this.updateData();this.updateCurrentList();this.generalClassName="iui-treeview";this.itemClassName="iui-treeitem";this.itemContentClassName=this.itemClassName+"-content";this.expandBoxClassName=this.itemClassName+"-expand-box";this.initStyle()};d.prototype.updateData=function(){this.dataService.init([{data:this.items,fields:this.options.dataFields}])};d.prototype.initStyle=function(){this.defaultStyle={general:{disabled:this.generalClassName+
"-disabled",focused:this.generalClassName+"-focused",normal:this.generalClassName,hovered:this.generalClassName+"-hovered",selected:this.generalClassName+"-selected"},item:{general:{disabled:this.itemClassName+"-disabled",focused:this.itemClassName+"-focused",normal:this.itemClassName,hovered:this.itemClassName+"-hovered",selected:this.itemClassName+"-selected"},expandBox:{general:this.expandBoxClassName,load:this.expandBoxClassName+"-load",expanded:this.expandBoxClassName+"-open",collapsed:this.expandBoxClassName+
"-close"},content:{disabled:this.itemContentClassName+"-disabled",focused:this.itemContentClassName+"-focused",normal:this.itemContentClassName,hovered:this.itemContentClassName+"-hovered",selected:this.itemContentClassName+"-selected"}}};this.updateStyle(this.controlStyle);this.updateControlClass();this.refresh()};d.prototype.ngAfterViewInit=function(){var a=this,b=setTimeout(function(){var c=a.cmpResolver.resolveComponentFactory(integralui_core_1.IntegralUITComponent);c&&a.contentRef&&(a.tRef=a.contentRef.createComponent(c));
clearTimeout(b)},100);a.updateLayout()};d.prototype.ngAfterContentInit=function(){this.templateList=this.templates.toArray();this.isSelectedTemplatePresent=this.isHoverTemplatePresent=!1;if(0<this.templateList.length)for(var a=0;a<this.templateList.length;a++){if(this.templateList[a].settings)switch(this.templateList[a].settings.type){case "item":this.itemData.push(this.templateList[a].getTemplate());break;case "item-hover":this.itemHoverData.push(this.templateList[a].getTemplate());this.isHoverTemplatePresent=
!0;break;case "item-select":this.itemSelectData.push(this.templateList[a].getTemplate()),this.isSelectedTemplatePresent=!0}}else this.itemData.push(this.itemTemplate);this.updateBlockSize()};d.prototype.ngOnDestroy=function(){this.removeDropMark();this.expandTimeout&&clearTimeout(this.expandTimeout);this.resetLayoutTimer();this.tRef&&this.tRef.destroy()};d.prototype.ngAfterContentChecked=function(){this.clientRect={width:this.elemRef.nativeElement.firstElementChild.clientWidth,height:this.elemRef.nativeElement.firstElementChild.clientHeight};
this.clientRect.width!=this.prevClientRect.width?(this.updateLayout(),this.prevClientRect.width=this.clientRect.width):this.clientRect.height!=this.prevClientRect.height&&(this.updateLayout(),this.prevClientRect.height=this.clientRect.height)};d.prototype.ngAfterViewChecked=function(){};d.prototype.checkForChildren=function(a){var b=!1;if(a=a[this.options.dataFields.items])for(var c=0;c<a.length;c++)if(this.isItemAllowed(a[c])){b=!0;break}return b};d.prototype.updateIsThereChildItems=function(){var a=
!1,b=this.dataService.getList();if(b)for(var c=0;c<b.length&&!(a=this.checkForChildren(b[c]));c++);this.isThereChildItems=a};d.prototype.processItemAdd=function(a,b){this.allowUpdate&&this.updateIsThereChildItems()};d.prototype.processItemRemoval=function(a,b){this.allowUpdate&&this.updateIsThereChildItems()};d.prototype.itemDblClickEvent=function(a,b){if(this.isEnabled){var c={cancel:!1,event:a,item:b.data};this.itemDblClick.emit(c);1!=c.cancel&&this.toggle(b.data)}};d.prototype.updateOptions=function(a){a?
(this.options={allowDrag:this.commonService.isFieldAvailable(a.allowDrag,!1),allowDrop:this.commonService.isFieldAvailable(a.allowDrop,!0),compactMode:this.commonService.isFieldAvailable(a.compactMode,!1),dataFields:null,indent:this.commonService.isFieldAvailable(a.indent,15),loadItems:[],selectedItem:this.commonService.isFieldAvailable(a.selectedItem,this.options.selectedItem?this.options.selectedItem:null)},this.updateShowScroll(a.showScroll)):(this.options={allowDrag:!1,allowDrop:!0,compactMode:!1,
dataFields:null,indent:15,loadItems:[],selectedItem:null},this.updateDataFields(),this.updateShowScroll())};d.prototype.updateDataFields=function(a){this.options.dataFields=a?{allowDrag:a.allowDrag?a.allowDrag:"allowDrag",allowDrop:a.allowDrop?a.allowDrop:"allowDrop",allowEdit:a.allowEdit?a.allowEdit:"allowEdit",allowFocus:a.allowFocus?a.allowFocus:"allowFocus",autoCheck:a.autoCheck?a.autoCheck:"autoCheck",checkBoxSettings:a.checkBoxSettings?a.checkBoxSettings:"checkBoxSettings",checked:a.checked?
a.checked:"checked",checkState:a.checkState?a.checkState:"checkState",content:a.content?a.content:"content",contentVisibility:a.contentVisibility?a.contentVisibility:"contentVisibility",contextMenu:a.contextMenu?a.contextMenu:"contextMenu",enabled:a.enabled?a.enabled:"enabled",expanded:a.expanded?a.expanded:"expanded",hasChildren:a.hasChildren?a.hasChildren:"hasChildren",icon:a.icon?a.icon:"icon",id:a.id?a.id:"id",items:a.items?a.items:"items",pid:a.pid?a.pid:"pid",selected:a.selected?a.selected:
"selected",statusIcon:a.statusIcon?a.statusIcon:"statusIcon",style:a.style?a.style:"style",templateObj:a.templateObj?a.templateObj:"templateObj",text:a.text?a.text:"text",tooltip:a.tooltip?a.tooltip:"tooltip",value:a.value?a.value:"value",visible:a.value?a.visible:"visible"}:{allowDrag:"allowDrag",allowDrop:"allowDrop",allowEdit:"allowEdit",allowFocus:"allowFocus",autoCheck:"autoCheck",checkBoxSettings:"checkBoxSettings",checked:"checked",checkState:"checkState",content:"content",contentVisibility:"contentVisibility",
contextMenu:"contextMenu",enabled:"enabled",expanded:"expanded",hasChildren:"hasChildren",icon:"icon",id:"id",items:"items",pid:"pid",selected:"selected",statusIcon:"statusIcon",style:"style",templateObj:"templateObj",text:"text",tooltip:"tooltip",value:"value",visible:"visible"};this.dataService&&this.dataService.updateDataFields(this.options.dataFields)};d.prototype.updateCurrentList=function(){var a=this;a.currentList.length=0;a.isThereChildItems=!1;var b=a.dataService.getList();1==a.options.compactMode&&
(b=a.createCompactList(b));b&&(a.applySorting(b),b.forEach(function(b){a.addChildItems(b,0,null,!1)}))};d.prototype.addChildItems=function(a,b,c,d,e){var f=this,l=!0;if(!a[f.options.dataFields.items])return l=f.addItemToCurrentList(a,b,c,d,e);if(l=f.addItemToCurrentList(a,b,c,d,e)){var k=0,m=!0;if(d||f.isItemExpanded(a))if(c=a[f.options.dataFields.items])f.applySorting(c),c.forEach(function(c){(m=f.addChildItems(c,b+f.options.indent,a[f.options.dataFields.id],d,a))&&k++});d||f.isThereChildItems||
!(0<k||!f.isItemExpanded(a)&&a[f.options.dataFields.items]&&0<a[f.options.dataFields.items].length&&f.isThereVisibleChildren(a))||(f.isThereChildItems=!0)}return l};d.prototype.addItemToCurrentList=function(a,b,c,d,e){a.type="item";a[this.options.dataFields.id]||(a[this.options.dataFields.id]=this.commonService.getUniqueId());c&&(a[this.options.dataFields.pid]=c);(c=this.isItemAllowed(a))&&(d?this.fullList.push(a):this.currentList.push({data:a,indent:b}));return c};d.prototype.resetVisiblity=function(a){if(a)for(var b=
0;b<a.length;b++)a[b][this.options.dataFields.visible]=!0,this.resetVisiblity(a[b][this.options.dataFields.items])};d.prototype.collapseChildren=function(a){if(a)for(var b=0;b<a.length;b++)a[b][this.options.dataFields.expanded]=!1,this.collapseChildren(a[b][this.options.dataFields.items])};d.prototype.createCompactList=function(a){this.resetVisiblity(a);if(this.selectedItem){var b=this.selectedItem,c=this.getItemParent(this.selectedItem),d=c,e=this.selectedItem;this.collapseChildren(e[this.options.dataFields.items]);
if(c)for(;c;){for(var h=c[this.options.dataFields.items],g=0;g<h.length;g++)this.commonService.isEqual(h[g][this.options.dataFields.id],e[this.options.dataFields.id])||(h[g][this.options.dataFields.expanded]=!1,h[g][this.options.dataFields.visible]=this.isItemExpanded(e)&&this.isThereVisibleChildren(e)?!1:!0);(h=this.getItemParent(c))||(b=c);e=c;c=h}for(g=0;g<a.length;g++)this.commonService.isEqual(a[g][this.options.dataFields.id],b[this.options.dataFields.id])||(a[g][this.options.dataFields.visible]=
d&&this.isItemExpanded(b)?!1:this.isItemExpanded(e)&&this.isThereVisibleChildren(this.selectedItem)?!1:!0)}return a};d.prototype.loadData=function(a,b,c,d){this.processLoadData(a,b,c,d)};d.prototype.updateItem=function(a){var b=this;if(a&&this.isItemExpanded(a))var c=setTimeout(function(){var d=b.getComponentFromItem(a);d&&!d.isBlockExpanded()&&d.toggleContent();clearTimeout(c)},100)};d.prototype.updateScrollItemList=function(){for(var a=this.scrollItemList.length=0,b=this.currentIndex;b<this.currentList.length&&
b<this.currentIndex+this.visibleRange;b++,a++){var c=this.currentList[b];c={data:c.data,indent:c.indent,index:b-this.currentIndex,inlineStyle:this.getItemInlineStyle(c),style:{},tabIndex:a};this.updateItemStyle(c);this.scrollItemList.push(c)}};d.prototype.expandOnDelay=function(a){var b=this;0!=b.autoExpand&&(b.expandItem!=a&&(b.expandTimeout&&clearTimeout(b.expandTimeout),b.expandTimeout=setTimeout(function(){b.expandTimeout&&b.expand(a);clearTimeout(b.expandTimeout)},500)),b.expandItem=a)};d.prototype.itemDragOver=
function(a,b,c,d){if(this.isEnabled){var e=this.getItemElemList();e&&0<=c&&c<e.length&&(c=this.commonService.getPageRect(e[c].nativeElement),c={x:c.left,y:c.top,width:c.right-c.left,height:c.bottom-c.top},this.expandOnDelay(b.data),this.processScroll(a),this.isScrollTimerActive||this.processDragOver(a,b.data,c,d))}a.stopPropagation()};d.prototype.itemDragDrop=function(a,b){this.isEnabled&&(this.expandItem=null,this.expandTimeout&&clearTimeout(this.expandTimeout),this.processDragDrop(a,b.data));a.stopPropagation()};
d.prototype.collapse=function(a){this.toggle(a,!1)};d.prototype.expand=function(a){this.toggle(a,!0)};d.prototype.expandBoxMouseDown=function(a,b){this.isEnabled&&(1!=a.buttons||this.isExpandBoxTouched||this.toggle(b),this.isExpandBoxTouched=!1);a.stopPropagation()};d.prototype.expandBoxMouseUp=function(a){this.isExpandBoxTouched=!1;a.stopPropagation()};d.prototype.expandBoxTouchStart=function(a,b){this.isEnabled&&(this.isExpandBoxTouched=!0,this.toggle(b));a.stopPropagation()};d.prototype.expandBoxTouchEnd=
function(a,b){};d.prototype.toggle=function(a,b){if(a){if((a[this.options.dataFields.hasChildren]||a[this.options.dataFields.items]&&0!=a[this.options.dataFields.items].length)&&!(b&&0!=a[this.options.dataFields.expanded]||!1===b&&0==a[this.options.dataFields.expanded])){var c=void 0!==b?b:!1!==a[this.options.dataFields.expanded]?!0:!1,d=void 0!=b?b:!c;if(0!=this.virtualMode){var e={cancel:!1,item:a};void 0!==b?b?this.beforeExpand.emit(e):this.beforeCollapse.emit(e):c?this.beforeCollapse.emit(e):
this.beforeExpand.emit(e);1!=e.cancel&&(d!=a[this.options.dataFields.expanded]&&(a[this.options.dataFields.expanded]=d,1==this.options.compactMode&&this.processSelection(null,a),this.updateCurrentLayout(!1)),this.isItemExpanded(a)?this.afterExpand.emit({item:a}):this.afterCollapse.emit({item:a}))}else if(c=this.getComponentFromItem(a))c.expanded=d}}else if(0!=this.virtualMode){d=this.getFullList();for(c=0;c<d.length;c++)d[c][this.options.dataFields.expanded]=b;this.updateCurrentLayout(!1)}else(this.itemList=
this.contentList.toArray())&&0<this.itemList.length&&this.itemList.forEach(function(a){a.toggle(b,!0)})};d.prototype.exportToJSON=function(a,b,c){b=b?b:null;var d=0==c?this.items:this.getFullList();a=a?a:[this.options.dataFields.allowDrag,this.options.dataFields.allowDrop,this.options.dataFields.allowEdit,this.options.dataFields.allowFocus,this.options.dataFields.autoCheck,this.options.dataFields.canSelect,this.options.dataFields.checkBoxSettings,this.options.dataFields.checked,this.options.dataFields.checkState,
this.options.dataFields.content,this.options.dataFields.contextMenu,this.options.dataFields.contentVisibility,this.options.dataFields.enabled,this.options.dataFields.expanded,this.options.dataFields.fixed,this.options.dataFields.fixChildren,this.options.dataFields.hasChildren,this.options.dataFields.icon,this.options.dataFields.id,this.options.dataFields.pid,this.options.dataFields.selected,this.options.dataFields.showCheckBox,this.options.dataFields.statusIcon,this.options.dataFields.style,this.options.dataFields.templateObj,
this.options.dataFields.text,this.options.dataFields.tooltip,this.options.dataFields.value,this.options.dataFields.visible];!1===c&&a.push(this.options.dataFields.items);return JSON.stringify(d,a,b)};d.prototype.getDisplayMode=function(){return this.currentItemDisplay!=integralui_core_1.IntegralUIItemDisplayMode.Partial||this.isHoverTemplatePresent||this.isSelectedTemplatePresent?integralui_core_1.IntegralUIItemDisplayMode.Full:integralui_core_1.IntegralUIItemDisplayMode.Partial};d.prototype.updateFullList=
function(){this.fullList.length=0;var a=this.dataService.getList();if(a)for(var b=0;b<a.length;b++)this.addChildItems(a[b],0,null,!0);return this.fullList};d.prototype.getItemElemList=function(){return this.itemElems?this.itemElems.toArray():null};d.prototype.getItemContentElemList=function(){return this.itemContentElems?this.itemContentElems.toArray():null};d.prototype.getItemFromComponent=function(a){return a&&a.data?a.data:this.items&&(this.itemList=this.contentList.toArray(),a=this.itemList.indexOf(a),
0<=a&&a<this.items.length)?this.items[a]:null};d.prototype.getItemIndex=function(a){return this.itemList&&0<this.itemList.length?this.itemList.indexOf(a):-1};d.prototype.getItemLevel=function(a){var b=0;for(a=this.getItemParent(a);a;)b++,a=this.getItemParent(a);return b};d.prototype.getItemObject=function(a,b){switch(b){case "allowAnimation":return this.allowAnimation;case "enabled":return a[this.options.dataFields.enabled];case "expanded":return a[this.options.dataFields.expanded];case "items":return a[this.options.dataFields.items];
case "text":return a[this.options.dataFields.text];case "visible":return a[this.options.dataFields.visible]||!0}return null};d.prototype.getItemParent=function(a){return this.dataService.getParent(a)};d.prototype.getList=function(a,b){switch(a){case "current":return this.currentList;case "selected":return this.currentSelectedItems}return this.dataService.getList(b)};d.prototype.isChildOf=function(a,b){var c=!1;if(a&&b){var d=b[this.options.dataFields.items];if(d&&0<d.length)for(var e=0;e<d.length;e++){if(this.commonService.isEqual(a[this.options.dataFields.id],
d[e][this.options.dataFields.id])){c=!0;break}else c=this.isChildOf(a,d[e]);if(c)break}}return c};d.prototype.isParentOf=function(a,b){var c=this.dataService.getParent(b);return a&&b&&c&&this.commonService.isEqual(a[this.options.dataFields.id],c[this.options.dataFields.id])?!0:!1};d.prototype.isThereChildren=function(){return this.isThereChildItems};d.prototype.isItemExpanded=function(a){return a?a[this.options.dataFields.expanded]||void 0===a[this.options.dataFields.expanded]?!0:!1:!0};d.prototype.isThereVisibleChildren=
function(a){var b=!1;if(a&&(a=a[this.options.dataFields.items]))for(var c=0;c<a.length;c++)if(this.isItemAllowed(a[c])){b=!0;break}return b};d.prototype.invokeEvent=function(a,b){var c=!0;if(this.isEnabled&&b){var d={cancel:!1,item:b};switch(a){case "AFTER_COLLAPSE":this.afterCollapse.emit({item:b});break;case "AFTER_EXPAND":this.afterExpand.emit({item:b});break;case "BEFORE_COLLAPSE":this.beforeCollapse.emit(d);c=!d.cancel;break;case "BEFORE_EXPAND":this.beforeExpand.emit(d);c=!d.cancel;break;case "ITEM_HOVER":this.itemHover.emit({item:b})}}return c};
d.prototype.invokeMethod=function(a,b){var c=!0;if(this.isEnabled&&b)switch(a){case "CHANGE_EXPANDED":this.changeExpanded(b.component);break;case "SELECT_ITEM":c=this.processSelection(b.event,b.item);break;case "UPDATE_SELECTION":this.updateSelection(b.event,b.item)}return c};d.prototype.changeExpanded=function(a){a&&a.data&&(a.data[this.options.dataFields.expanded]=a.expanded)};d.prototype.getItemRealIndex=function(a){var b=this.dataService.getList();return b?b.indexOf(a):-1};d.prototype.getPrevItem=
function(a){var b=null;if(a){var c=this.dataService.getList(),d=this.getItemParent(a);d&&(c=d[this.options.dataFields.items]);a=c.indexOf(a);a=0<a?a-1:-1;0<=a&&(b=c[a])}return b};d.prototype.getNextItem=function(a){var b=null;if(a){var c=this.dataService.getList(),d=this.getItemParent(a);d&&(c=d[this.options.dataFields.items]);a=c.indexOf(a);a=a<c.length-1?a+1:-1;0<=a&&(b=c[a])}return b};d.prototype.moveItem=function(a,b,c,d){if(a){this.allowUpdate=!1;var e=-1;switch(b){case integralui_core_1.IntegralUIMoveDirection.At:e=
d;break;case integralui_core_1.IntegralUIMoveDirection.Down:c=this.getNextItem(a);break;case integralui_core_1.IntegralUIMoveDirection.First:e=0;break;case integralui_core_1.IntegralUIMoveDirection.Last:e=this.getLastItemIndex();break;case integralui_core_1.IntegralUIMoveDirection.Left:c=this.getItemParent(a);break;case integralui_core_1.IntegralUIMoveDirection.Right:c=this.getPrevItem(a);break;case integralui_core_1.IntegralUIMoveDirection.Up:c=this.getPrevItem(a)}if(Array.isArray(a)){d=[];for(var f=
0;f<a.length;f++){for(var g=!1,k=this.getItemParent(a[f]);k;){if(0<=a.indexOf(k)){g=!0;break}k=this.getItemParent(k)}g||d.push(a[f])}if(0<d.length)if(a=this.getItemCurrentIndex(d[0]),f=this.getItemCurrentIndex(d[d.length-1]),a<=f)for(f=0;f<d.length;f++)this.moveItemAt(d[f],c,b,e);else for(f=d.length-1;0<=f;f--)this.moveItemAt(d[f],c,b,e)}else this.moveItemAt(a,c,b,e);this.allowUpdate=!0;this.updateCurrentLayout(!0);this.change.emit({type:"move-item"})}};d.prototype.processLeftArrowKey=function(a,
b){this.collapse(a.data);return null};d.prototype.processRightArrowKey=function(a,b){this.expand(a.data);return null};d.prototype.getContentSize=function(){return this.contentElem?{width:this.contentElem.nativeElement.offsetWidth,height:this.contentElem.nativeElement.offsetHeight}:{width:0,height:0}};d.prototype.getComponentFromItem=function(a){var b=null;if((this.itemList=this.contentList.toArray())&&0<this.itemList.length)for(var c=0;!b&&c<this.itemList.length;){b=this.itemList[c];if(this.getItemFromComponent(b)==
a)break;else b=b.getComponentFromItem(a);c++}return b};d.prototype.updateBlockSize=function(){if(this.currentItemDisplay==integralui_core_1.IntegralUIItemDisplayMode.Partial)if(0!=this.virtualMode)this.updateLongestItem();else{if(this.contentList){var a=0;if(this.itemList=this.contentList.toArray())for(var b,c=0;c<this.itemList.length;c++)b=this.itemList[c].getSize(),a<b.width&&(a=b.width);this.blockSize={width:a>this.clientRect.width-2?a+16:this.clientRect.width-2,height:this.clientRect.height}}}else this.blockSize=
{width:this.scrollBarSize.width+2,height:this.scrollBarSize.height+2},this.longestItemWidthValue=this.getFullItemWidth()};d.prototype.isItemInCurrentList=function(a){var b=!1;if(a)for(var c=0;c<this.currentList.length;c++)if(this.currentList[c].data.id==a.id){b=!0;break}return b};d.prototype.getFullItemWidth=function(){return this.isLongestInProcess||0!=this.currentItemDisplay||!this.isHoverTemplatePresent&&!this.isSelectedTemplatePresent?"auto":this.longestItemWidth+"px"};d.prototype.updateLongestItem=
function(){var a=this;a.isLongestInProcess=!0;a.prevLongestItemWidth=a.longestObj&&a.isItemInCurrentList(a.longestObj.data)?a.longestObj.width:0;setTimeout(function(){a.longestObj&&!a.isItemInCurrentList(a.longestObj.data)&&(a.longestObj={data:null,width:0});var b=a.getItemContentElemList();b&&(a.calcLongestItem(b),a.prevLongestItemWidth<a.clientRect.width&&(a.prevLongestItemWidth=a.clientRect.width));b=a.commonService.getPadding(a.elemRef.nativeElement.firstElementChild);a.blockSize.width=a.longestObj.width+
(b.left+b.right);a.isLongestInProcess=!1;a.longestItemWidth=a.prevLongestItemWidth;a.longestItemWidthValue=a.getFullItemWidth();a.updateScrollSize()},1)};d.prototype.calcLongestItem=function(a,b){for(var c=0,d=0;d<a.length;d++)if(d<this.scrollItemList.length){var e=this.getObjFromItem(this.scrollItemList[d].data);if(e){var h=a[d].nativeElement.offsetWidth+e.indent;if(!b&&this.longestObj.data==e.data){this.calcLongestItem(a,!0);break}c<h&&h>=this.longestObj.width&&(c=h,this.longestObj={data:e.data,
width:c},this.longestItemWidth=c)}}};d.prototype.updateCurrentLayout=function(a){var b=this;b.allowUpdate&&(b.resetLayoutTimer(),b.updateCurrentList(),a&&b.updateFullList(),b.updateScrollItemList(),this.currentItemDisplay==integralui_core_1.IntegralUIItemDisplayMode.Partial&&0!=this.virtualMode?b.updateLongestItem():b.updateScrollSize(),b.updateTimer=setTimeout(function(){b.updateBlockSize();b.updateHoverContentPos();b.updateSelectContentPos();clearTimeout(b.updateTimer)},1))};d.prototype.updateScrollSize=
function(){this.contentSize={width:this.clientRect.width-2,height:this.clientRect.height-2};this.scrollSize={width:this.currentItemDisplay==integralui_core_1.IntegralUIItemDisplayMode.Partial?this.blockSize.width-this.clientRect.width-2:0,height:this.avgItemHeight*this.currentList.length-this.clientRect.height+this.avgItemHeight};this.isVerScrollVisible()&&(this.contentSize.width-=18);this.currentItemDisplay==integralui_core_1.IntegralUIItemDisplayMode.Partial&&-6<=this.scrollSize.width&&(this.isVerScrollVisible()&&
(this.scrollSize.width+=16),this.isHoverTemplatePresent||this.isSelectedTemplatePresent)&&(this.scrollSize.width+=4);this.isHorScrollVisible()&&(this.scrollSize.height+=16);this.scrollSize.width=0<this.scrollSize.width?this.scrollSize.width:0;this.scrollSize.height=0<this.scrollSize.height?this.scrollSize.height:0;this.maxScrollPos={x:this.scrollSize.width,y:this.scrollSize.height};this.currentScrollPos.x>this.maxScrollPos.x&&this.changeHorizontalScrollPos(this.maxScrollPos.x);this.currentScrollPos.y>
this.maxScrollPos.y&&this.changeVerticalScrollPos(this.maxScrollPos.y);this.scrollBarSize={width:this.isVerScrollVisible()?this.clientRect.width-20:this.clientRect.width-4,height:this.isHorScrollVisible()?this.clientRect.height-20:this.clientRect.height-4};this.scrollLargeChange={x:this.scrollBarSize.width,y:this.scrollBarSize.height};this.blockHoverRect={height:this.avgItemHeight-2,left:0,top:-9999999,width:this.clientRect.width-2};var a=this.avgItemHeight-2,b=this.clientRect.width-2;this.isVerScrollVisible()&&
(this.blockHoverRect.width-=16,b-=16);this.blockSelectRect.map(function(c){c.width=b;c.height=a})};d.prototype.beginLoad=function(a){a&&0>this.options.loadItems.indexOf(a)&&this.options.loadItems.push(a)};d.prototype.endLoad=function(a){a=this.options.loadItems.indexOf(a);0<=a&&this.options.loadItems.splice(a,1);this.updateCurrentLayout(!0)};d.prototype.isItemLoading=function(a){return 0<=this.options.loadItems.indexOf(a)?!0:!1};d.prototype.isVerScrollVisible2=function(){return this.isEnabled&&this.options.showScroll.vertical&&
this.scrollSize.height>this.avgItemHeight/2?!0:!1};d.prototype.scrollTo=function(a){if(0!=this.virtualMode&&a){this.suspendLayout();for(var b=this.getItemParent(a);null!=b;)this.expand(b),b=this.getItemParent(b);this.resumeLayout();var c=this,d=setTimeout(function(){var b=c.getItemCurrentIndex(a);0<=b&&(c.scrollPos({x:c.currentScrollPos.x,y:c.avgItemHeight*(b-Math.floor(c.visibleRange/2))}),c.updateLayout());clearTimeout(d)},150)}};d.prototype.callAfterSelectEvent=function(a){var b={item:a};this.afterSelect.emit(b);
this.selectionChanged.emit(b);1==this.options.compactMode&&(this.getItemParent(a)&&(a[this.options.dataFields.expanded]=!0),this.updateLayout())};d.prototype.clearComponentSelection=function(){this.contentList&&(this.itemList=this.contentList.toArray())&&0<this.itemList.length&&this.itemList.forEach(function(a){a.state&=~integralui_core_1.IntegralUIObjectState.selected;a.clearComponentSelection()})};d.prototype.getControlStyle=function(){var a={cursor:this.ctrlCursor,overflow:this.virtualMode?"hidden":
"auto"};0<this.ctrlSize.width&&(a.width=this.ctrlSize.width+"px");0<this.ctrlSize.height&&(a.height=this.ctrlSize.height+"px");return a};d.prototype.getBlockStyle=function(){var a={};this.currentItemDisplay==integralui_core_1.IntegralUIItemDisplayMode.Partial&&(a={width:this.blockSize.width+"px"});return a};d.prototype.getItemInlineStyle=function(a){return a.data[this.options.dataFields.style]||{}};d.prototype.getItemInlineContentStyle=function(a){var b={};b["padding-left"]=a.indent+"px";return b};
d.prototype.updateItemStyle=function(a){a&&(a.style={general:[],expandBox:[],content:[]},a.inlineStyle=this.getItemInlineStyle(a),a.inlineContentStyle=this.getItemInlineContentStyle(a),a.style.general.push(this.itemClassName),a.style.general.push(this.options.currentStyle.item.general.normal),a.style.content.push(this.itemContentClassName),a.style.content.push(this.options.currentStyle.item.content.normal),this.getDisplayMode()==integralui_core_1.IntegralUIItemDisplayMode.Partial?(a.style.content.push("iui-treeitem-content-block"),
this.isItemEnabled(a.data)?this.isItemSelected(a.data)?a.style.content.push(this.options.currentStyle.item.content.selected):this.isItemHovered(a.data)&&a.style.content.push(this.options.currentStyle.item.content.hovered):a.style.content.push(this.options.currentStyle.item.content.disabled)):(a.style.general.push("iui-treeitem-block"),this.isItemEnabled(a.data)?this.isItemSelected(a.data)?a.style.general.push(this.options.currentStyle.item.general.selected):this.isItemHovered(a.data)&&a.style.general.push(this.options.currentStyle.item.general.hovered):
a.style.general.push(this.options.currentStyle.item.general.disabled)),a.data==this.currentFocusItem&&a.style.content.push(this.options.currentStyle.item.content.focused),(this.isThereChildItems||a.data[this.options.dataFields.hasChildren])&&a.style.expandBox.push(this.options.currentStyle.item.expandBox.general),a.data[this.options.dataFields.hasChildren]&&(this.isThereVisibleChildren(a.data)||!a.data[this.options.dataFields.items]||a.data[this.options.dataFields.items]&&0==a.data[this.options.dataFields.items].length)||
this.isThereVisibleChildren(a.data))&&(this.isItemLoading(a.data)?a.style.expandBox.push(this.options.currentStyle.item.expandBox.load):0!=a.data[this.options.dataFields.expanded]?a.style.expandBox.push(this.options.currentStyle.item.expandBox.expanded):a.style.expandBox.push(this.options.currentStyle.item.expandBox.collapsed))};d.prototype.getItemStyle=function(a){return a?{general:this.getItemGeneralStyle(a.general),expandBox:this.getItemExpandBoxStyle(a.expandBox),content:this.getItemContentStyle(a.content)}:
this.getDefaultItemStyle()};d.prototype.getItemExpandBoxStyle=function(a){return this.commonService.isString(a)?a:a?{general:this.commonService.isFieldAvailable(a.disabled,this.expandBoxClassName),load:this.commonService.isFieldAvailable(a.focused,this.expandBoxClassName+"-load"),expanded:this.commonService.isFieldAvailable(a.normal,this.expandBoxClassName+"-open"),collapsed:this.commonService.isFieldAvailable(a.hovered,this.expandBoxClassName+"-close")}:this.getDefaultItemExpandBoxStyle()};d.prototype.getDefaultItemStyle=
function(){return{general:this.getDefaultItemGeneralStyle(),expandBox:this.getDefaultItemExpandBoxStyle(),content:this.getDefaultItemContentStyle()}};d.prototype.getDefaultItemExpandBoxStyle=function(){return{general:this.defaultStyle.item.expandBox.general,load:this.defaultStyle.item.expandBox.load,expanded:this.defaultStyle.item.expandBox.expanded,collapsed:this.defaultStyle.item.expandBox.collapsed}};d.prototype.resetRefresh=function(){this.refreshTimer&&clearTimeout(this.refreshTimer);this.refreshTimer=
null};d.prototype.refresh=function(a){if(this.allowUpdate)if(this.resetRefresh(),0!=this.virtualMode)for(this.updateControlClass(),a=0;a<this.scrollItemList.length;a++)this.updateItemStyle(this.scrollItemList[a]);else{this.clearComponentSelection();for(a=0;a<this.currentSelectedItems.length;a++){var b=this.getComponentFromItem(this.currentSelectedItems[a]);b&&(b.state|=integralui_core_1.IntegralUIObjectState.selected)}if(this.contentList)for(this.itemList=this.contentList.toArray(),a=0;a<this.itemList.length;a++)this.itemList[a].refresh()}};
d.\u0275fac=function(a){return new (a||d)(i0.\u0275\u0275directiveInject(i1.IntegralUIDataService),i0.\u0275\u0275directiveInject(i2.IntegralUIDragDropService),i0.\u0275\u0275directiveInject(i0.ElementRef),i0.\u0275\u0275directiveInject(i0.Renderer2),i0.\u0275\u0275directiveInject(i3.IntegralUICommonService),i0.\u0275\u0275directiveInject(i4.IntegralUIFilterService),i0.\u0275\u0275directiveInject(i0.ComponentFactoryResolver),i0.\u0275\u0275directiveInject(i5.IntegralUIBaseService))};d.\u0275cmp=i0.\u0275\u0275defineComponent({type:d,
selectors:[["iui-treeview"]],contentQueries:function(a,b,c){a&1&&(i0.\u0275\u0275contentQuery(c,core_1.TemplateRef,!0),i0.\u0275\u0275contentQuery(c,integralui_core_1.IntegralUITemplate,!0));if(a&2){var d;i0.\u0275\u0275queryRefresh(d=i0.\u0275\u0275loadQuery())&&(b.itemTemplate=d.first);i0.\u0275\u0275queryRefresh(d=i0.\u0275\u0275loadQuery())&&(b.templates=d)}},viewQuery:function(a,b){a&1&&(i0.\u0275\u0275viewQuery(_c0,!0,core_1.ViewContainerRef),i0.\u0275\u0275viewQuery(_c0,!0,core_1.ElementRef),
i0.\u0275\u0275viewQuery(_c1,!0),i0.\u0275\u0275viewQuery(_c2,!0),i0.\u0275\u0275viewQuery(integralui_treeitem_1.IntegralUITreeItem,!0),i0.\u0275\u0275viewQuery(_c3,!0,core_1.ElementRef),i0.\u0275\u0275viewQuery(_c4,!0,core_1.ElementRef));if(a&2){var c;i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.contentRef=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.contentElem=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.verScrollCmp=c.first);
i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.horScrollCmp=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.contentList=c);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.itemElems=c);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.itemContentElems=c)}},inputs:{allowDrag:"allowDrag",allowDrop:"allowDrop",allowFilter:"allowFilter",allowFocus:"allowFocus",appRef:"appRef",controlStyle:"controlStyle",data:"data",enabled:"enabled",items:"items",
name:"name",selectedItem:"selectedItem",selectionMode:"selectionMode",size:"size",sorting:"sorting",state:"state",virtualMode:"virtualMode",autoExpand:"autoExpand",compactMode:"compactMode",indent:"indent",itemDisplay:"itemDisplay",showExpandBox:"showExpandBox"},outputs:{afterSelect:"afterSelect",beforeEdit:"beforeEdit",beforeSelect:"beforeSelect",change:"change",clear:"clear",dragEnter:"dragEnter",dragDrop:"dragDrop",dragDropComplete:"dragDropComplete",dragLeave:"dragLeave",dragOver:"dragOver",itemAdding:"itemAdding",
itemAdded:"itemAdded",itemHover:"itemHover",itemRemoving:"itemRemoving",itemRemoved:"itemRemoved",keyDown:"keyDown",keyPress:"keyPress",keyUp:"keyUp",loadComplete:"loadComplete",scrollPosChanged:"scrollPosChanged",selectionChanged:"selectionChanged",updateComplete:"updateComplete",afterCollapse:"afterCollapse",afterExpand:"afterExpand",beforeCollapse:"beforeCollapse",beforeExpand:"beforeExpand"},features:[i0.\u0275\u0275ProvidersFeature([integralui_core_1.IntegralUIBaseService,integralui_data_service_1.IntegralUIDataService]),
i0.\u0275\u0275InheritDefinitionFeature],decls:5,vars:4,consts:[[3,"ngClass","ngStyle","DOMMouseScroll","mousewheel","mouseenter","mouseleave","mousemove","dragenter","dragleave","dragover","drop","dragend","scroll"],[3,"ngSwitch"],["content",""],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[2,"margin","0","padding","0",3,"ngStyle","touchstart","touchend"],[3,"ngClass","ngStyle",4,"ngFor","ngForOf"],["class","iui-treeview-block iui-treeview-block-hover",3,"ngStyle",4,"ngIf"],[4,"ngIf"],[3,"enabled","value",
"max","largeChange","height","mouseenter","valueChanged","scrollStart","scrollEnd",4,"ngIf"],[3,"enabled","orientation","value","max","width","mouseenter","valueChanged","scrollStart","scrollEnd",4,"ngIf"],["class","iui-scrollbar-corner","style","position:absolute;right:0;bottom:0;width:16px;height:16px;",4,"ngIf"],[3,"ngClass","ngStyle"],["itemElem",""],[3,"ngClass","ngStyle","mouseenter","mousemove","mouseleave",4,"ngIf"],["style","pointer-events:none;",4,"ngIf"],[3,"ngClass","ngStyle","mouseenter",
"mousemove","mouseleave"],["draggable","true",3,"ngStyle","mousedown","mouseup","dragstart","dragover","drop","touchstart","touchmove","touchend"],[3,"ngClass","tabindex","iuiFocus","ngStyle","focus","blur","keydown","keypress","keyup"],["itemContentElem",""],[2,"display","inline-block",3,"click","dblclick","contextmenu"],[3,"iuiTemplateOutlet","iuiTemplateOutletContext"],["class","iui-listitem-animate-select-block",3,"ngStyle",4,"ngIf"],[3,"ngClass","mousedown","mouseup","touchstart","touchend"],
[1,"iui-listitem-animate-select-block",3,"ngStyle"],[2,"pointer-events","none"],[1,"iui-treeview-item-empty-content",3,"ngClass"],[1,"iui-treeview-block","iui-treeview-block-hover",3,"ngStyle"],[3,"ngStyle","mousemove","mouseleave"],[4,"ngFor","ngForOf"],["class","iui-treeview-block iui-treeview-block-select",3,"ngStyle",4,"ngIf"],[1,"iui-treeview-block","iui-treeview-block-select",3,"ngStyle"],[3,"ngStyle"],[3,"enabled","value","max","largeChange","height","mouseenter","valueChanged","scrollStart",
"scrollEnd"],["verScroll",""],[3,"enabled","orientation","value","max","width","mouseenter","valueChanged","scrollStart","scrollEnd"],["horScroll",""],[1,"iui-scrollbar-corner",2,"position","absolute","right","0","bottom","0","width","16px","height","16px"],[2,"margin","0","padding","0",3,"ngStyle"],[3,"allowAnimation","enabled","expanded","text","templateRef","data","items","visible",4,"ngFor","ngForOf"],[3,"allowAnimation","enabled","expanded","text","templateRef","data","items","visible"]],template:function(a,
b){a&1&&(i0.\u0275\u0275elementStart(0,"div",0),i0.\u0275\u0275listener("DOMMouseScroll",function(a){return b.processMouseWheel(a)})("mousewheel",function(a){return b.processMouseWheel(a)})("mouseenter",function(a){return b.onCtrlMouseEnter(a)})("mouseleave",function(a){return b.onCtrlMouseLeave(a)})("mousemove",function(a){return b.onCtrlMouseMove(a)})("dragenter",function(a){return b.ctrlDragEnter(a)})("dragleave",function(a){return b.ctrlDragLeave(a)})("dragover",function(a){return b.ctrlDragOver(a)})("drop",
function(a){return b.ctrlDragDrop(a)})("dragend",function(a){return b.ctrlDragEnd(a)})("scroll",function(a){return b.onScroll(a)}),i0.\u0275\u0275elementStart(1,"span",1,2),i0.\u0275\u0275template(3,IntegralUITreeView_span_3_Template,8,11,"span",3),i0.\u0275\u0275template(4,IntegralUITreeView_span_4_Template,3,2,"span",4),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd());a&2&&(i0.\u0275\u0275property("ngClass",b.getControlClass())("ngStyle",b.getControlStyle()),i0.\u0275\u0275advance(1),i0.\u0275\u0275property("ngSwitch",
b.virtualMode),i0.\u0275\u0275advance(2),i0.\u0275\u0275property("ngSwitchCase",!0))},directives:[i6.NgClass,i6.NgStyle,i6.NgSwitch,i6.NgSwitchCase,i6.NgSwitchDefault,i6.NgForOf,i6.NgIf,i5.IntegralUIFocus,i5.IntegralUITemplateOutlet,i7.IntegralUIScrollBar,i8.IntegralUITreeItem],encapsulation:2});return d}(integralui_base_list_1.IntegralUIBaseList);exports.IntegralUITreeView=IntegralUITreeView;
(function(){i0.\u0275setClassMetadata(IntegralUITreeView,[{type:core_1.Component,args:[{selector:"iui-treeview",template:'\n\t\t<div [ngClass]="getControlClass()" [ngStyle]="getControlStyle()" (DOMMouseScroll)="processMouseWheel($event)" (mousewheel)="processMouseWheel($event)" (mouseenter)="onCtrlMouseEnter($event)" (mouseleave)="onCtrlMouseLeave($event)" (mousemove)="onCtrlMouseMove($event)" (dragenter)="ctrlDragEnter($event)" (dragleave)="ctrlDragLeave($event)" (dragover)="ctrlDragOver($event)" (drop)="ctrlDragDrop($event)" (dragend)="ctrlDragEnd($event)" (scroll)="onScroll($event)">\n            <span [ngSwitch]="virtualMode" #content>\n                <span *ngSwitchCase="true">\n\t                <ul  style="margin:0;padding:0;" [ngStyle]="{ width: currentItemDisplay == 0 ? \'9999px\' : blockSize.width + \'px\', height: contentSize.height + \'px\', \'margin-left\': -this.currentScrollPos.x + \'px\' }" (touchstart)="ctrlTouchStart($event)" (touchend)="ctrlTouchEnd($event)">\n\t                \t<li [ngClass]="{ \'iui-treeitem-animate\': allowAnimation }" *ngFor="let item of scrollItemList; let i = index" [ngStyle]="item.inlineStyle" #itemElem>\n\t                \t\t<div *ngIf="!item.isEmpty && !item.isEmptyPrev" [ngClass]="item.style.general" [ngStyle]="{ display: currentItemDisplay == 0 ? \'inline-block\' : \'block\', width: longestItemWidthValue }" (mouseenter)="itemMouseEnter($event, item)" (mousemove)="itemMouseMove($event, item)" (mouseleave)="itemMouseLeave($event, item)">\n\t\t\t\t\t\t        <div [ngStyle]="{ \'padding-left\': item.indent + \'px\' }" draggable="true" (mousedown)="itemMouseDown($event, item)" (mouseup)="itemMouseUp($event, item)" (dragstart)="itemDragStart($event, item)" (dragover)="itemDragOver($event, item, i)" (drop)="itemDragDrop($event, item)" (touchstart)="itemTouchStart($event, item)"  (touchmove)="itemTouchMove($event, item)" (touchend)="itemTouchEnd($event, item)">\n\t\t\t        \t            <div [ngClass]="item.style.content" tabindex="{{item.tabIndex}}" [iuiFocus]="item.data == this.currentFocusItem" (focus)="itemGotFocus(item)" (blur)="itemLostFocus(item)" (keydown)="itemKeyDown($event, item)" (keypress)="itemKeyPress($event, item)" (keyup)="itemKeyUp($event, item)" [ngStyle]="{ display: currentItemDisplay == 0 ? \'inline-block\' : \'block\' }" #itemContentElem>\n\t\t\t\t\t\t\t\t\t\t<span *ngIf="showExpandBox">\n\t\t\t\t\t\t\t\t\t\t\t<span [ngClass]="item.style.expandBox" (mousedown)="expandBoxMouseDown($event, item.data)" (mouseup)="expandBoxMouseUp($event)" (touchstart)="expandBoxTouchStart($event, item.data)" (touchend)="expandBoxTouchEnd($event, item.data)"></span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<div style="display:inline-block" (click)="itemClickEvent($event, item)" (dblclick)="itemDblClickEvent($event, item)" (contextmenu)="itemRightClickEvent($event, item)">\n\t\t\t\t\t\t\t\t\t\t\t<span [iuiTemplateOutlet]="itemData[0]" [iuiTemplateOutletContext]="{$implicit: (item.data)}"></span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t        </div>\n\t\t\t\t\t\t        <span *ngIf="allowAnimation && item.isClicked" class="iui-listitem-animate-select-block" [ngStyle]="{ height: animateItemSize.height + \'px\', width: item.clickPos.x + \'px\' }">\n\t\t\t\t\t\t\t        <span [ngClass]="{ \'iui-listitem-animate-select iui-listitem-animate-select-left\': item.isClicked }" [ngStyle]="{ height: animateItemSize.height + \'px\' }"></span>\n\t\t\t\t\t\t       </span>\n\t\t\t\t\t\t        <span *ngIf="allowAnimation && item.isClicked" class="iui-listitem-animate-select-block" [ngStyle]="{ left: item.clickPos.x + \'px\', height: animateItemSize.height + \'px\', width: contentSize.width - item.clickPos.x + \'px\' }">\n\t\t\t\t\t\t\t        <span [ngClass]="{ \'iui-listitem-animate-select iui-listitem-animate-select-right\': item.isClicked }" [ngStyle]="{ height: animateItemSize.height + \'px\' }"></span>\n\t\t\t\t\t\t        </span>\n\t\t\t\t\t        </div>\n\t\t\t\t\t\t\t<span *ngIf="item.isEmptyPrev" style="pointer-events:none;">\n\t\t\t\t\t\t\t\t<div class="iui-treeview-item-empty-content" [ngClass]="{ \'open-empty-bottom\': item.status == 1, \'close-empty-bottom\': item.status == 2 }"></div>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span *ngIf="item.isEmpty" style="pointer-events:none;">\n\t\t\t\t\t\t\t\t<div class="iui-treeview-item-empty-content" [ngClass]="{ \'open-empty-bottom\': item.status == 1, \'close-empty-bottom\': item.status == 2, \'empty-bottom\': item.status == 3 }"></div>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t       </li>\n\t                </ul>\n\t\t\t\t\t<div *ngIf="isHoverTemplatePresent && !isUpdateActive && hoverItemObj && isContentAllowed(hoverItemObj.data, \'hover\')" class="iui-treeview-block iui-treeview-block-hover" [ngStyle]="{ left: blockHoverRect.left + \'px\', top: blockHoverRect.top + \'px\', height: blockHoverRect.height + \'px\', width: blockHoverRect.width + \'px\' }">\n\t\t\t\t\t\t<div [ngStyle]="{ height: blockHoverRect.height + \'px\' }" (mousemove)="hoverBlockMouseMove($event)" (mouseleave)="hoverBlockMouseLeave($event)">\n\t\t\t\t\t\t\t<span [iuiTemplateOutlet]="itemHoverData[0]" [iuiTemplateOutletContext]="{$implicit: (hoverItemObj.data)}"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span *ngIf="isSelectedTemplatePresent && !isUpdateActive">\n\t\t\t\t\t\t<span *ngFor="let item of currentSelectedItems; let i = index">\n\t\t\t\t\t\t\t<div *ngIf="isContentAllowed(item, \'select\')" class="iui-treeview-block iui-treeview-block-select" [ngStyle]="getSelectBlockRect(i)">\n\t\t\t\t\t\t\t\t<div [ngStyle]="{ height: blockSelectHeight + \'px\' }">\n\t\t\t\t\t\t\t\t\t<span [iuiTemplateOutlet]="itemSelectData[0]" [iuiTemplateOutletContext]="{$implicit: (item)}"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t            <iui-scrollbar *ngIf="isVerScrollVisible()" [enabled]="enabled" [value]="currentScrollPos.y" [max]="maxScrollPos.y" [largeChange]="scrollLargeChange.y" [height]="scrollBarSize.height" (mouseenter)="scrollMouseEnter($event)" (valueChanged)="onVerticalScrollChanged($event)" (scrollStart)="onVerticalScrollStart($event)" (scrollEnd)="onVerticalScrollEnd($event)" #verScroll></iui-scrollbar>\n\t\t            <iui-scrollbar *ngIf="isHorScrollVisible()" [enabled]="enabled" [orientation]="horScrollOrientation" [value]="currentScrollPos.x" [max]="maxScrollPos.x" [width]="scrollBarSize.width" (mouseenter)="scrollMouseEnter($event)" (valueChanged)="onHorizontalScrollChanged($event)" (scrollStart)="onHorizontalScrollStart($event)" (scrollEnd)="onHorizontalScrollEnd($event)" #horScroll></iui-scrollbar>\n\t\t            <div *ngIf="isVerScrollVisible() && isHorScrollVisible()" class="iui-scrollbar-corner" style="position:absolute;right:0;bottom:0;width:16px;height:16px;"></div>\n\t            </span>\n                <span *ngSwitchDefault>\n\t                <ul style="margin:0;padding:0;" [ngStyle]="getBlockStyle()">\n\t\t\t            <iui-treeitem *ngFor="let item of items" [allowAnimation]="getItemObject(item, \'allowAnimation\')" [enabled]="getItemObject(item, \'enabled\')" [expanded]="getItemObject(item, \'expanded\')" [text]="getItemObject(item, \'text\')" [templateRef]="itemData[0]" [data]="item" [items]="getItemObject(item, \'items\')" [visible]="getItemObject(item, \'visible\')">\n\t\t\t\t\t\t</iui-treeitem> \n\t                </ul>\n\t            </span>\n            </span>\n\t\t</div>\n\t',
inputs:"allowDrag allowDrop allowFilter allowFocus appRef controlStyle data enabled items name selectedItem selectionMode size sorting state virtualMode".split(" "),outputs:"afterSelect beforeEdit beforeSelect change clear dragEnter dragDrop dragDropComplete dragLeave dragOver itemAdding itemAdded itemHover itemRemoving itemRemoved keyDown keyPress keyUp loadComplete scrollPosChanged selectionChanged updateComplete".split(" "),providers:[integralui_core_1.IntegralUIBaseService,integralui_data_service_1.IntegralUIDataService]}]}],
function(){return[{type:i1.IntegralUIDataService},{type:i2.IntegralUIDragDropService},{type:i0.ElementRef},{type:i0.Renderer2},{type:i3.IntegralUICommonService},{type:i4.IntegralUIFilterService},{type:i0.ComponentFactoryResolver},{type:i5.IntegralUIBaseService}]},{contentList:[{type:core_1.ViewChildren,args:[integralui_treeitem_1.IntegralUITreeItem]}],contentRef:[{type:core_1.ViewChild,args:["content",{read:core_1.ViewContainerRef,"static":!1}]}],contentElem:[{type:core_1.ViewChild,args:["content",
{read:core_1.ElementRef,"static":!1}]}],itemTemplate:[{type:core_1.ContentChild,args:[core_1.TemplateRef,{"static":!1}]}],itemElems:[{type:core_1.ViewChildren,args:["itemElem",{read:core_1.ElementRef}]}],itemContentElems:[{type:core_1.ViewChildren,args:["itemContentElem",{read:core_1.ElementRef}]}],templates:[{type:core_1.ContentChildren,args:[integralui_core_1.IntegralUITemplate,{descendants:!0}]}],verScrollCmp:[{type:core_1.ViewChild,args:["verScroll",{"static":!1}]}],horScrollCmp:[{type:core_1.ViewChild,
args:["horScroll",{"static":!1}]}],autoExpand:[{type:core_1.Input}],compactMode:[{type:core_1.Input}],indent:[{type:core_1.Input}],itemDisplay:[{type:core_1.Input}],showExpandBox:[{type:core_1.Input}],afterCollapse:[{type:core_1.Output}],afterExpand:[{type:core_1.Output}],beforeCollapse:[{type:core_1.Output}],beforeExpand:[{type:core_1.Output}]})})();