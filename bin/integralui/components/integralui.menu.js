/*
  filename: integralui.menu.js
  version : 2.3.0
  Copyright Â© 2016-2020 Lidor Systems. All rights reserved.

  This file is part of the "IntegralUI Web" Library. 
                                                                   
  The contents of this file are subject to the IntegralUI Web License, and may not be used except in compliance with the License.
  A copy of the License should have been installed in the product's root installation directory or it can be found at
  http://www.lidorsystems.com/products/web/studio/license-agreement.aspx.
                                                            
  This SOFTWARE is provided "AS IS", WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License for the specific language 
  governing rights and limitations under the License. Any infringement will be prosecuted under applicable laws.                           
*/
var __extends=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}();Object.defineProperty(exports,"__esModule",{value:!0});
var core_1=require("@angular/core"),integralui_core_1=require("./integralui.core"),integralui_common_service_1=require("../services/integralui.common.service"),integralui_data_service_1=require("../services/integralui.data.service"),integralui_menuitem_1=require("../components/integralui.menuitem"),i0=require("@angular/core"),i1=require("../services/integralui.data.service"),i2=require("../services/integralui.common.service"),i3=require("./integralui.core"),i4=require("@angular/common"),i5=require("./integralui.menuitem"),
_c0=["content"];function IntegralUIMenu_span_2_iui_menuitem_3_Template(d,b){d&1&&i0.\u0275\u0275element(0,"iui-menuitem",7);if(d&2){var a=b.$implicit,c=i0.\u0275\u0275nextContext(2);i0.\u0275\u0275property("data",a)("items",a.items)("enabled",a.enabled)("icon",a.icon)("iconUrl",a.iconUrl)("text",a.text)("level",0)("templateRef",c.itemTemplate)("showAnimation",c.showAnimation)}}
function IntegralUIMenu_span_2_Template(d,b){d&1&&(i0.\u0275\u0275elementStart(0,"span"),i0.\u0275\u0275elementStart(1,"ul",4,5),i0.\u0275\u0275template(3,IntegralUIMenu_span_2_iui_menuitem_3_Template,1,9,"iui-menuitem",6),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd());if(d&2){var a=i0.\u0275\u0275nextContext();i0.\u0275\u0275advance(3);i0.\u0275\u0275property("ngForOf",a.items)}}
function IntegralUIMenu_span_3_Template(d,b){d&1&&(i0.\u0275\u0275elementStart(0,"span"),i0.\u0275\u0275elementStart(1,"ul",4,5),i0.\u0275\u0275projection(3),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd())}
var _c1=["*"],IntegralUIMenu=function(d){function b(a,b,f,e,g,h){var c=d.call(this,e)||this;c.dataService=a;c.elemRef=b;c.elemRenderer=f;c.commonService=e;c.cmpResolver=g;c.baseService=h;c.virtualization=!0;c.tRef=null;c.showAnimation=!0;c.itemClick=new core_1.EventEmitter;return c}__extends(b,d);Object.defineProperty(b.prototype,"virtualMode",{get:function(){return this.virtualization},set:function(a){this.virtualization=a;this.updateLayout()},enumerable:!0,configurable:!0});b.prototype.ngOnInit=
function(){this.baseService.setComponent(this);this.dataService.init([{data:this.items}]);this.generalClassName="iui-menu";this.initStyle()};b.prototype.ngAfterViewInit=function(){var a=this,c=setTimeout(function(){var b=a.cmpResolver.resolveComponentFactory(integralui_core_1.IntegralUITComponent);b&&a.contentRef&&(a.tRef=a.contentRef.createComponent(b));clearTimeout(c)},100)};b.prototype.ngAfterContentInit=function(){this.itemList=this.contentList.toArray();this.updateLayout()};b.prototype.ngOnDestroy=
function(){this.tRef&&this.tRef.destroy()};b.prototype.getItemFromComponent=function(a){return a&&a.data?a.data:this.items&&(this.itemList=this.contentList.toArray(),a=this.itemList.indexOf(a),0<=a&&a<this.items.length)?this.items[a]:null};b.prototype.getItemParent=function(a){return this.dataService.getParent(a)};b.prototype.invokeMethod=function(a,b){if(this.isEnabled)switch(a){case "ITEM_CLICK":this.itemClick.emit({event:b.event,item:b.item})}};b.prototype.updateLayout=function(){};b.prototype.getControlStyle=
function(){var a={};0<this.ctrlSize.width&&(a.width=this.ctrlSize.width+"px");0<this.ctrlSize.height&&(a.height=this.ctrlSize.height+"px");return a};b.\u0275fac=function(a){return new (a||b)(i0.\u0275\u0275directiveInject(i1.IntegralUIDataService),i0.\u0275\u0275directiveInject(i0.ElementRef),i0.\u0275\u0275directiveInject(i0.Renderer2),i0.\u0275\u0275directiveInject(i2.IntegralUICommonService),i0.\u0275\u0275directiveInject(i0.ComponentFactoryResolver),i0.\u0275\u0275directiveInject(i3.IntegralUIBaseService))};
b.\u0275cmp=i0.\u0275\u0275defineComponent({type:b,selectors:[["iui-menu"]],contentQueries:function(a,b,d){a&1&&(i0.\u0275\u0275contentQuery(d,core_1.TemplateRef,!0),i0.\u0275\u0275contentQuery(d,integralui_menuitem_1.IntegralUIMenuItem,!0));if(a&2){var c;i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.itemTemplate=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.contentList=c)}},viewQuery:function(a,b){a&1&&i0.\u0275\u0275viewQuery(_c0,!0,core_1.ViewContainerRef);
if(a&2){var c;i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.contentRef=c.first)}},inputs:{controlStyle:"controlStyle",data:"data",enabled:"enabled",name:"name",size:"size",state:"state",appRef:"appRef",items:"items",showAnimation:"showAnimation",virtualMode:"virtualMode"},outputs:{itemClick:"itemClick"},features:[i0.\u0275\u0275ProvidersFeature([integralui_core_1.IntegralUIBaseService,integralui_data_service_1.IntegralUIDataService]),i0.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:_c1,
decls:4,vars:4,consts:[[3,"ngClass","ngStyle"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"iui-menu-block"],["content",""],[3,"data","items","enabled","icon","iconUrl","text","level","templateRef","showAnimation",4,"ngFor","ngForOf"],[3,"data","items","enabled","icon","iconUrl","text","level","templateRef","showAnimation"]],template:function(a,b){a&1&&(i0.\u0275\u0275projectionDef(),i0.\u0275\u0275elementStart(0,"div",0),i0.\u0275\u0275elementStart(1,"span",1),i0.\u0275\u0275template(2,
IntegralUIMenu_span_2_Template,4,1,"span",2),i0.\u0275\u0275template(3,IntegralUIMenu_span_3_Template,4,0,"span",3),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd());a&2&&(i0.\u0275\u0275property("ngClass",b.getControlClass())("ngStyle",b.getControlStyle()),i0.\u0275\u0275advance(1),i0.\u0275\u0275property("ngSwitch",b.virtualMode),i0.\u0275\u0275advance(1),i0.\u0275\u0275property("ngSwitchCase",!0))},directives:[i4.NgClass,i4.NgStyle,i4.NgSwitch,i4.NgSwitchCase,i4.NgSwitchDefault,i4.NgForOf,
i5.IntegralUIMenuItem],encapsulation:2});return b}(integralui_core_1.IntegralUIBaseComponent);exports.IntegralUIMenu=IntegralUIMenu;
(function(){i0.\u0275setClassMetadata(IntegralUIMenu,[{type:core_1.Component,args:[{selector:"iui-menu",template:'\n\t\t<div [ngClass]="getControlClass()" [ngStyle]="getControlStyle()">\n            <span [ngSwitch]="virtualMode">\n                <span *ngSwitchCase="true">\n\t\t\t\t\t<ul class="iui-menu-block" #content>\n\t\t\t\t\t\t<iui-menuitem *ngFor="let item of items" [data]="item" [items]="item.items" [enabled]="item.enabled" [icon]="item.icon" [iconUrl]="item.iconUrl"  [text]="item.text" [level]="0" [templateRef]="itemTemplate" [showAnimation]="showAnimation"></iui-menuitem>\n\t\t\t\t\t</ul>\n\t            </span>\n                <span *ngSwitchDefault>\n\t\t\t\t\t<ul class="iui-menu-block" #content>\n\t\t\t\t\t\t<ng-content></ng-content>\n\t\t\t\t\t</ul>\n\t            </span>\n            </span>\n\t\t</div>\n\t',inputs:"controlStyle data enabled name size state".split(" "),
providers:[integralui_core_1.IntegralUIBaseService,integralui_data_service_1.IntegralUIDataService],encapsulation:core_1.ViewEncapsulation.None}]}],function(){return[{type:i1.IntegralUIDataService},{type:i0.ElementRef},{type:i0.Renderer2},{type:i2.IntegralUICommonService},{type:i0.ComponentFactoryResolver},{type:i3.IntegralUIBaseService}]},{contentList:[{type:core_1.ContentChildren,args:[integralui_menuitem_1.IntegralUIMenuItem,{descendants:!0}]}],contentRef:[{type:core_1.ViewChild,args:["content",
{read:core_1.ViewContainerRef,"static":!1}]}],itemTemplate:[{type:core_1.ContentChild,args:[core_1.TemplateRef,{"static":!1}]}],appRef:[{type:core_1.Input}],items:[{type:core_1.Input}],showAnimation:[{type:core_1.Input}],virtualMode:[{type:core_1.Input}],itemClick:[{type:core_1.Output}]})})();