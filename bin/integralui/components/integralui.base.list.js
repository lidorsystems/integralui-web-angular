/*
  filename: integralui.base.list.js
  version : 2.4.0
  Copyright Â© 2016-2020 Lidor Systems. All rights reserved.

  This file is part of the "IntegralUI Web" Library. 
                                                                   
  The contents of this file are subject to the IntegralUI Web License, and may not be used except in compliance with the License.
  A copy of the License should have been installed in the product's root installation directory or it can be found at
  http://www.lidorsystems.com/products/web/studio/license-agreement.aspx.
                                                            
  This SOFTWARE is provided "AS IS", WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License for the specific language 
  governing rights and limitations under the License. Any infringement will be prosecuted under applicable laws.                           
*/
var __extends=this&&this.__extends||function(){var m=function(c,a){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b])};return m(c,a)};return function(c,a){function b(){this.constructor=c}m(c,a);c.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}}();Object.defineProperty(exports,"__esModule",{value:!0});
var core_1=require("@angular/core"),integralui_core_1=require("./integralui.core"),integralui_common_service_1=require("../services/integralui.common.service"),integralui_data_service_1=require("../services/integralui.data.service"),integralui_dragdrop_service_1=require("../services/integralui.dragdrop.service"),integralui_filter_service_1=require("../services/integralui.filter.service"),i0=require("@angular/core"),i1=require("../services/integralui.data.service"),i2=require("../services/integralui.dragdrop.service"),
i3=require("../services/integralui.common.service"),i4=require("../services/integralui.filter.service"),IntegralUIBaseList=function(m){function c(a,b,d,c,k,g,f){var e=m.call(this,k)||this;e.dataService=a;e.dragDropService=b;e.elemRef=d;e.elemRenderer=c;e.commonService=k;e.filterService=g;e.cmpResolver=f;e.animateItemSize={width:0,height:0};e.prevClickedObj=null;e.itemData=[];e.itemHoverData=[];e.itemSelectData=[];e.templateList=[];e.currentList=[];e.fullList=[];e.options={allowDrag:!1,allowDrop:!0,
dataFields:null,selectedItem:null,sorting:integralui_core_1.IntegralUISortOrder.None};e.dataItems=[];e.scrollItemList=[];e.dropMarkElem=null;e.dragCmpRef=null;e.dragCmp=null;e.dragHandleElem=null;e.dragHandleCmpRef=null;e.dragHandleCmp=null;e.cloneElem=null;e.cloneElemStartPos={x:0,y:0};e.isCtrlDragEntered=!1;e.isDragActive=!1;e.filterParams=null;e.ctrlCursor="default";e.hoverItem=null;e.blockHoverRect={height:0,left:0,top:-9999999,width:0};e.blockSelectRect=[];e.blockSelectHeight=0;e.hoverItemObj=
{data:{}};e.currentFocusItem=null;e.isKeyboardActive=!1;e.allowUpdate=!0;e.avgItemHeight=0;e.blockSize={width:0,height:0};e.contentSize={width:0,height:0};e.currentIndex=0;e.prevIndex=0;e.isHoverTemplatePresent=!1;e.isSelectedTemplatePresent=!1;e.isUpdateActive=!1;e.prevLongestItemWidth=0;e.longestItemWidth=0;e.longestItemWidthValue="auto";e.virtualization=!1;e.visibleRange=1;e.updateTimer=null;e.currentScrollPos={x:0,y:0};e.maxScrollPos={x:0,y:0};e.accelerator=.5;e.isScrollActive=!1;e.isScrollTimerActive=
!1;e.prevScrollPos={x:0,y:0};e.scrollBarSize={width:0,height:0};e.scrollCount=0;e.scrollLargeChange={x:0,y:0};e.scrollSize={width:0,height:0};e.scrollTimerID=null;e.horScrollOrientation=integralui_core_1.IntegralUIOrientation.Horizontal;e.currentSelectionMode=integralui_core_1.IntegralUISelectionMode.One;e.shiftFirstSelectedItem=null;e.removeIndex=-1;e.currentSelectedItems=[];e.sortComparer=null;e.refreshTimer=null;e.touchStartPos={x:0,y:0};e.touchEndPos={x:0,y:0};e.contentVisibility=integralui_core_1.IntegralUIContentVisibility.Both;
e.itemSpacing=0;e.mouseWheelSpeed=integralui_core_1.IntegralUISpeedMode.Normal;e.afterSelect=new core_1.EventEmitter;e.beforeEdit=new core_1.EventEmitter;e.beforeSelect=new core_1.EventEmitter;e.change=new core_1.EventEmitter;e.clear=new core_1.EventEmitter;e.dragEnd=new core_1.EventEmitter;e.dragEnter=new core_1.EventEmitter;e.dragDrop=new core_1.EventEmitter;e.dragDropComplete=new core_1.EventEmitter;e.dragLeave=new core_1.EventEmitter;e.dragOver=new core_1.EventEmitter;e.dragStart=new core_1.EventEmitter;
e.itemAdding=new core_1.EventEmitter;e.itemAdded=new core_1.EventEmitter;e.itemClick=new core_1.EventEmitter;e.itemDblClick=new core_1.EventEmitter;e.itemHover=new core_1.EventEmitter;e.itemRemoving=new core_1.EventEmitter;e.itemRemoved=new core_1.EventEmitter;e.itemRightClick=new core_1.EventEmitter;e.keyDown=new core_1.EventEmitter;e.keyPress=new core_1.EventEmitter;e.keyUp=new core_1.EventEmitter;e.loadComplete=new core_1.EventEmitter;e.scrollPosChanged=new core_1.EventEmitter;e.selectionChanged=
new core_1.EventEmitter;e.updateComplete=new core_1.EventEmitter;e.updateOptions();return e}__extends(c,m);Object.defineProperty(c.prototype,"allowDrag",{set:function(a){this.options.allowDrag=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"allowDrop",{set:function(a){this.options.allowDrop=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"allowFilter",{set:function(a){this.options.allowFilter=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"allowFocus",{set:function(a){this.options.allowFocus=a;a||(this.currentFocusItem=null);this.refresh()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"dataFields",{set:function(a){this.updateDataFields(a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"focusedItem",{get:function(){return this.currentFocusItem},set:function(a){this.currentFocusItem!=a&&(this.currentFocusItem=a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"items",{get:function(){return this.dataItems},
set:function(a){this.dataItems=a;this.updateData()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"showScroll",{get:function(){return this.options.showScroll},set:function(a){this.updateShowScroll(a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"selectedItem",{get:function(){return this.currentSelection},set:function(a){if(this.currentSelection!=a)var b=this,d=setTimeout(function(){b.processSelection(null,a);b.updateSelectContentPos();clearTimeout(d)},1)},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"selectionMode",{get:function(){return this.currentSelectionMode},set:function(a){if(this.currentSelectionMode!=a){this.currentSelectionMode=a;this.clearPrevSelection(this.currentSelectionMode!=integralui_core_1.IntegralUISelectionMode.None?this.currentSelection:null);var b=this,d=setTimeout(function(){b.refresh();b.currentSelectionMode==integralui_core_1.IntegralUISelectionMode.None&&(b.currentSelection=null,b.selectionChanged.emit({item:null}));
clearTimeout(d)},1)}},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"sorting",{set:function(a){this.options.sorting=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"virtualMode",{get:function(){return this.virtualization},set:function(a){this.virtualization=a;this.updateLayout()},enumerable:!0,configurable:!0});c.prototype.ngOnInit=function(){this.dataService.init([{data:this.items}]);this.itemClassName="iui-list";this.itemContentClassName=this.itemClassName+
"-content"};c.prototype.initStyle=function(){this.defaultStyle={general:{disabled:this.generalClassName+"-disabled",focused:this.generalClassName+"-focused",normal:this.generalClassName,hovered:this.generalClassName+"-hovered",selected:this.generalClassName+"-selected"},item:{general:{disabled:this.itemClassName+"-disabled",focused:this.itemClassName+"-focused",normal:this.itemClassName,hovered:this.itemClassName+"-hovered",selected:this.itemClassName+"-selected"},content:{disabled:this.itemContentClassName+
"-disabled",focused:this.itemContentClassName+"-focused",normal:this.itemContentClassName,hovered:this.itemContentClassName+"-hovered",selected:this.itemContentClassName+"-selected"}}};this.updateStyle(this.controlStyle);this.updateControlClass();this.refresh()};c.prototype.addItem=function(a,b){this.callEventAdd("add",a,-1,b)};c.prototype.clearItems=function(a){a||(this.currentSelectedItems.length=0,this.currentSelection=null);this.dataService.clear(a);this.clear.emit({parent:a});this.updateLayout()};
c.prototype.insertItemAt=function(a,b,d){this.callEventAdd("at",a,b,d)};c.prototype.insertItemBefore=function(a,b){this.callEventAdd("ref",a,-1,null,b)};c.prototype.insertItemAfter=function(a,b){this.callEventAdd("ref",a,-1,null,b,!0)};c.prototype.removeItem=function(a){return this.callEventRemove(a)};c.prototype.removeItemAt=function(a,b){return this.callEventRemove(null,a,b)};c.prototype.callEventAdd=function(a,b,d,e,c,g){var k={cancel:!1,item:b};this.itemAdding.emit(k);if(1!=k.cancel){switch(a){case "at":this.dataService.insert(b,
d,e);break;case "ref":this.dataService.insertByRef(b,c,g);break;default:this.dataService.insert(b,-1,e)}this.processItemAdd(b,e);this.updateItem(e);this.itemAdded.emit({item:b})}};c.prototype.callEventRemove=function(a,b,d){var e={cancel:!1,item:a};this.itemRemoving.emit(e);return 1!=e.cancel&&(this.removeIndex=this.items?this.items.indexOf(a):-1,b=this.dataService.removeAt(a,b,d),b.result)?(this.processItemRemoval(a,d),a&&a[this.options.dataFields.selected]&&(a[this.options.dataFields.selected]=
!1,this.currentSelectedItems=this.currentSelectedItems.filter(function(b){return b!=a}),this.currentSelection&&this.commonService.isEqual(this.currentSelection[this.options.dataFields.id],a[this.options.dataFields.id])&&(this.currentSelection=null),this.selectionChanged.emit({item:this.currentSelection})),this.itemRemoved.emit({item:b.obj}),!0):!1};c.prototype.processItemAdd=function(a,b){};c.prototype.processItemRemoval=function(a,b){};c.prototype.itemClickEvent=function(a,b){this.isEnabled&&1==
a.which&&this.itemClick.emit({event:a,item:b.data})};c.prototype.itemDblClickEvent=function(a,b){this.isEnabled&&1==a.which&&this.itemDblClick.emit({event:a,item:b.data})};c.prototype.itemRightClickEvent=function(a,b){this.isEnabled&&this.itemRightClick.emit({event:a,item:b.data})};c.prototype.getDataFields=function(){return this.options.dataFields};c.prototype.updateCurrentList=function(){};c.prototype.updateData=function(){};c.prototype.updateOptions=function(a){a?(this.options={allowDrag:this.commonService.isFieldAvailable(a.allowDrag,
!1),allowDrop:this.commonService.isFieldAvailable(a.allowDrop,!0),allowFilter:this.commonService.isFieldAvailable(a.allowFilter,!1),allowFocus:this.commonService.isFieldAvailable(a.allowFocus,!1),dataFields:null,selectedItem:this.commonService.isFieldAvailable(a.selectedItem,this.options.selectedItem?this.options.selectedItem:null)},this.updateShowScroll(a.showScroll)):(this.options={allowDrag:!1,allowDrop:!0,allowFilter:!1,allowFocus:!1,dataFields:null,selectedItem:null},this.updateDataFields(),
this.updateShowScroll())};c.prototype.updateDataFields=function(a){this.options.dataFields=a?{allowDrag:a.allowDrag?a.allowDrag:"allowDrag",allowDrop:a.allowDrop?a.allowDrop:"allowDrop",allowEdit:a.allowEdit?a.allowEdit:"allowEdit",allowFocus:a.allowFocus?a.allowFocus:"allowFocus",autoCheck:a.autoCheck?a.autoCheck:"autoCheck",canSelect:a.canSelect?a.canSelect:"canSelect",checkBoxSettings:a.checkBoxSettings?a.checkBoxSettings:"checkBoxSettings",checked:a.checked?a.checked:"checked",checkState:a.checkState?
a.checkState:"checkState",content:a.content?a.content:"content",contentVisibility:a.contentVisibility?a.contentVisibility:"contentVisibility",contextMenu:a.contextMenu?a.contextMenu:"contextMenu",enabled:a.enabled?a.enabled:"enabled",expanded:a.expanded?a.expanded:"expanded",hasChildren:a.hasChildren?a.hasChildren:"hasChildren",icon:a.icon?a.icon:"icon",id:a.id?a.id:"id",items:a.items?a.items:"items",pid:a.pid?a.pid:"pid",selected:a.selected?a.selected:"selected",statusIcon:a.statusIcon?a.statusIcon:
"statusIcon",style:a.style?a.style:"style",templateObj:a.templateObj?a.templateObj:"templateObj",text:a.text?a.text:"text",tooltip:a.tooltip?a.tooltip:"tooltip",value:a.value?a.value:"value",visible:a.visible?a.visible:"visible"}:{allowDrag:"allowDrag",allowDrop:"allowDrop",allowEdit:"allowEdit",allowFocus:"allowFocus",autoCheck:"autoCheck",canSelect:"canSelect",checkBoxSettings:"checkBoxSettings",checked:"checked",checkState:"checkState",content:"content",contentVisibility:"contentVisibility",contextMenu:"contextMenu",
enabled:"enabled",expanded:"expanded",hasChildren:"hasChildren",icon:"icon",id:"id",items:"items",pid:"pid",selected:"selected",statusIcon:"statusIcon",style:"style",templateObj:"templateObj",text:"text",tooltip:"tooltip",value:"value",visible:"visible"};this.dataService&&this.dataService.updateDataFields(this.options.dataFields)};c.prototype.updateShowScroll=function(a){this.options.showScroll=a?{horizontal:this.commonService.isFieldAvailable(a.horizontal,!0),vertical:this.commonService.isFieldAvailable(a.vertical,
!0)}:{horizontal:!0,vertical:!0}};c.prototype.processLoadData=function(a,b,d,e){var c=this;c.clearItems(b);c.updateDataFields(d);var g=[];if(a)if(e||void 0==e){var f=[];a.forEach(function(a,b){a[c.options.dataFields.items]=[];var d=a[c.options.dataFields.pid];f[d]?(f[d][c.options.dataFields.items]||(f[d][c.options.dataFields.items]=[]),f[a[c.options.dataFields.id]]=a,f[d][c.options.dataFields.items].push(a)):(f[a[c.options.dataFields.id]]=a,g.push(a))});f.length=0}else g=a;if(b)for(b[c.options.dataFields.items]=
g,a=0;a<b[c.options.dataFields.items].length;a++)b[c.options.dataFields.items][a][c.options.dataFields.pid]=b[c.options.dataFields.id];else if(c.items)for(a=c.items.length=0;a<g.length;a++)c.items.push(g[a]);c.updateItem(b);c.loadComplete.emit(null);this.updateLayout()};c.prototype.updateItem=function(a){};c.prototype.updateScrollItemList=function(){this.scrollItemList.length=0};c.prototype.addDropMark=function(a){this.appRef&&(this.removeDropMark(),a=this.cmpResolver.resolveComponentFactory(integralui_core_1.IntegralUIDragWindow))&&
(this.dragCmpRef=this.appRef.createComponent(a),this.dragCmpRef.instance&&(this.dragCmp=this.dragCmpRef.instance))};c.prototype.removeDropMark=function(){this.dragCmpRef&&this.dragCmpRef.destroy();this.dragCmp=null};c.prototype.callDragDropEvent=function(a,b,d){a={action:b.action,cancel:!1,dragItem:b.source,dropPos:b.dropPos,event:a,isDropAllowed:b.allow,mousePos:this.commonService.getMousePos(a),sourceCtrl:b.sourceCtrl,targetCtrl:b.targetCtrl,targetItem:b.target};d?this.dragDrop.emit(a):this.dragOver.emit(a);
return a};c.prototype.checkEmptySpace=function(a){var b=this.getContentSize(),d=this.commonService.getPageRect(this.elemRef.nativeElement.firstElementChild);b=d.top+b.height;d=d.bottom;a=this.commonService.getMousePos(a);var e=this.commonService.getShiftPos();a.x-=e.x;a.y-=e.y;return a.y>=b&&a.y<=d};c.prototype.ctrlDragEnd=function(a){this.removeDropMark();var b=this.dragDropService.getData();b.targetCtrl&&b.targetCtrl.removeDropMark&&b.targetCtrl.removeDropMark();this.itemDragEnd(a,null)};c.prototype.ctrlDragEnter=
function(a){this.isEnabled&&this.processDragEnter(a)};c.prototype.ctrlDragDrop=function(a){this.isEnabled&&this.processDragDrop(a);this.removeDropMark();a.stopPropagation()};c.prototype.ctrlDragLeave=function(a){this.isEnabled&&this.processDragLeave(a)};c.prototype.ctrlDragOver=function(a){this.isEnabled&&this.processDragOver(a);a.stopPropagation()};c.prototype.dropMark=function(a,b){this.dragCmp||this.isScrollTimerActive||this.addDropMark({x:a.pageX,y:a.pageY});if(this.dragCmp){var d="none";this.options.allowDrop&&
(d=b?"block":"none");this.dragCmp.display=d}};c.prototype.updateDragComponent=function(a){this.dragCmp&&this.dragCmp.updatePos(a)};c.prototype.isDragAllowed=function(a){return this.options.allowDrag?a&&(a[this.options.dataFields.allowDrag]||void 0===a[this.options.dataFields.allowDrag])?!0:!1:!1};c.prototype.isDropAllowed=function(a,b,d){var e=this.options.allowDrop;if(e&&a&&b&&(e=b[this.options.dataFields.allowDrop]||void 0===b[this.options.dataFields.allowDrop]?!0:!1))if(Array.isArray(a))for(var c=
0;c<a.length;c++){if(this.commonService.isEqual(a[c][this.options.dataFields.id],b[this.options.dataFields.id])||0===d&&this.isParentOf(b,a[c])||this.isChildOf(b,a[c])){e=!1;break}if(!e)break}else if(this.commonService.isEqual(a[this.options.dataFields.id],b[this.options.dataFields.id])||0===d&&this.isParentOf(b,a)||this.isChildOf(b,a))e=!1;return e};c.prototype.processDragStart=function(a,b){this.dragDropService.clearData();if(!this.isDragAllowed(b))a.preventDefault();else if(b)if(this.isDragAllowed(b)){var d=
{clone:this.cloneItem(b),source:b,sourceCtrl:this,sourceData:this.items};switch(this.selectionMode){case integralui_core_1.IntegralUISelectionMode.MultiSimple:d.clone=this.createCloneList(this.currentSelectedItems);d.source=this.currentSelectedItems;break;case integralui_core_1.IntegralUISelectionMode.MultiExtended:d.clone=this.createCloneList(this.currentSelectedItems),d.source=this.currentSelectedItems}var e={action:a.shiftKey?"copy":"move",cancel:!1,dragItem:d.source,dropPos:-1,event:a,isDropAllowed:this.options.allowDrop,
mousePos:this.commonService.getMousePos(a),sourceCtrl:d.sourceCtrl,targetCtrl:this,targetItem:null};this.dragStart.emit(e);1==e.cancel?a.preventDefault():(this.isDragActive=!0,this.addDropMark({x:a.pageX,y:a.pageY}),this.dropMark(a),a.dataTransfer?(a.dataTransfer.effectAllowed="move",a.dataTransfer.setData("text",b[this.options.dataFields.id]?b[this.options.dataFields.id].toString():"")):a.originalEvent&&a.originalEvent.dataTransfer&&(a.originalEvent.dataTransfer.effectAllowed="move",a.originalEvent.dataTransfer.setData("text",
b[this.options.dataFields.id]?b[this.options.dataFields.id].toString():"")),this.dragDropService.setData(d))}else a.dataTransfer?a.dataTransfer.effectAllowed="none":a.originalEvent&&a.originalEvent.dataTransfer&&(a.originalEvent.dataTransfer.effectAllowed="none")};c.prototype.processDragEnter=function(a){if(!this.isCtrlDragEntered){this.isCtrlDragEntered=!0;var b=this.dragDropService.getData();a={action:a.shiftKey?"copy":"move",dragItem:b.source,dropPos:-1,event:a,isDropAllowed:this.options.allowDrop,
mousePos:this.commonService.getMousePos(a),sourceCtrl:b.sourceCtrl,targetCtrl:this,targetItem:null};this.dragEnter.emit(a)}};c.prototype.processDragLeave=function(a){if(this.isCtrlDragEntered){var b=this.commonService.getPageRect(this.elemRef.nativeElement.firstElementChild),d=this.commonService.getMousePos(a),e=this.commonService.getShiftPos();d.x-=e.x;d.y-=e.y;if(d.x<b.left||d.x>b.right||d.y<b.top||d.y>b.bottom)this.isCtrlDragEntered=!1,this.stopScrollTimer(),b=this.dragDropService.getData(),b=
{action:a.shiftKey?"copy":"move",dragItem:b.source,dropPos:-1,event:a,isDropAllowed:!1,mousePos:this.commonService.getMousePos(a),sourceCtrl:b.sourceCtrl,targetCtrl:null,targetItem:null},this.dragLeave.emit(b);this.dropMark(a)}};c.prototype.processDragOver=function(a,b,d,e,c){a.preventDefault();this.processDragEnter(a);var k=!0;a.dataTransfer?k="none"===a.dataTransfer.effectAllowed?!1:!0:a.originalEvent&&a.originalEvent.dataTransfer&&(k="none"===a.originalEvent.dataTransfer.effectAllowed?!1:!0);if(k){var f=
this.dragDropService.getData();k=this.commonService.getShiftPos();if(b){var h=this.commonService.getMousePos(a);h.x-=k.x;h.y-=k.y;h=this.dragDropService.getDropPos(h,d,e,c);k=this.isDropAllowed(f.source,b,h);h={action:a.shiftKey?"copy":"move",source:f.source,dropPos:h,allow:k,sourceCtrl:f.sourceCtrl,target:b,targetCtrl:this};d=this.callDragDropEvent(a,h);if(k&&1!=d.cancel){h=this.commonService.getMousePos(a);e=h.y+16;h=h.x+20;var l="iui-dragwin-icon";switch(d.dropPos){case 0:l+=" iui-dragwin-move-in";
break;case 1:l="horizontal"==c?l+" iui-dragwin-move-left":l+" iui-dragwin-move-up";break;case 2:l="horizontal"==c?l+" iui-dragwin-move-right":l+" iui-dragwin-move-down"}"copy"==d.action&&(l+="-copy");this.updateDragComponent({"class":l,top:e,left:h,text:b[this.options.dataFields.text]});this.dropMark(a,k);this.dragDropService.setData({action:d.action,clone:f.clone,source:f.source,sourceCtrl:f.sourceCtrl,sourceData:f.sourceData,target:b,targetCtrl:this,dropPos:d.dropPos})}else a.dataTransfer?a.dataTransfer.dropEffect=
"none":a.originalEvent&&a.originalEvent.dataTransfer&&(a.originalEvent.dataTransfer.dropEffect="none"),this.dropMark(a)}else this.options.allowDrop?(k=this.checkEmptySpace(a),h={action:a.shiftKey?"copy":"move",source:f.source,dropPos:-1,allow:k,sourceCtrl:f.sourceCtrl,target:null,targetCtrl:this},d=this.callDragDropEvent(a,h),k&&1!=d.cancel?(h=this.commonService.getMousePos(a),e=h.y+16,h=h.x+20,l="iui-dragwin-icon iui-dragwin-move-end","copy"==d.action&&(l+="-copy"),this.updateDragComponent({"class":l,
top:e,left:h,text:this.name?this.name:"Component"}),this.dropMark(a,k),this.dragDropService.setData({action:d.action,clone:f.clone,source:f.source,sourceCtrl:f.sourceCtrl,sourceData:f.sourceData,target:null,targetCtrl:this,dropPos:d.dropPos})):(a.dataTransfer?a.dataTransfer.dropEffect="none":a.originalEvent&&a.originalEvent.dataTransfer&&(a.originalEvent.dataTransfer.dropEffect="none"),this.dropMark(a))):(a.dataTransfer?a.dataTransfer.dropEffect="none":a.originalEvent&&a.originalEvent.dataTransfer&&
(a.originalEvent.dataTransfer.dropEffect="none"),this.dropMark(a))}};c.prototype.processDragDrop=function(a,b){a.preventDefault();this.dropMark(a);var d=!0;a.dataTransfer?d="none"===a.dataTransfer.effectAllowed?!1:!0:a.originalEvent&&a.originalEvent.dataTransfer&&(d="none"===a.originalEvent.dataTransfer.effectAllowed?!1:!0);var e=this.dragDropService.getData();if(d){if((d=b?this.isDropAllowed(e.source,b,e.dropPos):this.checkEmptySpace(a))&&e.source){var c=this.callDragDropEvent(a,{action:e.action,
source:e.source,dropPos:e.dropPos,allow:d,sourceCtrl:e.sourceCtrl,target:e.target,targetCtrl:this},!0);this.dragDropService.setData({action:c.action,clone:e.clone,dropPos:c.dropPos,source:e.source,sourceCtrl:e.sourceCtrl,sourceData:e.sourceData,target:e.target,targetCtrl:this});c.cancel||this.drop(a,this.dragDropService.getData())}e.sourceCtrl&&e.sourceCtrl.removeDropMark&&e.sourceCtrl.removeDropMark()}var g=this,f=setTimeout(function(){if(d){var b=g.dragDropService.getData();b={action:b.action,dragItem:b.source,
dropPos:b.dropPos,event:a,isDropAllowed:!0,mousePos:g.commonService.getMousePos(a),sourceCtrl:b.sourceCtrl,targetCtrl:g,targetItem:b.target};g.dragDropComplete.emit(b)}g.isDragActive=!1;g.dragDropService.clearData();g.clearHoverItem();clearTimeout(f)},150)};c.prototype.drop=function(a,b){if(b&&b.sourceCtrl){var d="copy"==b.action&&b.clone?b.clone:b.source;if(Array.isArray(d)){for(var e=[],c=0;c<d.length;c++)e.push(d[c]);if(0<e.length){for(c=0;c<e.length;c++)this.processDataDrop(a,e[c],b);this.clearPrevSelection()}}else this.processDataDrop(a,
d,b),this.clearPrevSelection();b.sourceCtrl!=b.targetCtrl&&b.sourceCtrl.updateLayout&&b.sourceCtrl.updateLayout();this.updateLayout()}this.isCtrlDragEntered=!1};c.prototype.processDataDrop=function(a,b,d){a="copy"==d.action;"copy"!=d.action&&d.sourceCtrl&&d.sourceCtrl.removeItem&&(a=d.sourceCtrl.removeItem(b));if(a)switch(d.dropPos){case 0:this.insertItemAt(b,-1,d.target);break;case 1:this.insertItemBefore(b,d.target);break;case 2:this.insertItemAfter(b,d.target);break;default:this.addItem(b)}};c.prototype.callAfterSelectEvent=
function(a){a={item:a};this.afterSelect.emit(a);this.selectionChanged.emit(a)};c.prototype.itemDragStart=function(a,b){this.processDragStart(a,b.data);a.stopPropagation()};c.prototype.itemDragOver=function(a,b,d,e){if(this.isEnabled){var c=this.getItemElemList();c&&0<=d&&d<c.length&&(d=this.commonService.getPageRect(c[d].nativeElement),d={x:d.left,y:d.top,width:d.right-d.left,height:d.bottom-d.top},this.processScroll(a),this.isScrollTimerActive||this.processDragOver(a,b.data,d,e))}a.stopPropagation()};
c.prototype.itemDragDrop=function(a,b){this.isEnabled&&this.processDragDrop(a,b.data);a.stopPropagation()};c.prototype.itemDragEnd=function(a,b){var d=this.dragDropService.getData();d={action:a.shiftKey?"copy":"move",dragItem:d.source,dropPos:d.dropPos,event:a,mousePos:this.commonService.getMousePos(a),sourceCtrl:d.sourceCtrl,targetCtrl:this,targetItem:d.target};this.dragEnd.emit(d)};c.prototype.exportToJSON=function(a,b){return JSON.stringify(this.items,a?a:[this.options.dataFields.allowDrag,this.options.dataFields.allowDrop,
this.options.dataFields.allowEdit,this.options.dataFields.allowFocus,this.options.dataFields.autoCheck,this.options.dataFields.canSelect,this.options.dataFields.checkBoxSettings,this.options.dataFields.checked,this.options.dataFields.checkState,this.options.dataFields.content,this.options.dataFields.contentVisibility,this.options.dataFields.contextMenu,this.options.dataFields.enabled,this.options.dataFields.fixed,this.options.dataFields.fixChildren,this.options.dataFields.hasChildren,this.options.dataFields.icon,
this.options.dataFields.id,this.options.dataFields.selected,this.options.dataFields.showCheckBox,this.options.dataFields.statusIcon,this.options.dataFields.style,this.options.dataFields.templateObj,this.options.dataFields.text,this.options.dataFields.tooltip,this.options.dataFields.value,this.options.dataFields.visible],b?b:null)};c.prototype.filter=function(a){this.filterParams=a;this.updateLayout();this.change.emit({type:"filtering"})};c.prototype.clearHoverItem=function(){var a=this;if(a.hoverItem)var b=
setTimeout(function(){var d=a.getObjFromScrollItem(a.hoverItem);a.hoverItem=null;a.updateItemStyle(d);clearTimeout(b)},25)};c.prototype.cloneItem=function(a){return this.dataService.clone(a)};c.prototype.createCloneList=function(a){for(var b=[],d=0;d<a.length;d++)b.push(this.cloneItem(a[d]));return b};c.prototype.getFilterTree=function(a){return a?this.filterService.createTree(a.conditions,a.formula):null};c.prototype.getObjFromItem=function(a){for(var b=null,d=0;d<this.currentList.length;d++)if(this.currentList[d].data==
a){b=this.currentList[d];break}return b};c.prototype.getObjFromScrollItem=function(a){for(var b=null,d=0;d<this.scrollItemList.length;d++){var e=this.scrollItemList[d];if(e.data==a){b=e;break}}return b};c.prototype.getItemCurrentIndex=function(a){if(a)return(a=this.getObjFromItem(a))&&this.currentList?this.currentList.indexOf(a):-1};c.prototype.getItemScrollIndex=function(a){return a&&this.scrollItemList?this.scrollItemList.indexOf(a):-1};c.prototype.getItemElem=function(a){var b=this.getObjFromScrollItem(a);
return b&&(a=this.getItemElemList(),b=this.getItemScrollIndex(b),0<=b&&b<a.length)?a[b]:null};c.prototype.getItemElemList=function(){return null};c.prototype.getItemFromComponent=function(a){return null};c.prototype.getList=function(a){switch(a){case "current":return this.currentList;case "selected":return this.currentSelectedItems}return this.dataService.getList()};c.prototype.getFullList=function(){return this.fullList};c.prototype.updateFullList=function(){this.fullList.length=0;return this.fullList};
c.prototype.getTopItem=function(){return 0!=this.virtualMode?0<this.scrollItemList.length?this.scrollItemList[0].data:null:null};c.prototype.invokeMethod=function(a,b){var d=!0;if(this.isEnabled)switch(a){case "REMOVE_DROPMARK":this.removeDropMark();break;case "SELECT_ITEM":b&&(d=this.processSelection(b.event,b.item));break;case "UPDATE_SELECTION":b&&this.updateSelection(b.event,b.item)}return d};c.prototype.isChildOf=function(a,b){return!1};c.prototype.isContentAllowed=function(a,b){var d=this.contentVisibility==
integralui_core_1.IntegralUIContentVisibility.Both;switch(b){case "hover":d=(d&&(!this.isSelectedTemplatePresent||!a[this.options.dataFields.selected])||this.contentVisibility==integralui_core_1.IntegralUIContentVisibility.Hover)&&(void 0==a[this.options.dataFields.contentVisibility]||a[this.options.dataFields.contentVisibility]==integralui_core_1.IntegralUIContentVisibility.Hover||a[this.options.dataFields.contentVisibility]==integralui_core_1.IntegralUIContentVisibility.Both);break;case "select":d=
(d||this.contentVisibility==integralui_core_1.IntegralUIContentVisibility.Select)&&(void 0==a[this.options.dataFields.contentVisibility]||a[this.options.dataFields.contentVisibility]==integralui_core_1.IntegralUIContentVisibility.Select||a[this.options.dataFields.contentVisibility]==integralui_core_1.IntegralUIContentVisibility.Both)}return d};c.prototype.isComponentIndexInRange=function(a){return this.itemList?0<=a&&a<this.itemList.length:!1};c.prototype.isIndexInRange=function(a){return this.currentList?
0<=a&&a<this.currentList.length:!1};c.prototype.isItemAllowed=function(a){if(0==a[this.options.dataFields.visible])return!1;if(0==this.options.allowFilter)return!0;var b=!0;a&&this.filterParams&&(b=(b=a[this.options.dataFields.value])?b:a[this.options.dataFields.text],this.filterParams.callback?b=this.filterParams.callback(b,a):(b=this.filterService.match(b,this.filterParams.conditions,this.filterParams.formula,this.getFilterTree(this.filterParams),this.filterParams.caseSensitive),!b&&this.filterParams.allowParent&&
(b=this.filterIsThereChildren(a))));return b};c.prototype.filterIsThereChildren=function(a){var b=!1;if(a=a[this.options.dataFields.items])for(var d=0;d<a.length&&!(b=this.isItemAllowed(a[d]));d++);return b};c.prototype.isItemEnabled=function(a){return!0};c.prototype.isItemHovered=function(a){return this.isDragActive||this.isScrollTimerActive||!a||a!=this.hoverItem?!1:!0};c.prototype.isItemSelected=function(a){return a&&1==a[this.options.dataFields.selected]?!0:!1};c.prototype.isParentOf=function(a,
b){return!1};c.prototype.updateItemList=function(){};c.prototype.getLastItemIndex=function(){var a=this.dataService.getList();return a?a.length-1:-1};c.prototype.getPrevItem=function(a){var b=null;if(a){var d=this.dataService.getList();a=d.indexOf(a);a=0<a?a-1:-1;0<=a&&(b=d[a])}return b};c.prototype.getNextItem=function(a){var b=null;if(a){var d=this.dataService.getList();a=d.indexOf(a);a=a<d.length-1?a+1:-1;0<=a&&(b=d[a])}return b};c.prototype.moveItem=function(a,b,d,e){if(a){this.allowUpdate=!1;
var c=-1;switch(b){case integralui_core_1.IntegralUIMoveDirection.At:c=e;break;case integralui_core_1.IntegralUIMoveDirection.Down:d=this.getNextItem(a);break;case integralui_core_1.IntegralUIMoveDirection.First:c=0;break;case integralui_core_1.IntegralUIMoveDirection.Last:c=this.getLastItemIndex();break;case integralui_core_1.IntegralUIMoveDirection.Up:d=this.getPrevItem(a)}if(Array.isArray(a)){if(0<a.length){e=this.getItemCurrentIndex(a[0]);var g=this.getItemCurrentIndex(a[a.length-1]);if(e<=g)for(e=
0;e<a.length;e++)this.moveItemAt(a[e],d,b,c);else for(e=a.length-1;0<=e;e--)this.moveItemAt(a[e],d,b,c)}}else this.moveItemAt(a,d,b,c);this.allowUpdate=!0;this.updateLayout();this.change.emit({type:"move-item"})}};c.prototype.moveItemAt=function(a,b,d,e){this.removeItem(a)&&(d==integralui_core_1.IntegralUIMoveDirection.First||d==integralui_core_1.IntegralUIMoveDirection.Right||d==integralui_core_1.IntegralUIMoveDirection.Last||d==integralui_core_1.IntegralUIMoveDirection.At?this.insertItemAt(a,e,
b):d==integralui_core_1.IntegralUIMoveDirection.Before||d==integralui_core_1.IntegralUIMoveDirection.Up?this.insertItemBefore(a,b):(d==integralui_core_1.IntegralUIMoveDirection.After||d==integralui_core_1.IntegralUIMoveDirection.Left||d==integralui_core_1.IntegralUIMoveDirection.Down)&&this.insertItemAfter(a,b))};c.prototype.getSelectBlockRect=function(a){var b={left:0,top:"-9999999px",height:0,width:0};a<this.blockSelectRect.length&&(b={left:this.blockSelectRect[a].left+"px",top:this.blockSelectRect[a].top+
"px",height:this.blockSelectRect[a].height+"px",width:this.blockSelectRect[a].width+"px"});return b};c.prototype.hoverBlockMouseMove=function(a){!this.isEnabled||this.isScrollActive||this.hoverItem||this.itemMouseEnter(a,this.hoverItemObj)};c.prototype.hoverBlockMouseLeave=function(a){this.isEnabled&&!this.isScrollActive&&this.itemMouseLeave(a,this.hoverItemObj)};c.prototype.itemMouseEnter=function(a,b){this.isEnabled&&!this.isScrollActive&&(this.hoverItem=b.data,this.hoverItemObj=b,this.updateItemStyle(b),
this.itemHover.emit({item:b.data}))};c.prototype.itemMouseMove=function(a,b){if(this.isEnabled&&!this.isScrollActive){this.hoverItem=b.data;this.updateItemStyle(b);var d=this.getItemScrollIndex(b),e=this.getItemElemList();if(e&&0<=d&&d<e.length){var c=this.commonService.getPageRect(this.elemRef.nativeElement.firstElementChild);d=this.commonService.getPageRect(e[d].nativeElement);this.blockHoverRect.top=d.top-c.top-1}this.itemHover.emit({item:b.data})}};c.prototype.itemMouseLeave=function(a,b){this.isEnabled&&
!this.isScrollActive&&(this.hoverItem=null,this.updateItemStyle(b))};c.prototype.itemGotFocus=function(a){this.refresh()};c.prototype.itemLostFocus=function(a){this.refresh()};c.prototype.itemKeyDown=function(a,b){if(this.isEnabled){var d={cancel:!1,item:b.data,event:a};this.keyDown.emit(d);switch(a.keyCode){case 13:this.beforeEdit.emit(d);break;case 33:!d.cancel&&this.options.allowFocus&&(a.preventDefault(),this.isKeyboardActive=!0,this.processPageUpKey(b));break;case 34:!d.cancel&&this.options.allowFocus&&
(a.preventDefault(),this.isKeyboardActive=!0,this.processPageDownKey(b));break;case 35:!d.cancel&&this.options.allowFocus&&(a.preventDefault(),this.isKeyboardActive=!0,this.processEndKey(b));break;case 36:!d.cancel&&this.options.allowFocus&&(a.preventDefault(),this.isKeyboardActive=!0,this.processHomeKey(b));break;case 37:!d.cancel&&this.options.allowFocus&&(a.preventDefault(),this.isKeyboardActive=!0,this.processLeftArrowKey(b));break;case 38:!d.cancel&&this.options.allowFocus&&(a.preventDefault(),
this.isKeyboardActive=!0,this.processUpArrowKey(b));break;case 39:!d.cancel&&this.options.allowFocus&&(a.preventDefault(),this.isKeyboardActive=!0,this.processRightArrowKey(b));break;case 40:!d.cancel&&this.options.allowFocus&&(a.preventDefault(),this.isKeyboardActive=!0,this.processDownArrowKey(b))}}};c.prototype.itemKeyPress=function(a,b){this.isEnabled&&this.keyPress.emit({cancel:!1,item:b.data,event:a})};c.prototype.itemKeyUp=function(a,b){this.isEnabled&&this.keyUp.emit({cancel:!1,item:b.data,
event:a})};c.prototype.processDownArrowKey=function(a,b){var d=this.getDownItem(a);if(d){this.currentFocusItem=d.data;var e=this,c=setTimeout(function(){e.processSelection(b,d.data);clearTimeout(c)},1);this.isLastItem(d)&&this.scrollPos({x:this.currentScrollPos.x,y:this.currentScrollPos.y+2*this.avgItemHeight})}return d};c.prototype.processEndKey=function(a,b){var d=null;if(0<this.scrollItemList.length){this.scrollPos({x:this.currentScrollPos.x,y:this.maxScrollPos.y});var e=this;setTimeout(function(){d=
e.scrollItemList[e.scrollItemList.length-1];e.currentFocusItem=d.data;var a=setTimeout(function(){e.processSelection(b,d.data);clearTimeout(a)},1)},1)}return d};c.prototype.processHomeKey=function(a,b){var d=null;if(0<this.scrollItemList.length){this.scrollPos({x:this.currentScrollPos.x,y:0});var e=this;setTimeout(function(){d=e.scrollItemList[0];e.currentFocusItem=d.data;var a=setTimeout(function(){e.processSelection(b,d.data);clearTimeout(a)},1)},1)}return d};c.prototype.processLeftArrowKey=function(a,
b){return null};c.prototype.processPageDownKey=function(a,b){var d=null;if(0<this.scrollItemList.length){this.scrollPos({x:this.currentScrollPos.x,y:this.currentScrollPos.y+this.avgItemHeight*(this.scrollItemList.length-1)});var e=this;setTimeout(function(){var c=0<=a.index&&a.index<e.scrollItemList.length?a.index:e.scrollItemList.length-1;e.currentScrollPos.y==e.maxScrollPos.y&&(c=e.scrollItemList.length-1);d=e.scrollItemList[c];e.currentFocusItem=d.data;var g=setTimeout(function(){e.processSelection(b,
d.data);clearTimeout(g)},1)},1)}return d};c.prototype.processPageUpKey=function(a,b){var d=null;if(0<this.scrollItemList.length){this.scrollPos({x:this.currentScrollPos.x,y:this.currentScrollPos.y-this.avgItemHeight*(this.scrollItemList.length-1)});var e=this;setTimeout(function(){var c=0<=a.index&&a.index<e.scrollItemList.length?a.index:0;0==e.currentScrollPos.y&&(c=0);d=e.scrollItemList[c];e.currentFocusItem=d.data;var g=setTimeout(function(){e.processSelection(b,d.data);clearTimeout(g)},1)},1)}return d};
c.prototype.processRightArrowKey=function(a,b){return null};c.prototype.processUpArrowKey=function(a,b){var d=this.getUpItem(a);if(d){this.currentFocusItem=d.data;var e=this,c=setTimeout(function(){e.processSelection(b,d.data);clearTimeout(c)},1);this.isFirstItem(d)&&this.scrollPos({x:this.currentScrollPos.x,y:this.currentScrollPos.y-this.avgItemHeight})}return d};c.prototype.getDownItem=function(a){a=0<=a.index&&a.index<this.scrollItemList.length-1?a.index+1:-1;return 0<=a?this.scrollItemList[a]:
null};c.prototype.getUpItem=function(a){a=0<a.index?a.index-1:-1;return 0<=a?this.scrollItemList[a]:null};c.prototype.isFirstItem=function(a){return 0==a.index?!0:!1};c.prototype.isLastItem=function(a){return a.index==this.scrollItemList.length-2?!0:!1};c.prototype.moveFocusFromItem=function(a,b){if(!this.options.allowFocus)return null;var d=null,e=this.getObjFromScrollItem(a);if(e)switch(b){case "down":d=this.processDownArrowKey(e);break;case "end":d=this.processEndKey(e);break;case "home":d=this.processHomeKey(e);
break;case "left":d=this.processLeftArrowKey(e);break;case "pagedown":d=this.processPageDownKey(e);break;case "pageup":d=this.processPageUpKey(e);break;case "right":d=this.processRightArrowKey(e);break;case "up":d=this.processUpArrowKey(e)}return d?d.data:null};c.prototype.onWindowKeyDown=function(a){this.isEnabled&&this.isKeyboardActive&&a.preventDefault()};c.prototype.onWindowKeyUp=function(a){this.isKeyboardActive=!1};c.prototype.checkForSelectionChange=function(){var a=this;if(0<this.currentSelectedItems.length){var b=
this.getFullList(),d=[];this.currentSelectedItems.map(function(c){0==b.filter(function(b){return a.commonService.isEqual(b[a.options.dataFields.id],c[a.options.dataFields.id])}).length&&d.push(c)});if(0<d.length){var e=[];d.map(function(b){b[a.options.dataFields.selected]=!1;e.push(a.currentSelectedItems.indexOf(b))});this.currentSelection&&0<d.filter(function(b){return a.commonService.isEqual(a.currentSelection[a.options.dataFields.id],b[a.options.dataFields.id])}).length&&(this.currentSelection=
null);for(var c=e.length-1;0<=c;c--)this.currentSelectedItems.splice(e[c],1);this.selectionChanged.emit({item:this.currentSelection})}}};c.prototype.getContentSize=function(){return{width:0,height:0}};c.prototype.refresh=function(){this.updateItemList();this.clearComponentSelection();for(var a=0;a<this.currentSelectedItems.length;a++){var b=this.getItemCurrentIndex(this.currentSelectedItems[a]);this.isComponentIndexInRange(b)&&(this.itemList[b].state|=integralui_core_1.IntegralUIObjectState.selected)}};
c.prototype.updateBlockSize=function(){this.blockSize={width:0,height:0}};c.prototype.resetLayoutTimer=function(){this.updateTimer&&clearTimeout(this.updateTimer);this.updateTimer=null};c.prototype.suspendLayout=function(){this.allowUpdate=!1};c.prototype.resumeLayout=function(){this.allowUpdate=!0;this.updateLayout()};c.prototype.updateCurrentLayout=function(a){};c.prototype.updateLayout=function(){var a=this;a.allowUpdate&&(a.resetLayoutTimer(),a.updateTimer=setTimeout(function(){a.updateCurrentList();
a.updateFullList();a.clientRect={width:a.elemRef.nativeElement.firstElementChild.clientWidth,height:a.elemRef.nativeElement.firstElementChild.clientHeight};a.virtualMode&&a.updateScrollItemList();var b=setTimeout(function(){a.updateVisibleRange();a.virtualMode&&a.updateScrollItemList();var d=setTimeout(function(){a.updateBlockSize();a.checkForSelectionChange();var b=a.getItemElemList();a.avgItemHeight=0;if(b&&0<b.length){for(var c=0,g=0;g<b.length;g++)c+=b[g].nativeElement.offsetHeight;a.avgItemHeight=
Math.floor(c/b.length)}a.animateItemSize.height=a.avgItemHeight;a.updateScrollSize();a.refresh();var f=setTimeout(function(){a.updateBlockSize();a.updateHoverContentPos();a.updateSelectContentPos();a.updateComplete.emit(null);a.isUpdateActive=!1;clearTimeout(f)},1);clearTimeout(d)},1);clearTimeout(b)},1);clearTimeout(a.updateTimer)},100))};c.prototype.updateScrollSize=function(){this.contentSize={width:this.clientRect.width-2,height:this.clientRect.height-2};this.scrollSize={width:0,height:this.avgItemHeight*
this.currentList.length-this.clientRect.height+this.avgItemHeight};this.isVerScrollVisible()&&(this.contentSize.width-=18,0<this.scrollSize.width&&(this.scrollSize.width+=16));this.isHorScrollVisible()&&(this.scrollSize.height+=16);this.scrollSize.width=0<this.scrollSize.width?this.scrollSize.width:0;this.scrollSize.height=0<this.scrollSize.height?this.scrollSize.height:0;this.maxScrollPos={x:this.scrollSize.width,y:this.scrollSize.height};this.currentScrollPos.x>this.maxScrollPos.x&&this.changeHorizontalScrollPos(this.maxScrollPos.x);
this.currentScrollPos.y>this.maxScrollPos.y&&this.changeVerticalScrollPos(this.maxScrollPos.y);this.scrollBarSize={width:this.isVerScrollVisible()?this.clientRect.width-20:this.clientRect.width-4,height:this.isHorScrollVisible()?this.clientRect.height-20:this.clientRect.height-4};this.scrollLargeChange={x:this.scrollBarSize.width,y:this.scrollBarSize.height};this.blockHoverRect={height:this.avgItemHeight-2,left:0,top:-9999999,width:this.clientRect.width-2};var a=this.avgItemHeight-2,b=this.clientRect.width-
2;this.isVerScrollVisible()&&(this.blockHoverRect.width-=16,b-=16);this.blockSelectRect.map(function(d){d.width=b;d.height=a})};c.prototype.updateHoverContentPos=function(){this.blockHoverRect={height:this.avgItemHeight-2,left:0,top:-9999999,width:this.clientRect.width-2};if(this.hoverItem&&this.isHoverTemplatePresent){var a=this.getObjFromScrollItem(this.hoverItem),b=this.getItemScrollIndex(a),d=this.getItemElemList();d&&0<=b&&b<d.length&&(a=this.commonService.getPageRect(this.elemRef.nativeElement.firstElementChild),
b=this.commonService.getPageRect(d[b].nativeElement),this.blockHoverRect.top=b.top-a.top-1,this.isVerScrollVisible()&&(this.blockHoverRect.width-=16))}};c.prototype.updateSelectContentPos=function(){var a=this;a.blockSelectRect.length=0;if(a.isSelectedTemplatePresent){var b=a.commonService.getPageRect(a.elemRef.nativeElement.firstElementChild),d=a.getItemElemList();a.blockSelectHeight=a.avgItemHeight-2;a.currentSelectedItems.map(function(c){c=a.getObjFromScrollItem(c);var e=a.getItemScrollIndex(c);
c={height:a.blockSelectHeight,left:0,top:-9999999,width:a.clientRect.width-2};a.isVerScrollVisible()&&(c.width-=16);d&&0<=e&&e<d.length?(e=a.commonService.getPageRect(d[e].nativeElement),c.top=e.top-b.top-1):c.top=-9999999;a.blockSelectRect.push(c)})}};c.prototype.updateVisibleRange=function(){this.visibleRange=1;var a=this.getItemElemList();if(a&&0<a.length){for(var b=0,d=0;d<a.length;d++)b+=a[d].nativeElement.offsetHeight;a=Math.floor(b/a.length);0<a&&(this.visibleRange=Math.floor(this.clientRect.height/
a)+1)}};c.prototype.updateView=function(){this.currentIndex=0<this.avgItemHeight?Math.floor(this.currentScrollPos.y/this.avgItemHeight):0;this.currentIndex!=this.prevIndex&&(this.updateScrollItemList(),this.updateBlockSize(),this.updateHoverContentPos(),this.updateSelectContentPos(),this.prevIndex=this.currentIndex)};c.prototype.updateCloneElemPos=function(a){1==a.buttons&&this.cloneElem&&(this.cloneElem.style.top=a.pageY-this.cloneElemStartPos.y+"px",this.cloneElem.style.left=a.pageX-this.cloneElemStartPos.x+
"px")};c.prototype.onCtrlMouseEnter=function(a){this.isEnabled&&1==a.buttons&&this.cloneElem&&(this.cloneElem.style.display="block");this.isEnabled&&(this.state|=integralui_core_1.IntegralUIObjectState.hovered);this.elemRenderer.setStyle(this.elemRef.nativeElement,"cursor","default")};c.prototype.onCtrlMouseLeave=function(a){this.isEnabled&&1==a.buttons&&this.cloneElem&&(this.cloneElem.style.display="none");this.state&=~integralui_core_1.IntegralUIObjectState.hovered;this.blockHoverRect.top=-9999999;
this.stopScrollTimer()};c.prototype.onCtrlMouseMove=function(a){this.hoverItem||(this.blockHoverRect.top=-9999999)};c.prototype.itemMouseDown=function(a,b){this.isEnabled&&(this.options.allowFocus&&1==a.buttons&&(this.currentFocusItem=b.data),this.processSelection(a,b.data),this.prevClickedObj&&(this.prevClickedObj.isClicked=!1),b.isClicked=!0,b.clickPos=this.commonService.getClientPos(a,this.elemRef.nativeElement.firstElementChild),this.prevClickedObj=b,this.updateSelectContentPos());a.stopPropagation()};
c.prototype.itemMouseUp=function(a,b){this.isEnabled&&(this.updateSelection(a,b.data),this.updateSelectContentPos())};c.prototype.onScroll=function(a){a.target&&(this.virtualMode?(a.target.scrollTop=0,a.target.scrollLeft=0):this.scrollPos({x:a.target.scrollLeft,y:a.target.scrollTop}))};c.prototype.scrollPos=function(a){if(0!=this.virtualMode)return a&&(this.currentScrollPos={x:Math.max(0,Math.min(a.x,this.maxScrollPos.x)),y:Math.max(0,Math.min(a.y,this.maxScrollPos.y))},this.scrollPosChanged.emit({value:this.currentScrollPos})),
{x:Math.floor(this.currentScrollPos.x),y:Math.floor(this.currentScrollPos.y)};if(this.elemRef){var b=this.elemRef.nativeElement.firstElementChild.scrollWidth,d=this.elemRef.nativeElement.firstElementChild.scrollHeight;this.maxScrollPos={x:b>this.elemRef.nativeElement.firstElementChild.clientWidth?b-this.elemRef.nativeElement.firstElementChild.clientWidth:0,y:d>this.elemRef.nativeElement.firstElementChild.clientHeight?d-this.elemRef.nativeElement.firstElementChild.clientHeight:0};a?(this.currentScrollPos.x=
Math.max(0,Math.min(a.x,this.maxScrollPos.x)),this.currentScrollPos.y=Math.max(0,Math.min(a.y,this.maxScrollPos.y)),this.elemRef.nativeElement.firstElementChild.scrollLeft=this.currentScrollPos.x,this.elemRef.nativeElement.firstElementChild.scrollTop=this.currentScrollPos.y,this.scrollPosChanged.emit({value:this.currentScrollPos})):(this.currentScrollPos.x=Math.max(0,Math.min(this.elemRef.nativeElement.firstElementChild.scrollLeft,this.maxScrollPos.x)),this.currentScrollPos.y=Math.max(0,Math.min(this.elemRef.nativeElement.firstElementChild.scrollTop,
this.maxScrollPos.y)))}return this.currentScrollPos};c.prototype.changeHorizontalScrollPos=function(a){this.currentScrollPos.x=Math.max(0,Math.min(a,this.maxScrollPos.x));this.currentScrollPos.x!=this.prevScrollPos.x&&(this.scrollPosChanged.emit({value:this.scrollPos()}),this.prevScrollPos.x=this.currentScrollPos.x)};c.prototype.changeVerticalScrollPos=function(a){this.currentScrollPos.y=Math.max(0,Math.min(a,this.maxScrollPos.y));this.currentScrollPos.y!=this.prevScrollPos.y&&(this.updateView(),
this.scrollPosChanged.emit({value:this.scrollPos()}),this.prevScrollPos.y=this.currentScrollPos.y)};c.prototype.processMouseWheel=function(a,b){if(this.isEnabled){this.hoverItem=null;var d=Math.max(-1,Math.min(1,a.wheelDelta||-a.detail)),c=5;switch(this.mouseWheelSpeed){case integralui_core_1.IntegralUISpeedMode.VerySlow:c=15;break;case integralui_core_1.IntegralUISpeedMode.Slow:c=9;break;case integralui_core_1.IntegralUISpeedMode.Fast:c=3;break;case integralui_core_1.IntegralUISpeedMode.VeryFast:c=
1}0!=this.virtualMode?(a.preventDefault(),this.isVerScrollVisible()?(c=Math.floor(this.clientRect.height/c),this.mouseWheelSpeed==integralui_core_1.IntegralUISpeedMode.VerySlow&&0<this.avgItemHeight&&(c=this.avgItemHeight),d=this.currentScrollPos.y+c*d*-1,this.changeVerticalScrollPos(d)):b&&this.isHorScrollVisible()&&(c=Math.floor(this.clientRect.width/c),d=this.currentScrollPos.x+c*d*-1,this.changeHorizontalScrollPos(d)),a.stopPropagation()):b&&(a.preventDefault(),c=Math.floor(this.clientRect.width/
c),d=this.currentScrollPos.x+c*d*-1,this.elemRef.nativeElement.firstElementChild.scrollLeft=d,a.stopPropagation())}};c.prototype.isVerScrollVisible=function(){return this.isEnabled&&this.options.showScroll.vertical&&0<this.scrollSize.height?!0:!1};c.prototype.isHorScrollVisible=function(){return this.isEnabled&&this.options.showScroll.horizontal&&0<this.scrollSize.width?!0:!1};c.prototype.onVerticalScrollStart=function(a){this.hoverItem=null;this.isScrollActive=!0};c.prototype.onVerticalScrollEnd=
function(a){this.isScrollActive=!1};c.prototype.onVerticalScrollChanged=function(a){this.changeVerticalScrollPos(a.value)};c.prototype.onHorizontalScrollStart=function(a){this.hoverItem=null;this.isScrollActive=!0};c.prototype.onHorizontalScrollEnd=function(a){this.isScrollActive=!1};c.prototype.onHorizontalScrollChanged=function(a){this.currentScrollPos.x=a.value;this.scrollPosChanged.emit({value:this.scrollPos()})};c.prototype.scrollMouseEnter=function(a){this.blockHoverRect.top=-9999999};c.prototype.processScroll=
function(a){if(this.isVerScrollVisible()){var b=this.commonService.getShiftPos();a=this.commonService.getMousePos(a);a.x-=b.x;a.y-=b.y;var d=this.commonService.getPageRect(this.elemRef.nativeElement.firstElementChild);b=d.top+25;d=d.bottom-25;this.isHorScrollVisible()&&(d-=16);a.y<b&&0<this.currentScrollPos.y?this.startScrollTimer(!1):a.y>d&&this.currentScrollPos.y<this.maxScrollPos.y?this.startScrollTimer(!0):this.stopScrollTimer()}else this.stopScrollTimer()};c.prototype.startScrollTimer=function(a,
b){var d=this;d.removeDropMark();d.isScrollTimerActive||(d.accelerator=.5,d.scrollCount=0,d.isScrollTimerActive=!0,d.scrollTimerID||(d.scrollTimerID=setInterval(function(){d.scrollTimerElapsed(a)},b?b:100)))};c.prototype.stopScrollTimer=function(){this.scrollTimerID&&(clearInterval(this.scrollTimerID),this.scrollTimerID=null);this.accelerator=.5;this.scrollCount=0;this.isScrollTimerActive=!1};c.prototype.scrollTimerElapsed=function(a){var b=this.currentScrollPos;0===this.scrollCount&&(this.scrollCount=
5);this.scrollCount+=5;this.accelerator+=.5;var d=this.scrollCount+=Math.floor(this.accelerator);this.currentScrollPos.y=a?this.currentScrollPos.y+d>this.maxScrollPos.y?this.maxScrollPos.y:this.currentScrollPos.y+d:0>this.currentScrollPos.y-d?0:this.currentScrollPos.y-d;(0>=b.y||this.currentScrollPos.y<b.y)&&this.stopScrollTimer()};c.prototype.scrollTo=function(a){0!=this.virtualMode&&a&&(a=this.getItemCurrentIndex(a),0<=a&&this.scrollPos({x:this.currentScrollPos.x,y:this.avgItemHeight*(a+this.visibleRange/
2)}),this.updateLayout())};c.prototype.findItemById=function(a){return this.dataService.findObjectById(a)};c.prototype.findItemByText=function(a){return this.dataService.findObjectByText(a)};c.prototype.clearSelection=function(){this.clearPrevSelection();this.currentSelection=null;this.updateSelectContentPos();this.refresh()};c.prototype.clearComponentSelection=function(){this.itemList.forEach(function(a){return a.state&=~integralui_core_1.IntegralUIObjectState.selected})};c.prototype.clearPrevSelection=
function(a){for(var b=0;b<this.currentSelectedItems.length;b++)a&&!this.commonService.isEqual(this.currentSelectedItems[b][this.options.dataFields.id],a[this.options.dataFields.id])?this.currentSelectedItems[b][this.options.dataFields.selected]=!1:a||(this.currentSelectedItems[b][this.options.dataFields.selected]=!1);this.currentSelectedItems.length=0;a&&this.isItemEnabled(a)&&this.currentSelectedItems.push(a)};c.prototype.isItemInSelectionList=function(a){var b=!1,d=this.currentSelectedItems;if(a&&
d)for(var c=0;c<d.length;c++)if(this.commonService.isEqual(d[c][this.options.dataFields.id],a[this.options.dataFields.id])){b=!0;break}return b};c.prototype.processSelection=function(a,b,d){var c=!0;if(b){if(this.selectionMode==integralui_core_1.IntegralUISelectionMode.None||0==b[this.options.dataFields.canSelect])return;var k=0<this.currentSelectedItems.length;if(this.isItemEnabled(b)){var g=this.currentSelection,f=!0;g&&(f=a&&(a.ctrlKey||a.metaKey)||!this.commonService.isEqual(g[this.options.dataFields.id],
b[this.options.dataFields.id])||0==g[this.options.dataFields.selected]);var h={cancel:!1,item:b};this.beforeSelect.emit(h);c=1==h.cancel?!1:!0;if(1!=h.cancel)if(h=a&&(a.shiftKey||a.ctrlKey||a.metaKey)?!0:!1,f){this.selectionMode==integralui_core_1.IntegralUISelectionMode.MultiExtended&&(f=!this.isItemInSelectionList(b)||!h||a&&a.shiftKey);f&&(this.selectionMode==integralui_core_1.IntegralUISelectionMode.One?this.clearPrevSelection():a&&a.shiftKey?this.clearPrevSelection():h||this.selectionMode==integralui_core_1.IntegralUISelectionMode.MultiSimple||
1!=this.currentSelectedItems.length&&this.isItemInSelectionList(b)||this.clearPrevSelection());this.currentSelection=b;if(a&&a.shiftKey&&this.selectionMode!=integralui_core_1.IntegralUISelectionMode.One){if(this.shiftFirstSelectedItem||(this.shiftFirstSelectedItem=g),a=this.getItemCurrentIndex(this.shiftFirstSelectedItem),d=this.getItemCurrentIndex(b),a>d&&(k=a,a=d,d=k),this.isIndexInRange(a)&&this.isIndexInRange(d))for(;a<=d;a++)0!=this.currentList[a].data[this.options.dataFields.canSelect]&&(this.currentList[a].data[this.options.dataFields.selected]=
!0,this.currentSelectedItems.push(this.currentList[a].data))}else h||this.selectionMode==integralui_core_1.IntegralUISelectionMode.MultiSimple?(a=null==b[this.options.dataFields.selected]||"undefined"==b[this.options.dataFields.selected]?!1:b[this.options.dataFields.selected],b[this.options.dataFields.selected]=!a,b[this.options.dataFields.selected]?this.isItemInSelectionList(b)||this.currentSelectedItems.push(b):this.currentSelectedItems=this.currentSelectedItems.filter(function(a){return a!=b})):
(b[this.options.dataFields.selected]=!0,this.isItemInSelectionList(b)||this.currentSelectedItems.push(b)),this.shiftFirstSelectedItem=null;this.callAfterSelectEvent(b);this.refresh()}else h||this.selectionMode==integralui_core_1.IntegralUISelectionMode.MultiSimple?(a=null===b[this.options.dataFields.selected]||"undefined"==b[this.options.dataFields.selected]?!1:b[this.options.dataFields.selected],d&&"undefined"!=d&&(a=d),b[this.options.dataFields.selected]=!a,b[this.options.dataFields.selected]?this.isItemInSelectionList(b)||
this.currentSelectedItems.push(b):this.currentSelectedItems=this.currentSelectedItems.filter(function(a){return a!=b}),this.shiftFirstSelectedItem=null,this.callAfterSelectEvent(b),this.refresh()):h||this.selectionMode&integralui_core_1.IntegralUISelectionMode.MultiSimple||1!=this.currentSelectedItems.length&&this.isItemInSelectionList(b)||(this.shiftFirstSelectedItem=null,this.clearPrevSelection(b),this.refresh(),f&&k&&this.selectionChanged.emit({item:null}))}else this.clearPrevSelection(),this.refresh(),
k&&this.selectionChanged.emit({item:null})}return c};c.prototype.selectItems=function(a){var b=this;if(a&&Array.isArray(a)){this.currentSelectedItems.map(function(a){return a[b.options.dataFields.selected]=!1});for(var c=this.currentSelectedItems.length=0;c<a.length;c++)a[c][this.options.dataFields.selected]=!0,this.currentSelectedItems.push(a[c]);0<a.length?(this.currentSelection=a[a.length-1],this.callAfterSelectEvent(this.currentSelection)):this.currentSelection=null;this.refresh()}};c.prototype.updateSelection=
function(a,b){var c=a&&(a.shiftKey||a.ctrlKey||a.metaKey)?!0:!1;this.selectionMode==integralui_core_1.IntegralUISelectionMode.MultiExtended&&0!=b[this.options.dataFields.canSelect]&&0<this.currentSelectedItems.length&&!a.shiftKey&&!c&&1==a.which&&(c=this.currentSelectedItems.length,this.clearPrevSelection(),b[this.options.dataFields.selected]=!0,this.currentSelectedItems.push(b),1<c&&this.callAfterSelectEvent(b),this.refresh())};c.prototype.applySorting=function(a){var b=this;a&&(b.sortComparer?a.sort(b.sortComparer):
b.isSortingAllowed()&&a.sort(function(a,c){var d,e;(d=a[b.options.dataFields.value])||(d=a[b.options.dataFields.text]);b.commonService.isObject(d)&&(d=d.value?d.value:d.text);(e=c[b.options.dataFields.value])||(e=c[b.options.dataFields.text]);b.commonService.isObject(e)&&(e=e.value?e.value:e.text);d=void 0!=d?d:null;e=void 0!=e?e:null;switch(b.options.sorting){case integralui_core_1.IntegralUISortOrder.Ascending:if(d<e)return-1;if(d>e)return 1;break;case integralui_core_1.IntegralUISortOrder.Descending:if(d>
e)return-1;if(d<e)return 1;break;default:return 0}}))};c.prototype.isSortingAllowed=function(){return this.options.sorting==integralui_core_1.IntegralUISortOrder.Ascending||this.options.sorting==integralui_core_1.IntegralUISortOrder.Descending};c.prototype.sort=function(a,b){this.options.sorting=a;this.sortComparer=b?b:null;this.updateLayout();this.change.emit({type:"sorting"})};c.prototype.getItemInlineStyle=function(a){return a.data[this.options.dataFields.style]||{}};c.prototype.updateItemStyle=
function(a){a&&(a.style={general:[],content:[]},a.inlineStyle=this.getItemInlineStyle(a),a.style.general.push(this.itemClassName),a.style.general.push(this.options.currentStyle.item.general.normal),a.style.content.push(this.itemContentClassName),a.style.content.push(this.options.currentStyle.item.content.normal),this.isItemEnabled(a.data)?this.isItemSelected(a.data)?(a.style.general.push(this.options.currentStyle.item.general.selected),a.style.content.push(this.options.currentStyle.item.content.selected)):
this.isItemHovered(a.data)&&(a.style.general.push(this.options.currentStyle.item.general.hovered),a.style.content.push(this.options.currentStyle.item.content.hovered)):(a.style.general.push(this.options.currentStyle.item.general.disabled),a.style.content.push(this.options.currentStyle.item.content.disabled)),a.data==this.currentFocusItem&&a.style.general.push(this.options.currentStyle.item.general.focused))};c.prototype.getItemStyle=function(a){return a?{general:this.getItemGeneralStyle(a.general),
content:this.getItemContentStyle(a.content)}:this.getDefaultItemStyle()};c.prototype.getItemGeneralStyle=function(a){return this.commonService.isString(a)?a:a?{disabled:this.commonService.isFieldAvailable(a.disabled,this.itemClassName+"-disabled"),focused:this.commonService.isFieldAvailable(a.focused,this.itemClassName+"-focused"),normal:this.commonService.isFieldAvailable(a.normal,this.itemClassName),hovered:this.commonService.isFieldAvailable(a.hovered,this.itemClassName+"-hovered"),selected:this.commonService.isFieldAvailable(a.selected,
this.itemClassName+"-selected")}:this.getDefaultItemGeneralStyle()};c.prototype.getItemContentStyle=function(a){return this.commonService.isString(a)?a:a?{disabled:this.commonService.isFieldAvailable(a.disabled,this.itemContentClassName+"-disabled"),focused:this.commonService.isFieldAvailable(a.focused,this.itemContentClassName+"-focused"),normal:this.commonService.isFieldAvailable(a.normal,this.itemContentClassName),hovered:this.commonService.isFieldAvailable(a.hovered,this.itemContentClassName+
"-hovered"),selected:this.commonService.isFieldAvailable(a.selected,this.itemContentClassName+"-selected")}:this.getDefaultItemContentStyle()};c.prototype.getDefaultListStyle=function(){return{general:this.getDefaultGeneralStyle(),item:this.getDefaultItemStyle()}};c.prototype.getDefaultItemStyle=function(){return{general:this.getDefaultItemGeneralStyle(),content:this.getDefaultItemContentStyle()}};c.prototype.getDefaultItemGeneralStyle=function(){return{disabled:this.defaultStyle.item.general.disabled,
focused:this.defaultStyle.item.general.focused,normal:this.defaultStyle.item.general.normal,hovered:this.defaultStyle.item.general.hovered,selected:this.defaultStyle.item.general.selected}};c.prototype.getDefaultItemContentStyle=function(){return{disabled:this.defaultStyle.item.content.disabled,focused:this.defaultStyle.item.content.focused,normal:this.defaultStyle.item.content.normal,hovered:this.defaultStyle.item.content.hovered,selected:this.defaultStyle.item.content.selected}};c.prototype.updateStyle=
function(a){this.options.currentStyle=a?{general:this.getGeneralStyle(a.general),item:this.getItemStyle(a.item)}:this.getDefaultListStyle()};c.prototype.itemTouchStart=function(a,b){this.isEnabled&&(this.options.allowFocus&&1==a.buttons&&(this.currentFocusItem=b.data),this.processSelection(a,b.data))};c.prototype.itemTouchMove=function(a,b){};c.prototype.itemTouchEnd=function(a,b){};c.prototype.ctrlTouchStart=function(a){a.preventDefault();this.isEnabled&&(a=this.commonService.getTouchData(a))&&0<
a.length&&(this.touchStartPos={x:a[0].pageX,y:a[0].pageY})};c.prototype.ctrlTouchEnd=function(a){var b=this;if(b.isEnabled){(a=b.commonService.getTouchData(a))&&0<a.length&&(b.touchEndPos={x:a[0].pageX,y:a[0].pageY});var c=b.touchEndPos.x-b.touchStartPos.x,e=b.touchEndPos.y-b.touchStartPos.y,k=!1,g=!1,f=b.touchStartPos,h=b.currentScrollPos.x,l=b.currentScrollPos.y,m=setInterval(function(){var a=b.currentScrollPos;-20>c?(f.x-=10,f.x>b.touchEndPos.x?a.x+=10:(a.x=h-c,k=!0)):20<c?(f.x+=10,f.x<b.touchEndPos.x?
a.x-=10:(a.x=h-c,k=!0)):k=!0;-20>e?(f.y-=10,f.y>b.touchEndPos.y?a.y+=10:(a.y=l-e,g=!0)):20<e?(f.y+=10,f.y<b.touchEndPos.y?a.y-=10:(a.y=l-e,g=!0)):g=!0;b.scrollPos(a);k&&g&&clearInterval(m)},5);b.touchStartPos=b.touchEndPos}};c.\u0275fac=function(a){return new (a||c)(i0.\u0275\u0275directiveInject(i1.IntegralUIDataService),i0.\u0275\u0275directiveInject(i2.IntegralUIDragDropService),i0.\u0275\u0275directiveInject(i0.ElementRef),i0.\u0275\u0275directiveInject(i0.Renderer2),i0.\u0275\u0275directiveInject(i3.IntegralUICommonService),
i0.\u0275\u0275directiveInject(i4.IntegralUIFilterService),i0.\u0275\u0275directiveInject(i0.ComponentFactoryResolver))};c.\u0275cmp=i0.\u0275\u0275defineComponent({type:c,selectors:[["iui-baselist"]],hostBindings:function(a,b){a&1&&i0.\u0275\u0275listener("keydown",function(a){return b.onWindowKeyDown(a)},!1,i0.\u0275\u0275resolveDocument)("keyup",function(a){return b.onWindowKeyUp(a)},!1,i0.\u0275\u0275resolveDocument)},inputs:{appRef:"appRef",allowDrag:"allowDrag",allowDrop:"allowDrop",allowFilter:"allowFilter",
allowFocus:"allowFocus",dataFields:"dataFields",focusedItem:"focusedItem",contentVisibility:"contentVisibility",items:"items",itemSpacing:"itemSpacing",mouseWheelSpeed:"mouseWheelSpeed",showScroll:"showScroll",selectedItem:"selectedItem",selectionMode:"selectionMode",sorting:"sorting",virtualMode:"virtualMode"},outputs:{afterSelect:"afterSelect",beforeEdit:"beforeEdit",beforeSelect:"beforeSelect",change:"change",clear:"clear",dragEnd:"dragEnd",dragEnter:"dragEnter",dragDrop:"dragDrop",dragDropComplete:"dragDropComplete",
dragLeave:"dragLeave",dragOver:"dragOver",dragStart:"dragStart",itemAdding:"itemAdding",itemAdded:"itemAdded",itemClick:"itemClick",itemDblClick:"itemDblClick",itemHover:"itemHover",itemRemoving:"itemRemoving",itemRemoved:"itemRemoved",itemRightClick:"itemRightClick",keyDown:"keyDown",keyPress:"keyPress",keyUp:"keyUp",loadComplete:"loadComplete",scrollPosChanged:"scrollPosChanged",selectionChanged:"selectionChanged",updateComplete:"updateComplete"},features:[i0.\u0275\u0275ProvidersFeature([integralui_data_service_1.IntegralUIDataService]),
i0.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(a,b){},encapsulation:2});return c}(integralui_core_1.IntegralUIBaseComponent);exports.IntegralUIBaseList=IntegralUIBaseList;
(function(){i0.\u0275setClassMetadata(IntegralUIBaseList,[{type:core_1.Component,args:[{selector:"iui-baselist",template:"",providers:[integralui_data_service_1.IntegralUIDataService]}]}],function(){return[{type:i1.IntegralUIDataService},{type:i2.IntegralUIDragDropService},{type:i0.ElementRef},{type:i0.Renderer2},{type:i3.IntegralUICommonService},{type:i4.IntegralUIFilterService},{type:i0.ComponentFactoryResolver}]},{appRef:[{type:core_1.Input}],allowDrag:[{type:core_1.Input}],allowDrop:[{type:core_1.Input}],
allowFilter:[{type:core_1.Input}],allowFocus:[{type:core_1.Input}],dataFields:[{type:core_1.Input}],focusedItem:[{type:core_1.Input}],contentVisibility:[{type:core_1.Input}],items:[{type:core_1.Input}],itemSpacing:[{type:core_1.Input}],mouseWheelSpeed:[{type:core_1.Input}],showScroll:[{type:core_1.Input}],selectedItem:[{type:core_1.Input}],selectionMode:[{type:core_1.Input}],sorting:[{type:core_1.Input}],virtualMode:[{type:core_1.Input}],afterSelect:[{type:core_1.Output}],beforeEdit:[{type:core_1.Output}],
beforeSelect:[{type:core_1.Output}],change:[{type:core_1.Output}],clear:[{type:core_1.Output}],dragEnd:[{type:core_1.Output}],dragEnter:[{type:core_1.Output}],dragDrop:[{type:core_1.Output}],dragDropComplete:[{type:core_1.Output}],dragLeave:[{type:core_1.Output}],dragOver:[{type:core_1.Output}],dragStart:[{type:core_1.Output}],itemAdding:[{type:core_1.Output}],itemAdded:[{type:core_1.Output}],itemClick:[{type:core_1.Output}],itemDblClick:[{type:core_1.Output}],itemHover:[{type:core_1.Output}],itemRemoving:[{type:core_1.Output}],
itemRemoved:[{type:core_1.Output}],itemRightClick:[{type:core_1.Output}],keyDown:[{type:core_1.Output}],keyPress:[{type:core_1.Output}],keyUp:[{type:core_1.Output}],loadComplete:[{type:core_1.Output}],scrollPosChanged:[{type:core_1.Output}],selectionChanged:[{type:core_1.Output}],updateComplete:[{type:core_1.Output}],onWindowKeyDown:[{type:core_1.HostListener,args:["document:keydown",["$event"]]}],onWindowKeyUp:[{type:core_1.HostListener,args:["document:keyup",["$event"]]}]})})();