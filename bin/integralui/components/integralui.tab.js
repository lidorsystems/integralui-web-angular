/*
  filename: integralui.tab.js
  version : 2.0.0
  Copyright Â© 2016-2020 Lidor Systems. All rights reserved.

  This file is part of the "IntegralUI Web" Library. 
                                                                   
  The contents of this file are subject to the IntegralUI Web License, and may not be used except in compliance with the License.
  A copy of the License should have been installed in the product's root installation directory or it can be found at
  http://www.lidorsystems.com/products/web/studio/license-agreement.aspx.
                                                            
  This SOFTWARE is provided "AS IS", WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License for the specific language 
  governing rights and limitations under the License. Any infringement will be prosecuted under applicable laws.                           
*/
var __extends=this&&this.__extends||function(){var d=function(c,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return d(c,a)};return function(c,a){function b(){this.constructor=c}d(c,a);c.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}}();Object.defineProperty(exports,"__esModule",{value:!0});
var core_1=require("@angular/core"),integralui_core_1=require("./integralui.core"),integralui_common_service_1=require("../services/integralui.common.service"),i0=require("@angular/core"),i1=require("../services/integralui.common.service"),i2=require("./integralui.core"),i3=require("@angular/common"),_c0=["content"],_c1=function(d,c,a,b,e,f){return{overflow:d,top:c,left:a,width:b,height:e,opacity:f}},_c2=["*"],IntegralUITab=function(d){function c(a,c,e){var b=d.call(this,c)||this;b.elemRef=a;b.commonService=
c;b.baseService=e;b.parentCtrl=null;b.contentOverflow="auto";b.elemOrder=0;b.isContentHidden=!0;b.contentPos={top:0,left:0};b.elemHeight="0";b.elemWidth="0";b.leftPos=0;b.topPos=0;b.isSelected=!1;b.contentOpacity=1;b.elemBorderColor="gray";b.contentClass=[];b.allowDrag=!1;b.allowDrop=!0;b.animation=integralui_core_1.IntegralUIAnimationType.Fade;b.selectedChanged=new core_1.EventEmitter;return b}__extends(c,d);Object.defineProperty(c.prototype,"selected",{get:function(){return this.isSelected},set:function(a){this.isSelected!=
a&&(this.state=a?this.state|integralui_core_1.IntegralUIObjectState.selected:this.state&~integralui_core_1.IntegralUIObjectState.selected,this.elemOrder=(this.isSelected=a)?2:0,this.isContentHidden=!1===a?!0:!1)},enumerable:!0,configurable:!0});c.prototype.ngOnInit=function(){this.parentCtrl=this.baseService.getComponent();this.generalClassName="iui-tab";this.headerClassName=this.generalClassName+"-header";this.contentClassName=this.generalClassName+"-content";this.initStyle()};c.prototype.initStyle=
function(){this.defaultStyle={general:{disabled:this.generalClassName+"-disabled",focused:this.generalClassName+"-focused",normal:this.generalClassName,hovered:this.generalClassName+"-hovered",selected:this.generalClassName+"-selected"},header:{disabled:this.headerClassName+"-disabled",focused:this.headerClassName+"-focused",normal:this.headerClassName,hovered:this.headerClassName+"-hovered",selected:this.headerClassName+"-selected"},content:{disabled:this.contentClassName+"-disabled",focused:this.contentClassName+
"-focused",normal:this.contentClassName,hovered:this.contentClassName+"-hovered",selected:this.contentClassName+"-selected"}};this.updateStyle(this.controlStyle);this.updateControlClass();this.updateContentClass()};c.prototype.processStateChanged=function(){this.updateContentClass()};c.prototype.getSize=function(a){var b={width:0,height:0};a&&(b={width:a.offsetWidth,height:a.offsetHeight});return b};c.prototype.updateLayout=function(a,b,c){this.topPos=a.top;this.leftPos=a.left;a={top:0,right:0,bottom:0,
left:0};this.contentElem&&(a=this.commonService.getPadding(this.contentElem.nativeElement));this.elemWidth=b.width-(a.left+a.right)+"px";this.elemHeight="auto"==b.height?"auto":b.height-(a.top+a.bottom)+"px";this.isContentHidden=c};c.prototype.updateOpacity=function(a){this.contentOpacity=a};c.prototype.updatePos=function(a){this.topPos=void 0!==a.top?a.top:this.topPos;this.leftPos=void 0!==a.left?a.left:this.leftPos};c.prototype.updateVisibility=function(a){this.isContentHidden=a};c.prototype.updateContentOverflow=
function(a){this.contentOverflow=a};c.prototype.getLayoutParams=function(){var a={size:{width:0,height:0},padding:{top:0,right:0,bottom:0,left:0}};if(this.elemRef){var b=this.elemRef.nativeElement.children[0];a.size=this.getSize(b);a.padding=this.commonService.getPadding(b)}return a};c.prototype.updateContentClass=function(){this.contentClass.length=0;this.contentClass.push(this.contentClassName);this.contentClass.push(this.options.currentStyle.content.normal);this.state&integralui_core_1.IntegralUIObjectState.disabled?
this.contentClass.push(this.options.currentStyle.content.disabled):this.state&integralui_core_1.IntegralUIObjectState.focused?this.contentClass.push(this.options.currentStyle.content.focused):this.state&integralui_core_1.IntegralUIObjectState.selected?this.contentClass.push(this.options.currentStyle.content.selected):this.state&integralui_core_1.IntegralUIObjectState.hovered&&this.contentClass.push(this.options.currentStyle.content.hovered)};c.prototype.getContentClass=function(){return this.contentClass};
c.prototype.getContentStyle=function(a){return this.commonService.isString(a)?a:a?{disabled:this.commonService.isFieldAvailable(a.disabled,this.contentClassName+"-disabled"),focused:this.commonService.isFieldAvailable(a.focused,this.contentClassName+"-focused"),hovered:this.commonService.isFieldAvailable(a.hovered,this.contentClassName+"-hovered"),normal:this.commonService.isFieldAvailable(a.normal,this.contentClassName),selected:this.commonService.isFieldAvailable(a.selected,this.contentClassName+
"-selected")}:{disabled:this.defaultStyle.content.disabled,focused:this.defaultStyle.content.focused,hovered:this.defaultStyle.content.hovered,normal:this.defaultStyle.content.normal,selected:this.defaultStyle.content.selected}};c.prototype.getHeaderStyle=function(a){return this.commonService.isString(a)?a:a?{disabled:this.commonService.isFieldAvailable(a.disabled,this.headerClassName+"-disabled"),focused:this.commonService.isFieldAvailable(a.focused,this.headerClassName+"-focused"),hovered:this.commonService.isFieldAvailable(a.hovered,
this.headerClassName+"-hovered"),normal:this.commonService.isFieldAvailable(a.normal,this.headerClassName),selected:this.commonService.isFieldAvailable(a.selected,this.headerClassName+"-selected")}:{disabled:this.defaultStyle.header.disabled,focused:this.defaultStyle.header.focused,hovered:this.defaultStyle.header.hovered,normal:this.defaultStyle.header.normal,selected:this.defaultStyle.header.selected}};c.prototype.updateStyle=function(a){this.options.currentStyle=a?{general:this.getGeneralStyle(a.general),
header:this.getHeaderStyle(a.header),content:this.getContentStyle(a.content)}:{general:{disabled:this.defaultStyle.general.disabled,focused:this.defaultStyle.general.focused,hovered:this.defaultStyle.general.hovered,normal:this.defaultStyle.general.normal,selected:this.defaultStyle.general.selected},header:{disabled:this.defaultStyle.header.disabled,focused:this.defaultStyle.header.focused,hovered:this.defaultStyle.header.hovered,normal:this.defaultStyle.header.normal,selected:this.defaultStyle.header.selected},
content:{disabled:this.defaultStyle.content.disabled,focused:this.defaultStyle.content.focused,hovered:this.defaultStyle.content.hovered,normal:this.defaultStyle.content.normal,selected:this.defaultStyle.content.selected}}};c.prototype.getCurrentTabStyle=function(){return this.options.currentStyle};c.\u0275fac=function(a){return new (a||c)(i0.\u0275\u0275directiveInject(i0.ElementRef),i0.\u0275\u0275directiveInject(i1.IntegralUICommonService),i0.\u0275\u0275directiveInject(i2.IntegralUIBaseService))};
c.\u0275cmp=i0.\u0275\u0275defineComponent({type:c,selectors:[["iui-tab"]],viewQuery:function(a,b){a&1&&i0.\u0275\u0275viewQuery(_c0,!0);if(a&2){var c;i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.contentElem=c.first)}},inputs:{controlStyle:"controlStyle",data:"data",enabled:"enabled",name:"name",state:"state",allowDrag:"allowDrag",allowDrop:"allowDrop",animation:"animation",icon:"icon",text:"text",selected:"selected"},outputs:{selectedChanged:"selectedChanged"},features:[i0.\u0275\u0275InheritDefinitionFeature],
ngContentSelectors:_c2,decls:4,vars:10,consts:[[3,"ngClass","ngStyle","hidden"],["content",""]],template:function(a,b){a&1&&(i0.\u0275\u0275projectionDef(),i0.\u0275\u0275elementStart(0,"div",0,1),i0.\u0275\u0275elementStart(2,"div"),i0.\u0275\u0275projection(3),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd());a&2&&i0.\u0275\u0275property("ngClass",b.getContentClass())("ngStyle",i0.\u0275\u0275pureFunction6(3,_c1,b.contentOverflow,b.topPos+"px",b.leftPos+"px",b.elemWidth,b.elemHeight,b.contentOpacity))("hidden",
b.isContentHidden&&2!==b.animation)},directives:[i3.NgClass,i3.NgStyle],encapsulation:2});return c}(integralui_core_1.IntegralUIBaseComponent);exports.IntegralUITab=IntegralUITab;
(function(){i0.\u0275setClassMetadata(IntegralUITab,[{type:core_1.Component,args:[{selector:"iui-tab",template:"\n\t\t<div [ngClass]=\"getContentClass()\" [ngStyle]=\"{ overflow: contentOverflow, 'top': topPos + 'px', 'left': leftPos + 'px', 'width': elemWidth, 'height': elemHeight, opacity: contentOpacity }\" [hidden]=\"isContentHidden && animation !== 2\" #content>\n\t\t\t<div>\n\t\t\t\t<ng-content></ng-content>\n\t\t\t</div>\n\t\t</div>\n\t",inputs:["controlStyle","data","enabled","name","state"],
encapsulation:core_1.ViewEncapsulation.None}]}],function(){return[{type:i0.ElementRef},{type:i1.IntegralUICommonService},{type:i2.IntegralUIBaseService}]},{contentElem:[{type:core_1.ViewChild,args:["content",{"static":!1}]}],allowDrag:[{type:core_1.Input}],allowDrop:[{type:core_1.Input}],animation:[{type:core_1.Input}],icon:[{type:core_1.Input}],text:[{type:core_1.Input}],selected:[{type:core_1.Input}],selectedChanged:[{type:core_1.Output}]})})();