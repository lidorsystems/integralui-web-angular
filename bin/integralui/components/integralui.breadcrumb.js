/*
  filename: integralui.breadcrumb.js
  version : 1.3.0
  Copyright Â© 2016-2020 Lidor Systems. All rights reserved.

  This file is part of the "IntegralUI Web" Library. 
                                                                   
  The contents of this file are subject to the IntegralUI Web License, and may not be used except in compliance with the License.
  A copy of the License should have been installed in the product's root installation directory or it can be found at
  http://www.lidorsystems.com/products/web/studio/license-agreement.aspx.
                                                            
  This SOFTWARE is provided "AS IS", WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License for the specific language 
  governing rights and limitations under the License. Any infringement will be prosecuted under applicable laws.                           
*/
var __extends=this&&this.__extends||function(){var e=function(b,a){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return e(b,a)};return function(b,a){function c(){this.constructor=b}e(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}();Object.defineProperty(exports,"__esModule",{value:!0});
var core_1=require("@angular/core"),integralui_core_1=require("./integralui.core"),integralui_common_service_1=require("../services/integralui.common.service"),integralui_data_service_1=require("../services/integralui.data.service"),i0=require("@angular/core"),i1=require("../services/integralui.data.service"),i2=require("../services/integralui.common.service"),i3=require("@angular/common"),i4=require("./integralui.core"),_c0=["block"],_c1=["topButton"],_c2=["itemElem"],_c3=["buttonElem"],_c4=function(e){return{height:e}};
function IntegralUIBreadCrumb_div_1_Template(e,b){if(e&1){var a=i0.\u0275\u0275getCurrentView();i0.\u0275\u0275elementStart(0,"div",7,8);i0.\u0275\u0275listener("mousedown",function(c){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext().rootMouseDown(c)})("mouseenter",function(c){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext().rootMouseEnter(c)})("mouseleave",function(c){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext().rootMouseLeave(c)})("touchstart",
function(c){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext().rootTouchStart(c)});i0.\u0275\u0275element(2,"span",9);i0.\u0275\u0275elementEnd()}if(e&2){var c=i0.\u0275\u0275nextContext();i0.\u0275\u0275property("ngClass",c.rootButtonStyle)("ngStyle",i0.\u0275\u0275pureFunction1(2,_c4,c.getRootButtonHeight()))}}var _c5=function(e){return{"iui-breadcrumb-item-button-first":e}};
function IntegralUIBreadCrumb_li_4_div_1_Template(e,b){if(e&1){var a=i0.\u0275\u0275getCurrentView();i0.\u0275\u0275elementStart(0,"div",13,14);i0.\u0275\u0275listener("mousedown",function(c){i0.\u0275\u0275restoreView(a);var b=i0.\u0275\u0275nextContext(),d=b.$implicit;b=b.index;return i0.\u0275\u0275nextContext().expandBoxMouseDown(c,d,b)})("mouseup",function(c){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext(2).expandBoxMouseUp(c)})("touchstart",function(c){i0.\u0275\u0275restoreView(a);
var b=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext().expandBoxTouchStart(c,b)});i0.\u0275\u0275element(2,"span",15);i0.\u0275\u0275elementEnd()}if(e&2){var c=i0.\u0275\u0275nextContext().$implicit;i0.\u0275\u0275property("ngClass",i0.\u0275\u0275pureFunction1(2,_c5,c.isRoot));i0.\u0275\u0275advance(2);i0.\u0275\u0275property("ngClass",c.style.expandBox)}}var _c6=function(e){return{$implicit:e}};
function IntegralUIBreadCrumb_li_4_div_2_Template(e,b){if(e&1){var a=i0.\u0275\u0275getCurrentView();i0.\u0275\u0275elementStart(0,"div",16);i0.\u0275\u0275listener("mousedown",function(c){i0.\u0275\u0275restoreView(a);var b=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext().itemMouseDown(c,b)})("mouseup",function(c){i0.\u0275\u0275restoreView(a);var b=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext().itemMouseUp(c,b)})("touchend",function(c){i0.\u0275\u0275restoreView(a);
var b=i0.\u0275\u0275nextContext().$implicit;return i0.\u0275\u0275nextContext().itemTouchEnd(c,b)});i0.\u0275\u0275element(1,"span",17);i0.\u0275\u0275elementEnd()}if(e&2){var c=i0.\u0275\u0275nextContext().$implicit,d=i0.\u0275\u0275nextContext();i0.\u0275\u0275property("ngClass",c.style.content);i0.\u0275\u0275advance(1);i0.\u0275\u0275property("iuiTemplateOutlet",d.itemTemplate)("iuiTemplateOutletContext",i0.\u0275\u0275pureFunction1(3,_c6,c.data))}}
function IntegralUIBreadCrumb_li_4_Template(e,b){if(e&1){var a=i0.\u0275\u0275getCurrentView();i0.\u0275\u0275elementStart(0,"li",10);i0.\u0275\u0275listener("mouseenter",function(c){i0.\u0275\u0275restoreView(a);var d=b.$implicit,e=b.index;return i0.\u0275\u0275nextContext().itemMouseEnter(c,d,e)})("mouseleave",function(c){i0.\u0275\u0275restoreView(a);var d=b.$implicit;return i0.\u0275\u0275nextContext().itemMouseLeave(c,d)});i0.\u0275\u0275template(1,IntegralUIBreadCrumb_li_4_div_1_Template,3,
4,"div",11);i0.\u0275\u0275template(2,IntegralUIBreadCrumb_li_4_div_2_Template,2,5,"div",12);i0.\u0275\u0275elementEnd()}if(e&2){var c=b.$implicit,d=i0.\u0275\u0275nextContext();i0.\u0275\u0275property("ngClass",c.style.general)("ngStyle",i0.\u0275\u0275pureFunction1(4,_c4,d.getItemHeight()));i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngIf",c.hasChildren);i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngIf",!c.isRoot)}}
function IntegralUIBreadCrumb_li_6_div_2_Template(e,b){e&1&&(i0.\u0275\u0275elementStart(0,"div",21),i0.\u0275\u0275element(1,"span",15),i0.\u0275\u0275elementEnd());if(e&2){var a=i0.\u0275\u0275nextContext().$implicit;i0.\u0275\u0275property("ngClass",i0.\u0275\u0275pureFunction1(2,_c5,a.isRoot));i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngClass",a.style.expandBox)}}
function IntegralUIBreadCrumb_li_6_div_3_Template(e,b){e&1&&(i0.\u0275\u0275elementStart(0,"div",15),i0.\u0275\u0275element(1,"span",17),i0.\u0275\u0275elementEnd());if(e&2){var a=i0.\u0275\u0275nextContext().$implicit,c=i0.\u0275\u0275nextContext();i0.\u0275\u0275property("ngClass",a.style.content);i0.\u0275\u0275advance(1);i0.\u0275\u0275property("iuiTemplateOutlet",c.itemTemplate)("iuiTemplateOutletContext",i0.\u0275\u0275pureFunction1(3,_c6,a.data))}}
function IntegralUIBreadCrumb_li_6_Template(e,b){e&1&&(i0.\u0275\u0275elementStart(0,"li",0,18),i0.\u0275\u0275template(2,IntegralUIBreadCrumb_li_6_div_2_Template,2,4,"div",19),i0.\u0275\u0275template(3,IntegralUIBreadCrumb_li_6_div_3_Template,2,5,"div",20),i0.\u0275\u0275elementEnd());if(e&2){var a=b.$implicit,c=i0.\u0275\u0275nextContext();i0.\u0275\u0275property("ngClass",a.style.general)("ngStyle",i0.\u0275\u0275pureFunction1(4,_c4,c.getItemHeight()));i0.\u0275\u0275advance(2);i0.\u0275\u0275property("ngIf",
a.hasChildren);i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngIf",!a.isRoot)}}
var _c7=function(){return{opacity:0,position:"absolute",top:"-9999999px"}},IntegralUIBreadCrumb=function(e){function b(a,c,b,k){var d=e.call(this,b)||this;d.dataService=a;d.elemRef=c;d.commonService=b;d.cmpResolver=k;d.visibleStartIndex=0;d.dataItems=[];d.currentList=[];d.isThereChildItems=!1;d.options={};d.visibleList=[];d.activeObj=null;d.hoverItem=null;d.isListOpened=!1;d.prevActiveObj=null;d.isRootActive=null;d.isRootHovered=null;d.isPopupDelayed=!1;d.itemSize={width:0,height:0};d.listSize={width:100,
height:200};d.showRootButton=!1;d.startIndex=0;d.updateTimeout=null;d.dropListRef=null;d.dropList=null;d.rootButtonStyle=[];d.isExpandBoxTouched=!1;d.selectionChanged=new core_1.EventEmitter;d.updateOptions();return d}__extends(b,e);Object.defineProperty(b.prototype,"dataFields",{set:function(a){this.updateDataFields(a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"dropDownWidth",{get:function(){return this.listSize.width},set:function(a){this.listSize.width!=a&&(this.listSize.width=
a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"items",{get:function(){return this.dataItems},set:function(a){this.dataItems=a;this.updateData()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"selectedItem",{get:function(){return this.currentSelection},set:function(a){this.currentSelection!=a&&(this.currentSelection=a,this.updateLayout())},enumerable:!0,configurable:!0});b.prototype.ngOnInit=function(){this.updateData();this.updateCurrentList();this.generalClassName=
"iui-breadcrumb";this.itemClassName="iui-breadcrumb-item";this.itemContentClassName=this.itemClassName+"-content";this.expandBoxClassName=this.itemClassName+"-expand-box";this.rootButtonClassName=this.generalClassName+"-root-button";this.initStyle()};b.prototype.initStyle=function(){this.defaultStyle={general:{disabled:this.generalClassName+"-disabled",focused:this.generalClassName+"-focused",normal:this.generalClassName,hovered:this.generalClassName+"-hovered",selected:this.generalClassName+"-selected"},
item:{general:{disabled:this.itemClassName+"-disabled",focused:this.itemClassName+"-focused",normal:this.itemClassName,hovered:this.itemClassName+"-hovered",selected:this.itemClassName+"-selected"},expandBox:{general:this.expandBoxClassName,load:this.expandBoxClassName+"-load",expanded:this.expandBoxClassName+"-close",collapsed:this.expandBoxClassName+"-open"},content:{disabled:this.itemContentClassName+"-disabled",focused:this.itemContentClassName+"-focused",normal:this.itemContentClassName,hovered:this.itemContentClassName+
"-hovered",selected:this.itemContentClassName+"-selected"}}};this.updateStyle(this.controlStyle);this.updateControlClass();this.refresh()};b.prototype.ngAfterViewInit=function(){var a=this,c=setTimeout(function(){a.addDropList();clearTimeout(c)},1);a.updateLayout()};b.prototype.ngOnDestroy=function(){this.resetLayoutTimer();this.removeDropList()};b.prototype.ngAfterContentChecked=function(){!0===this.autoUpdate&&(this.clientRect={width:this.elemRef.nativeElement.firstElementChild.clientWidth,height:this.elemRef.nativeElement.firstElementChild.clientHeight},
this.clientRect.width!=this.prevClientRect.width?(this.updateLayout(),this.prevClientRect.width=this.clientRect.width):this.clientRect.height!=this.prevClientRect.height&&(this.updateLayout(),this.prevClientRect.height=this.clientRect.height))};b.prototype.getItemObject=function(a,c){switch(c){case "text":return a[this.options.dataFields.text]}return null};b.prototype.updateCurrentList=function(){var a,c=this;this.currentList.length=0;if(this.currentSelection){this.currentList.push({data:this.currentSelection,
hasChildren:this.isThereVisibleChildren(this.currentSelection),style:{}});for(var b=this.getItemParent(this.currentSelection);b;)this.currentList.splice(0,0,{data:b,hasChildren:!0,style:{}}),b=this.getItemParent(b);this.currentList.splice(0,0,{data:(a={},a[this.options.dataFields.items]=this.items,a),hasChildren:!0,isRoot:!0,style:{}})}else this.items&&this.items.map(function(a){return c.currentList.push({data:a,hasChildren:c.isThereVisibleChildren(a),style:{}})})};b.prototype.updateData=function(){this.dataService.init([{data:this.items,
fields:this.options.dataFields}])};b.prototype.updateDataFields=function(a){this.options.dataFields=a?{allowFocus:a.allowFocus?a.allowFocus:"allowFocus",content:a.content?a.content:"content",enabled:a.enabled?a.enabled:"enabled",hasChildren:a.hasChildren?a.hasChildren:"hasChildren",icon:a.icon?a.icon:"icon",id:a.id?a.id:"id",items:a.items?a.items:"items",pid:a.pid?a.pid:"pid",selected:a.selected?a.selected:"selected",style:a.style?a.style:"style",text:a.text?a.text:"text",tooltip:a.tooltip?a.tooltip:
"tooltip",value:a.value?a.value:"value",visible:a.visible?a.visible:"visible"}:{allowFocus:"allowFocus",content:"content",enabled:"enabled",hasChildren:"hasChildren",icon:"icon",id:"id",items:"items",pid:"pid",selected:"selected",style:"style",text:"text",tooltip:"tooltip",value:"value",visible:"visible"};this.dataService&&this.dataService.updateDataFields(this.options.dataFields)};b.prototype.updateOptions=function(a){a?this.options={currentStyle:{},dataFields:null}:(this.options={currentStyle:{},
dataFields:null},this.updateDataFields())};b.prototype.addDropList=function(){var a=this;if(a.appRef){a.removeDropList();var c=a.cmpResolver.resolveComponentFactory(integralui_core_1.IntegralUIListPopup);c&&(a.dropListRef=a.appRef.createComponent(c),a.dropListRef.instance&&(a.dropList=a.dropListRef.instance),a.hideDropList(),a.dropList&&(a.dropList.closed.subscribe(function(c){a.hideDropList()}),a.dropList.selectionChanged.subscribe(function(c){a.hideDropList();a.selectedItem=c.item;a.selectionChanged.emit({item:c.item});
a.isPopupDelayed=!0;setTimeout(function(){a.isPopupDelayed=!1},250)})))}};b.prototype.removeDropList=function(){this.dropList&&(this.dropList.closed&&this.dropList.closed.unsubscribe(),this.dropList.selectionChanged&&this.dropList.selectionChanged.unsubscribe());this.dropListRef&&this.dropListRef.destroy();this.dropList=null};b.prototype.hideDropList=function(){this.dropList&&(this.dropList.display="none");this.updateActiveObj(null);this.activeObj=null;this.isRootActive=this.isListOpened=!1;this.refresh()};
b.prototype.showPopup=function(a,c,b){a=this.commonService.getShiftPos();b=this.getButtonElemRect(b);var d=this.commonService.getPageRect(this.elemRef.nativeElement.firstElementChild);this.dropList&&(this.dropList.allowAnimation=!1,this.dropList.dataFields=this.options.dataFields,this.dropList.display="block",this.dropList.items=c.data[this.options.dataFields.items]?c.data[this.options.dataFields.items]:[],this.dropList.minWidth=this.listSize.width,this.dropList.position={x:b.left+a.x-1,y:d.bottom+
a.y},this.dropList.size={width:Math.max(b.width,this.dropList.minWidth),height:0},this.dropList.refresh(),this.dropList.open(),this.dropList.focus(),this.isListOpened=!0);this.refresh()};b.prototype.getButtonElemRect=function(a){var c=this.commonService.getPageRect(),b=this.getButtonElemList();b&&0<=a&&a<b.length&&(c=this.commonService.getPageRect(b[a].nativeElement));return c};b.prototype.expandBoxMouseDown=function(a,b,d){this.isEnabled&&(1!=a.buttons||this.isExpandBoxTouched||this.toggle(b),1!=
a.which||this.isPopupDelayed||this.showPopup(a,b,d),this.isExpandBoxTouched=!1);a.stopPropagation()};b.prototype.expandBoxMouseUp=function(a){this.isExpandBoxTouched=!1;a.stopPropagation()};b.prototype.expandBoxTouchStart=function(a,b){this.isEnabled&&(this.isExpandBoxTouched=!0,this.toggle(b));a.stopPropagation()};b.prototype.toggle=function(a,b){if(a&&(a.data[this.options.dataFields.hasChildren]||a.data[this.options.dataFields.items]&&0!=a.data[this.options.dataFields.items].length)&&!(b&&0!=a.data[this.options.dataFields.expanded]||
!1===b&&0==a.data[this.options.dataFields.expanded])){var c=void 0!==b?b:!1!==a.data[this.options.dataFields.expanded]?!0:!1;c=void 0!=b?b:!c;c!=a.data[this.options.dataFields.expanded]&&(a.data[this.options.dataFields.expanded]=c,this.updateActiveObj(a))}};b.prototype.itemMouseEnter=function(a,b,d){if(this.isEnabled){this.hoverItem=b.data;this.isListOpened&&this.updateActiveObj(b);if(this.dropList){var c=this.commonService.getShiftPos();d=this.getButtonElemRect(d);this.dropList.items=b.data[this.options.dataFields.items]?
b.data[this.options.dataFields.items]:[];this.dropList.position.x=d.left+c.x-1;this.dropList.opacity=this.dropList.items&&0<this.dropList.items.length?1:0;this.dropList.updateLayout()}this.refresh()}a.stopPropagation()};b.prototype.itemMouseLeave=function(a,b){this.isEnabled&&(this.hoverItem=null,this.refresh());a.stopPropagation()};b.prototype.itemMouseDown=function(a,b){this.isEnabled&&(this.selectedItem=b.data);a.stopPropagation()};b.prototype.itemMouseUp=function(a,b){};b.prototype.itemTouchStart=
function(a,b){};b.prototype.itemTouchEnd=function(a,b){};b.prototype.getRootButtonHeight=function(){return 0<this.itemSize.height?this.itemSize.height-2+"px":"auto"};b.prototype.getItemHeight=function(){return 0<this.itemSize.height?this.itemSize.height+"px":"auto"};b.prototype.getItemParent=function(a){return this.dataService.getParent(a)};b.prototype.isItemAllowed=function(a){return 0==a[this.options.dataFields.visible]?!1:!0};b.prototype.isItemEnabled=function(a){return this.isEnabled&&a&&0!=a[this.options.dataFields.enabled]};
b.prototype.isItemHovered=function(a){return a&&a==this.hoverItem?!0:!1};b.prototype.isItemLoading=function(a){return!1};b.prototype.isItemSelected=function(a){return a==this.activeObj};b.prototype.isThereVisibleChildren=function(a){var b=!1;if(a&&(a=a[this.options.dataFields.items]))for(var d=0;d<a.length;d++)if(this.isItemAllowed(a[d])){b=!0;break}return b};b.prototype.updateActiveObj=function(a){this.prevActiveObj=this.activeObj;this.activeObj=a;this.isRootActive=!1};b.prototype.getButtonElemList=
function(){return this.buttonElems?this.buttonElems.toArray():null};b.prototype.getItemElemList=function(){return this.itemElems?this.itemElems.toArray():null};b.prototype.resetLayoutTimer=function(){this.updateTimeout&&clearTimeout(this.updateTimeout);this.updateTimeout=null};b.prototype.updateLayout=function(){var a=this;a.resetLayoutTimer();a.updateTimeout=setTimeout(function(){a.updateCurrentList();a.clientRect={width:a.elemRef.nativeElement.firstElementChild.clientWidth,height:a.elemRef.nativeElement.firstElementChild.clientHeight};
for(var b=0;b<a.currentList.length;b++)a.updateItemStyle(a.currentList[b]);setTimeout(function(){var b=[];a.startIndex=0;var c=a.getItemElemList();if(c){for(var e={width:0,height:0},h=0,g=-1,f=c.length-1;0<=f;f--)e={width:c[f].nativeElement.offsetWidth,height:Math.max(e.height,c[f].nativeElement.offsetHeight)},0>g&&h+e.width>a.clientRect.width-28&&(g=f+1),h+=e.width;a.itemSize=e;a.startIndex=Math.max(0,1<g?g:0)}a.currentSelection?(a.currentList.map(function(c,d){d>=a.startIndex&&b.push(c)}),a.showRootButton=
0<a.startIndex?!0:!1):a.showRootButton=!0;a.visibleList=b},5);clearTimeout(a.updateTimeout)},1)};b.prototype.getRootList=function(){var a=[];if(this.currentSelection)for(var b=this.startIndex-1;1<=b;b--)a.push(this.currentList[b].data);else this.currentList.map(function(b){return a.push(b.data)});return a};b.prototype.rootMouseEnter=function(a){if(this.isEnabled){this.hoverItem=null;this.updateActiveObj(null);this.isRootHovered=!0;this.isListOpened&&(this.isRootActive=!0);if(this.dropList){var b=
this.commonService.getShiftPos(),d=this.commonService.getPageRect(this.topButtonElem.nativeElement);this.dropList.items=this.getRootList();this.dropList.position.x=d.left+b.x-1;this.dropList.opacity=1;this.dropList.updateLayout()}this.refresh()}a.stopPropagation()};b.prototype.rootMouseLeave=function(a){this.isEnabled&&(this.hoverItem=null,this.isRootHovered=!1,this.refresh());a.stopPropagation()};b.prototype.rootMouseDown=function(a){if(this.isEnabled){if(1===a.which&&!this.isPopupDelayed){var b=
this.getRootList();this.showRootList(a,b);this.isRootActive=!0}this.isExpandBoxTouched=!1}a.stopPropagation()};b.prototype.rootTouchStart=function(a){if(this.isEnabled&&!this.isPopupDelayed){var b=this.getRootList();this.showRootList(a,b);this.isRootActive=!0}a.stopPropagation()};b.prototype.showRootList=function(a,b){var c=this.commonService.getShiftPos(),e=this.commonService.getPageRect(this.topButtonElem.nativeElement),l=this.commonService.getPageRect(this.elemRef.nativeElement.firstElementChild);
this.dropList&&(this.dropList.allowAnimation=!1,this.dropList.dataFields=this.options.dataFields,this.dropList.display="block",this.dropList.items=b,this.dropList.minWidth=this.listSize.width,this.dropList.position={x:e.left+c.x-1,y:l.bottom+c.y},this.dropList.size={width:Math.max(e.width,this.dropList.minWidth),height:0},this.dropList.refresh(),this.dropList.open(),this.dropList.focus(),this.isListOpened=!0);this.refresh()};b.prototype.getControlStyle=function(){var a={};0<this.ctrlSize.width&&(a.width=
this.ctrlSize.width+"px");0<this.ctrlSize.height&&(a.height=this.ctrlSize.height+"px");return a};b.prototype.getItemInlineStyle=function(a){return a.data[this.options.dataFields.style]||{}};b.prototype.refresh=function(a){if(a)this.updateItemStyle(a);else for(this.updateRootButtonStyle(),a=0;a<this.currentList.length;a++)this.updateItemStyle(this.currentList[a])};b.prototype.updateItemStyle=function(a){a&&(a.style={general:[],expandBox:[],content:[]},a.inlineStyle=this.getItemInlineStyle(a),a.style.general.push(this.itemClassName),
a.style.general.push(this.options.currentStyle.item.general.normal),a.style.content.push(this.itemContentClassName),a.style.content.push(this.options.currentStyle.item.content.normal),this.isItemEnabled(a.data)?this.isItemSelected(a)?(a.style.general.push(this.options.currentStyle.item.general.selected),a.style.content.push(this.options.currentStyle.item.content.selected)):this.isItemHovered(a.data)&&(a.style.general.push(this.options.currentStyle.item.general.hovered),a.style.content.push(this.options.currentStyle.item.content.hovered)):
(a.style.general.push(this.options.currentStyle.item.general.disabled),a.style.content.push(this.options.currentStyle.item.content.disabled)),(this.isThereChildItems||a.hasChildren)&&a.style.expandBox.push(this.options.currentStyle.item.expandBox.general),(a.hasChildren||a.data[this.options.dataFields.hasChildren])&&(this.isThereVisibleChildren(a.data)||!a.data[this.options.dataFields.items]||a.data[this.options.dataFields.items]&&0==a.data[this.options.dataFields.items].length)||this.isThereVisibleChildren(a.data))&&
(this.isItemLoading(a.data)?a.style.expandBox.push(this.options.currentStyle.item.expandBox.load):a==this.activeObj&&this.isListOpened?(a.style.expandBox.push(this.options.currentStyle.item.expandBox.collapsed),a.style.expandBox.push(this.options.currentStyle.item.expandBox.collapsed+"-animate")):(a.style.expandBox.push(this.options.currentStyle.item.expandBox.expanded),a==this.prevActiveObj&&a.style.expandBox.push(this.options.currentStyle.item.expandBox.expanded+"-animate")))};b.prototype.updateRootButtonStyle=
function(){this.rootButtonStyle=[];this.rootButtonStyle.push(this.rootButtonClassName);this.isEnabled?this.isRootActive?this.rootButtonStyle.push(this.rootButtonClassName+"-selected"):this.isRootHovered&&this.rootButtonStyle.push(this.rootButtonClassName+"-hovered"):this.rootButtonStyle.push(this.rootButtonClassName+"-disabled")};b.prototype.getItemStyle=function(a){return a?{general:this.getItemGeneralStyle(a.general),expandBox:this.getItemExpandBoxStyle(a.expandBox),content:this.getItemContentStyle(a.content)}:
this.getDefaultItemStyle()};b.prototype.getItemExpandBoxStyle=function(a){return this.commonService.isString(a)?a:a?{general:this.commonService.isFieldAvailable(a.disabled,this.expandBoxClassName),load:this.commonService.isFieldAvailable(a.focused,this.expandBoxClassName+"-load"),expanded:this.commonService.isFieldAvailable(a.normal,this.expandBoxClassName+"-open"),collapsed:this.commonService.isFieldAvailable(a.hovered,this.expandBoxClassName+"-close")}:this.getDefaultItemExpandBoxStyle()};b.prototype.getItemGeneralStyle=
function(a){return this.commonService.isString(a)?a:a?{disabled:this.commonService.isFieldAvailable(a.disabled,this.itemClassName+"-disabled"),focused:this.commonService.isFieldAvailable(a.focused,this.itemClassName+"-focused"),normal:this.commonService.isFieldAvailable(a.normal,this.itemClassName),hovered:this.commonService.isFieldAvailable(a.hovered,this.itemClassName+"-hovered"),selected:this.commonService.isFieldAvailable(a.selected,this.itemClassName+"-selected")}:this.getDefaultItemGeneralStyle()};
b.prototype.getItemContentStyle=function(a){return this.commonService.isString(a)?a:a?{disabled:this.commonService.isFieldAvailable(a.disabled,this.itemContentClassName+"-disabled"),focused:this.commonService.isFieldAvailable(a.focused,this.itemContentClassName+"-focused"),normal:this.commonService.isFieldAvailable(a.normal,this.itemContentClassName),hovered:this.commonService.isFieldAvailable(a.hovered,this.itemContentClassName+"-hovered"),selected:this.commonService.isFieldAvailable(a.selected,
this.itemContentClassName+"-selected")}:this.getDefaultItemContentStyle()};b.prototype.getDefaultListStyle=function(){return{general:this.getDefaultGeneralStyle(),item:this.getDefaultItemStyle()}};b.prototype.getDefaultItemStyle=function(){return{general:this.getDefaultItemGeneralStyle(),expandBox:this.getDefaultItemExpandBoxStyle(),content:this.getDefaultItemContentStyle()}};b.prototype.getDefaultItemExpandBoxStyle=function(){return{general:this.defaultStyle.item.expandBox.general,load:this.defaultStyle.item.expandBox.load,
expanded:this.defaultStyle.item.expandBox.expanded,collapsed:this.defaultStyle.item.expandBox.collapsed}};b.prototype.getDefaultItemGeneralStyle=function(){return{disabled:this.defaultStyle.item.general.disabled,focused:this.defaultStyle.item.general.focused,normal:this.defaultStyle.item.general.normal,hovered:this.defaultStyle.item.general.hovered,selected:this.defaultStyle.item.general.selected}};b.prototype.getDefaultItemContentStyle=function(){return{disabled:this.defaultStyle.item.content.disabled,
focused:this.defaultStyle.item.content.focused,normal:this.defaultStyle.item.content.normal,hovered:this.defaultStyle.item.content.hovered,selected:this.defaultStyle.item.content.selected}};b.prototype.updateStyle=function(a){this.options.currentStyle=a?{general:this.getGeneralStyle(a.general),item:this.getItemStyle(a.item)}:this.getDefaultListStyle()};b.\u0275fac=function(a){return new (a||b)(i0.\u0275\u0275directiveInject(i1.IntegralUIDataService),i0.\u0275\u0275directiveInject(i0.ElementRef),i0.\u0275\u0275directiveInject(i2.IntegralUICommonService),
i0.\u0275\u0275directiveInject(i0.ComponentFactoryResolver))};b.\u0275cmp=i0.\u0275\u0275defineComponent({type:b,selectors:[["iui-breadcrumb"]],contentQueries:function(a,b,d){a&1&&i0.\u0275\u0275contentQuery(d,core_1.TemplateRef,!0);if(a&2){var c;i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.itemTemplate=c.first)}},viewQuery:function(a,b){a&1&&(i0.\u0275\u0275viewQuery(_c0,!0,core_1.ElementRef),i0.\u0275\u0275viewQuery(_c1,!0,core_1.ElementRef),i0.\u0275\u0275viewQuery(_c2,!0,core_1.ElementRef),
i0.\u0275\u0275viewQuery(_c3,!0,core_1.ElementRef));if(a&2){var c;i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.blockElem=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.topButtonElem=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.itemElems=c);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.buttonElems=c)}},inputs:{controlStyle:"controlStyle",data:"data",enabled:"enabled",name:"name",size:"size",state:"state",appRef:"appRef",
autoUpdate:"autoUpdate",dataFields:"dataFields",dropDownWidth:"dropDownWidth",items:"items",selectedItem:"selectedItem"},outputs:{selectionChanged:"selectionChanged"},features:[i0.\u0275\u0275ProvidersFeature([integralui_data_service_1.IntegralUIDataService]),i0.\u0275\u0275InheritDefinitionFeature],decls:7,vars:7,consts:[[3,"ngClass","ngStyle"],[3,"ngClass","ngStyle","mousedown","mouseenter","mouseleave","touchstart",4,"ngIf"],[1,"iui-breadcrumb-block"],["block",""],[3,"ngClass","ngStyle","mouseenter",
"mouseleave",4,"ngFor","ngForOf"],[1,"iui-breadcrumb-block",3,"ngStyle"],[3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[3,"ngClass","ngStyle","mousedown","mouseenter","mouseleave","touchstart"],["topButton",""],[1,"iui-breadcrumb-root-button-box"],[3,"ngClass","ngStyle","mouseenter","mouseleave"],["class","iui-breadcrumb-item-button","style","display:inline-block",3,"ngClass","mousedown","mouseup","touchstart",4,"ngIf"],[3,"ngClass","mousedown","mouseup","touchend",4,"ngIf"],[1,"iui-breadcrumb-item-button",
2,"display","inline-block",3,"ngClass","mousedown","mouseup","touchstart"],["buttonElem",""],[3,"ngClass"],[3,"ngClass","mousedown","mouseup","touchend"],[3,"iuiTemplateOutlet","iuiTemplateOutletContext"],["itemElem",""],["class","iui-breadcrumb-item-button","style","display:inline-block",3,"ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"iui-breadcrumb-item-button",2,"display","inline-block",3,"ngClass"]],template:function(a,b){a&1&&(i0.\u0275\u0275elementStart(0,"div",0),i0.\u0275\u0275template(1,
IntegralUIBreadCrumb_div_1_Template,3,4,"div",1),i0.\u0275\u0275elementStart(2,"ul",2,3),i0.\u0275\u0275template(4,IntegralUIBreadCrumb_li_4_Template,3,6,"li",4),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementStart(5,"ul",5),i0.\u0275\u0275template(6,IntegralUIBreadCrumb_li_6_Template,4,6,"li",6),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd());a&2&&(i0.\u0275\u0275property("ngClass",b.getControlClass())("ngStyle",b.getControlStyle()),i0.\u0275\u0275advance(1),i0.\u0275\u0275property("ngIf",
b.showRootButton),i0.\u0275\u0275advance(3),i0.\u0275\u0275property("ngForOf",b.visibleList),i0.\u0275\u0275advance(1),i0.\u0275\u0275property("ngStyle",i0.\u0275\u0275pureFunction0(6,_c7)),i0.\u0275\u0275advance(1),i0.\u0275\u0275property("ngForOf",b.currentList))},directives:[i3.NgClass,i3.NgStyle,i3.NgIf,i3.NgForOf,i4.IntegralUITemplateOutlet],encapsulation:2});return b}(integralui_core_1.IntegralUIBaseComponent);exports.IntegralUIBreadCrumb=IntegralUIBreadCrumb;
(function(){i0.\u0275setClassMetadata(IntegralUIBreadCrumb,[{type:core_1.Component,args:[{selector:"iui-breadcrumb",template:'\n        <div [ngClass]="getControlClass()" [ngStyle]="getControlStyle()">\n            <div *ngIf="showRootButton" [ngClass]="rootButtonStyle" [ngStyle]="{ height: getRootButtonHeight() }" (mousedown)="rootMouseDown($event)" (mouseenter)="rootMouseEnter($event)" (mouseleave)="rootMouseLeave($event)" (touchstart)="rootTouchStart($event)" #topButton>\n                <span class="iui-breadcrumb-root-button-box"></span>\n            </div>\n            <ul class="iui-breadcrumb-block" #block>\n                <li [ngClass]="obj.style.general" [ngStyle]="{ height: getItemHeight() }" *ngFor="let obj of visibleList; let i = index" (mouseenter)="itemMouseEnter($event, obj, i)" (mouseleave)="itemMouseLeave($event, obj)">\n                    <div *ngIf="obj.hasChildren" class="iui-breadcrumb-item-button" [ngClass]="{ \'iui-breadcrumb-item-button-first\': obj.isRoot }" style="display:inline-block" (mousedown)="expandBoxMouseDown($event, obj, i)" (mouseup)="expandBoxMouseUp($event)" (touchstart)="expandBoxTouchStart($event, obj)" #buttonElem>\n                        <span [ngClass]="obj.style.expandBox"></span>\n                    </div>\n                    <div *ngIf="!obj.isRoot" [ngClass]="obj.style.content" (mousedown)="itemMouseDown($event, obj)" (mouseup)="itemMouseUp($event, obj)" (touchend)="itemTouchEnd($event, obj)">\n                        <span [iuiTemplateOutlet]="itemTemplate" [iuiTemplateOutletContext]="{$implicit: (obj.data)}"></span>\n                    </div>\n               </li>\n            </ul>\n            <ul class="iui-breadcrumb-block" [ngStyle]="{ opacity: 0, position: \'absolute\', top: \'-9999999px\' }">\n                <li [ngClass]="obj.style.general" [ngStyle]="{ height: getItemHeight() }" *ngFor="let obj of currentList; let i = index" #itemElem>\n                    <div *ngIf="obj.hasChildren" class="iui-breadcrumb-item-button" [ngClass]="{ \'iui-breadcrumb-item-button-first\': obj.isRoot }" style="display:inline-block">\n                        <span [ngClass]="obj.style.expandBox"></span>\n                    </div>\n                    <div *ngIf="!obj.isRoot" [ngClass]="obj.style.content">\n                        <span [iuiTemplateOutlet]="itemTemplate" [iuiTemplateOutletContext]="{$implicit: (obj.data)}"></span>\n                    </div>\n               </li>\n            </ul>\n        </div>\n    ',
inputs:"controlStyle data enabled name size state".split(" "),providers:[integralui_data_service_1.IntegralUIDataService]}]}],function(){return[{type:i1.IntegralUIDataService},{type:i0.ElementRef},{type:i2.IntegralUICommonService},{type:i0.ComponentFactoryResolver}]},{itemTemplate:[{type:core_1.ContentChild,args:[core_1.TemplateRef,{"static":!1}]}],blockElem:[{type:core_1.ViewChild,args:["block",{read:core_1.ElementRef,"static":!1}]}],topButtonElem:[{type:core_1.ViewChild,args:["topButton",{read:core_1.ElementRef,
"static":!1}]}],itemElems:[{type:core_1.ViewChildren,args:["itemElem",{read:core_1.ElementRef}]}],buttonElems:[{type:core_1.ViewChildren,args:["buttonElem",{read:core_1.ElementRef}]}],appRef:[{type:core_1.Input}],autoUpdate:[{type:core_1.Input}],dataFields:[{type:core_1.Input}],dropDownWidth:[{type:core_1.Input}],items:[{type:core_1.Input}],selectedItem:[{type:core_1.Input}],selectionChanged:[{type:core_1.Output}]})})();