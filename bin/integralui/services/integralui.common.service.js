/*
  filename: integralui.common.service.js
  version : 20.2.0
  Copyright © 2016-2020 Lidor Systems. All rights reserved.

  This file is part of the "IntegralUI Web" Library. 
                                                                   
  The contents of this file are subject to the IntegralUI Web License, and may not be used except in compliance with the License.
  A copy of the License should have been installed in the product's root installation directory or it can be found at
  http://www.lidorsystems.com/products/web/studio/license-agreement.aspx.
                                                            
  This SOFTWARE is provided "AS IS", WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License for the specific language 
  governing rights and limitations under the License. Any infringement will be prosecuted under applicable laws.                           
*/
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),i0=require("@angular/core"),IntegralUICommonService=function(){function t(){}t.prototype.calcMargin=function(t){if(t)return{top:getComputedStyle(t)["margin-top"]?parseInt(getComputedStyle(t)["margin-top"],10):getComputedStyle(t).marginTop?parseInt(getComputedStyle(t).marginTop,10):0,right:getComputedStyle(t)["margin-right"]?parseInt(getComputedStyle(t)["margin-right"],10):getComputedStyle(t).marginRight?parseInt(getComputedStyle(t).marginRight,10):0,bottom:getComputedStyle(t)["margin-bottom"]?parseInt(getComputedStyle(t)["margin-bottom"],10):getComputedStyle(t).marginBottom?parseInt(getComputedStyle(t).marginBottom,10):0,left:getComputedStyle(t)["margin-left"]?parseInt(getComputedStyle(t)["margin-left"],10):getComputedStyle(t).marginLeft?parseInt(getComputedStyle(t).marginLeft,10):0};else return{top:0,right:0,bottom:0,left:0}};t.prototype.checkHit=function(t,e,o){if(t>=o.left&&t<=o.right&&e>=o.top&&e<=o.bottom)return!0;else return!1};t.prototype.checkNumInRange=function(t,e,o){return t>e-o&&t<e+o?!0:!1};t.prototype.colorToRgb=function(t,e,o){if(o<0)o+=1;if(o>1)o-=1;if(o<1/6)return t+6*(e-t)*o;if(o<.5)return e;if(o<2/3)return t+(e-t)*(2/3-o)*6;else return t};t.prototype.convertRgbaToHex=function(t){var e="#";this.convertRgbaToNum(t,!0).map(function(t){t=t.toString(16);e+=1==t.length?"0"+t:t});return e};t.prototype.convertRgbaToHsl=function(t){var e,o,r=this.convertRgbaToNum(t,!0),n=r[0]/255,i=r[1]/255,p=r[2]/255,g=Math.max(n,i,p),u=Math.min(n,i,p),a=(g+u)/2;if(g==u)e=o=0;else{var d=g-u;o=a>.5?d/(2-g-u):d/(g+u);switch(g){case n:e=(i-p)/d+(i<p?6:0);break;case i:e=(p-n)/d+2;break;case p:e=(n-i)/d+4}e/=6}if((e=Math.round(360*e))<0)e+=360;o=Math.floor(Math.round(100*o));a=Math.floor(Math.round(100*a));return e+String.fromCharCode(176)+", "+o+"%, "+a+"%"};t.prototype.convertRgbaToNum=function(t,e){var o=this,r=(t=(t=t.replace(/[.*+?^${}()|[\]\\]/g,"")).replace("rgba","").replace("rgb","")).split(",").map(function(t){return parseInt(t)});if(e)r=r.filter(function(t,e){return e<3});r.map(function(t){return o.setNumInRange(t,0,255)});return r};t.prototype.convertHexToRgba=function(t){var e=0,o=0,r=0;if(4==(t=t.replace(/[.*+?^${}()|[\]\\]/g,"")).length){e=Number("0x"+t[1]+t[1]);o=Number("0x"+t[2]+t[2]);r=Number("0x"+t[3]+t[3])}else if(7==t.length){e=Number("0x"+t[1]+t[2]);o=Number("0x"+t[3]+t[4]);r=Number("0x"+t[5]+t[6])}return"rgba("+parseInt(e,10).toString()+","+parseInt(o,10).toString()+","+parseInt(r,10).toString()+",1)"};t.prototype.convertHslToRgba=function(t){var e=(t=(t=t.replace(/[.*+?^${}()|[\]\\]/g,"")).replace(String.fromCharCode(176),"").replace("%","").replace("%","")).split(",").filter(function(t,e){return e<3}).map(function(t){return parseInt(t)}),o=e[0],r=e[1]/100,n=e[2]/100,i=0,p=0,g=0;if(0==r)i=p=g=n;else{var u=n<.5?n*(1+r):n+r-n*r,a=2*n-u;i=this.colorToRgb(a,u,o+1/3);p=this.colorToRgb(a,u,o);g=this.colorToRgb(a,u,o-1/3)}return"rgba("+(i=Math.round(255*i))+", "+(p=Math.round(255*p))+", "+(g=Math.round(255*g))+", 1)"};t.prototype.getBodyElem=function(t){for(var e=null;t;){if(null==t.offsetParent){e=t;break}t=t.offsetParent}return e};t.prototype.getBorderWidth=function(t){if(t)return{top:getComputedStyle(t)["border-top-width"]?parseInt(getComputedStyle(t)["border-top-width"],10):getComputedStyle(t).borderTopWidth?parseInt(getComputedStyle(t).borderTopWidth,10):0,right:getComputedStyle(t)["border-right-width"]?parseInt(getComputedStyle(t)["border-right-width"],10):getComputedStyle(t).borderRightWidth?parseInt(getComputedStyle(t).borderRightWidth,10):0,bottom:getComputedStyle(t)["border-bottom-width"]?parseInt(getComputedStyle(t)["border-bottom-width"],10):getComputedStyle(t).borderTopWidth?parseInt(getComputedStyle(t).borderTopWidth,10):0,left:getComputedStyle(t)["border-left-width"]?parseInt(getComputedStyle(t)["border-left-width"],10):getComputedStyle(t).borderLeftWidth?parseInt(getComputedStyle(t).borderLeftWidth,10):0};else return{top:0,right:0,bottom:0,left:0}};t.prototype.getClientPos=function(t,e){var o=this.getShiftPos(),r=this.getMousePos(t);r.x-=o.x;r.y-=o.y;var n=this.getPageRect(e);return{x:r.x-n.left,y:r.y-n.top}};t.prototype.getColorAtPosition=function(t,e,o){if(t){var r=t.getImageData(e,o,1,1).data;return"rgba("+r[0]+","+r[1]+","+r[2]+",1)"}return""};t.prototype.getMargin=function(t){return t?this.calcMargin(t):{top:0,right:0,bottom:0,left:0}};t.prototype.getMouseOffsetPos=function(t,e){var o=this.getShiftPos(),r=this.getMousePos(t);r.x-=o.x;r.y-=o.y;var n=this.getPageRect(e);return{x:r.x-n.left,y:r.y-n.top}};t.prototype.getMousePos=function(t){return{x:t.pageX?t.pageX:t.originalEvent?t.originalEvent.pageX:0,y:t.pageY?t.pageY:t.originalEvent?t.originalEvent.pageY:0}};t.prototype.getObjFromListById=function(t,e){var o=null;if(t)for(var r=0;r<t.length;r++)if(t[r].id==e){o=t[r];break}return o};t.prototype.getPadding=function(t){if(t)return{top:getComputedStyle(t)["padding-top"]?parseInt(getComputedStyle(t)["padding-top"],10):getComputedStyle(t).paddingTop?parseInt(getComputedStyle(t).paddingTop,10):0,right:getComputedStyle(t)["padding-right"]?parseInt(getComputedStyle(t)["padding-right"],10):getComputedStyle(t).paddingRight?parseInt(getComputedStyle(t).paddingRight,10):0,bottom:getComputedStyle(t)["padding-bottom"]?parseInt(getComputedStyle(t)["padding-bottom"],10):getComputedStyle(t).paddingBottom?parseInt(getComputedStyle(t).paddingBottom,10):0,left:getComputedStyle(t)["padding-left"]?parseInt(getComputedStyle(t)["padding-left"],10):getComputedStyle(t).paddingLeft?parseInt(getComputedStyle(t).paddingLeft,10):0};else return{top:0,right:0,bottom:0,left:0}};t.prototype.getPageRect=function(t){return t?t.getBoundingClientRect():{top:0,right:0,bottom:0,left:0,height:0,width:0,x:0,y:0}};t.prototype.getShiftPos=function(){return{x:document.body.scrollLeft>0?document.body.scrollLeft:document.documentElement.scrollLeft>0?document.documentElement.scrollLeft:0,y:document.body.scrollTop>0?document.body.scrollTop:document.documentElement.scrollTop>0?document.documentElement.scrollTop:0}};t.prototype.getTouchData=function(t){return t.changedTouches?t.changedTouches:t.originalEvent?t.originalEvent.changedTouches:null};t.prototype.getUniqueId=function(t){var e=t||"-";function o(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return o()+o()+e+o()+e+o()+e+o()+e+o()+o()+o()};t.prototype.isEqual=function(t,e){if(t&&e)return t.toString()===e.toString();else return!1};t.prototype.isFieldAvailable=function(t,e){return void 0!=t?t:e};t.prototype.isIndexInRange=function(t,e){return e?t>=0&&t<e.length:!1};t.prototype.isObject=function(t){return t?"object"==typeof t&&null!=t&&!Array.isArray(t):!1};t.prototype.isString=function(t){return t?"string"==typeof t||t instanceof String:!1};t.prototype.moveObject=function(t,e,o){if(this.isIndexInRange(t,o)&&this.isIndexInRange(e,o))o.splice(e,0,o.splice(t,1)[0])};t.prototype.pointToView=function(t){var e=this.getShiftPos();return{x:t.x-e.x,y:t.y-e.y}};t.prototype.setNumInRange=function(t,e,o){return isNaN(t)?0:Math.min(Math.max(t,e),o)};t.ɵfac=function(e){return new(e||t)};t.ɵprov=i0.ɵɵdefineInjectable({token:t,factory:t.ɵfac});return t}();exports.IntegralUICommonService=IntegralUICommonService;