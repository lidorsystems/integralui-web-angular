/*
  filename: integralui.colorpicker.js
  version : 1.0.0
  Copyright Â© 2016-2020 Lidor Systems. All rights reserved.

  This file is part of the "IntegralUI Web" Library. 
                                                                   
  The contents of this file are subject to the IntegralUI Web License, and may not be used except in compliance with the License.
  A copy of the License should have been installed in the product's root installation directory or it can be found at
  http://www.lidorsystems.com/products/web/studio/license-agreement.aspx.
                                                            
  This SOFTWARE is provided "AS IS", WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License for the specific language 
  governing rights and limitations under the License. Any infringement will be prosecuted under applicable laws.                           
*/
var __extends=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}();Object.defineProperty(exports,"__esModule",{value:!0});
var core_1=require("@angular/core"),integralui_core_1=require("./integralui.core"),integralui_common_service_1=require("../services/integralui.common.service"),i0=require("@angular/core"),i1=require("../services/integralui.common.service"),i2=require("@angular/common"),_c0=["slider"],_c1=["sliderButton"],_c2=["palette"],_c3=["paletteButton"],_c4=["block"],_c5=["btnOk"],_c6=["btnCancel"],_c7=["displayColor"],_c8=["format"],_c9=["value"],_c10=function(d,b,a){return{background:d,width:b,height:a}},_c11=
function(d){return{width:d}},_c12=["header"],_c13=["headerButton"],_c14=["headerTitle"],_c15=function(d){return{"margin-top":d}},_c16=function(d,b){return{"margin-top":d,"margin-right":b}},_c17=function(d,b,a,c){return{background:d,"margin-left":b,width:a,height:c}},_c18=function(d,b,a){return{"margin-top":d,"margin-left":b,width:a}},IntegralUIColorSlider=function(){function d(b){this.commonService=b;this.isSliderActive=!1;this.currentValue="";this.colorList=[];this.buttonPos={x:0,y:0};this.valueChanged=
new core_1.EventEmitter}Object.defineProperty(d.prototype,"value",{get:function(){return this.currentValue},set:function(b){this.updateValue(b)},enumerable:!0,configurable:!0});d.prototype.ngAfterViewInit=function(){this.refresh()};d.prototype.drawSlider=function(){this.ctxSlider||(this.ctxSlider=this.slider.nativeElement.getContext("2d"));var b=this.slider.nativeElement.width,a=this.slider.nativeElement.height;this.ctxSlider.clearRect(0,0,b,a);var c=this.ctxSlider.createLinearGradient(0,0,0,a);c.addColorStop(0,
"rgba(255, 0, 0, 1)");c.addColorStop(.17,"rgba(255, 255, 0, 1)");c.addColorStop(.34,"rgba(0, 255, 0, 1)");c.addColorStop(.51,"rgba(0, 255, 255, 1)");c.addColorStop(.68,"rgba(0, 0, 255, 1)");c.addColorStop(.85,"rgba(255, 0, 255, 1)");c.addColorStop(1,"rgba(255, 0, 0, 1)");this.ctxSlider.beginPath();this.ctxSlider.rect(0,0,b,a);this.ctxSlider.fillStyle=c;this.ctxSlider.fill();this.ctxSlider.closePath();for(b=this.colorList.length=0;186>b;b++)this.colorList.push(this.commonService.getColorAtPosition(this.ctxSlider,
0,b))};d.prototype.drawSliderButton=function(){this.ctxSliderButton||(this.ctxSliderButton=this.sliderButton.nativeElement.getContext("2d"));var b=this.sliderButton.nativeElement.width;this.ctxSliderButton.clearRect(0,0,b,this.sliderButton.nativeElement.height);this.ctxSliderButton.strokeStyle="white";this.ctxSliderButton.fillStyle=this.currentValue;this.ctxSliderButton.beginPath();this.ctxSliderButton.ellipse(b/2,this.buttonPos.y,9,9,0,0,2*Math.PI);this.ctxSliderButton.lineWidth=2;this.ctxSliderButton.fill();
this.ctxSliderButton.stroke();this.ctxSliderButton.closePath()};d.prototype.updateValue=function(b,a){void 0!=b&&(this.currentValue=b,this.updateLayout(this.currentValue),a||this.valueChanged.emit({value:this.currentValue}))};d.prototype.onCtrlMouseDown=function(b){b=this.commonService.getMouseOffsetPos(b,this.slider.nativeElement);this.isSliderActive=!0;this.value=this.commonService.getColorAtPosition(this.ctxSlider,0,b.y);this.buttonPos.y=b.y+9;this.drawSliderButton()};d.prototype.onMouseMove=function(b){this.isSliderActive&&
(b=this.commonService.getMouseOffsetPos(b,this.slider.nativeElement),b.y=Math.max(0,Math.min(185,b.y)),this.value=this.commonService.getColorAtPosition(this.ctxSlider,0,b.y),this.buttonPos.y=182<=b.y?b.y+6:b.y+9,this.drawSliderButton())};d.prototype.onMouseUp=function(b){this.isSliderActive=!1};d.prototype.refresh=function(){this.drawSlider();this.drawSliderButton()};d.prototype.updateLayout=function(b){b=this.commonService.convertRgbaToNum(b);for(var a=Math.max(Math.max(b[0],b[1]),b[2]),c=0,e=0;e<
b.length;e++)if(b[e]==a){c=e;break}var d=b.filter(function(a,b){return b!=c}),f=Math.max(d[0],d[1]),g=0;for(e=b.length-1;0<=e;e--)if(e!=c&&b[e]==f){g=e;break}d=d.filter(function(a,b){return b!=g})[0];for(e=b.length-1;0<=e&&(e==c||e==g||b[e]!=d);e--);a=Math.floor(255*f/a);if(b[0]==b[1]&&b[0]==b[2])this.buttonPos.y=9,this.currentValue=this.colorList[0],this.drawSliderButton();else for(b=0;186>b;b++)if(e=this.commonService.convertRgbaToNum(this.colorList[b]),this.commonService.checkNumInRange(e[c],255,
8)&&this.commonService.checkNumInRange(e[g],a,8)){this.buttonPos.y=b+9;182<=b&&(this.buttonPos.y-=3);this.currentValue=this.colorList[b];this.drawSliderButton();break}};d.\u0275fac=function(b){return new (b||d)(i0.\u0275\u0275directiveInject(i1.IntegralUICommonService))};d.\u0275cmp=i0.\u0275\u0275defineComponent({type:d,selectors:[["iui-colorslider"]],viewQuery:function(b,a){b&1&&(i0.\u0275\u0275staticViewQuery(_c0,!0,core_1.ElementRef),i0.\u0275\u0275staticViewQuery(_c1,!0,core_1.ElementRef));if(b&
2){var c;i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(a.slider=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(a.sliderButton=c.first)}},hostBindings:function(b,a){b&1&&i0.\u0275\u0275listener("mousemove",function(b){return a.onMouseMove(b)},!1,i0.\u0275\u0275resolveWindow)("mouseup",function(b){return a.onMouseUp(b)},!1,i0.\u0275\u0275resolveWindow)},inputs:{value:"value"},outputs:{valueChanged:"valueChanged"},decls:7,vars:0,consts:[[1,"iui-colorslider",3,"mousedown"],
[1,"iui-colorslider-block"],["width","8","height","186"],["slider",""],[1,"iui-colorslider-button"],["width","20","height","200"],["sliderButton",""]],template:function(b,a){b&1&&(i0.\u0275\u0275elementStart(0,"div",0),i0.\u0275\u0275listener("mousedown",function(b){return a.onCtrlMouseDown(b)}),i0.\u0275\u0275elementStart(1,"div",1),i0.\u0275\u0275element(2,"canvas",2,3),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementStart(4,"div",4),i0.\u0275\u0275element(5,"canvas",5,6),i0.\u0275\u0275elementEnd(),
i0.\u0275\u0275elementEnd())},encapsulation:2});return d}();exports.IntegralUIColorSlider=IntegralUIColorSlider;
(function(){i0.\u0275setClassMetadata(IntegralUIColorSlider,[{type:core_1.Component,args:[{selector:"iui-colorslider",template:'\n        <div class="iui-colorslider" (mousedown)="onCtrlMouseDown($event)">\n            <div class="iui-colorslider-block">\n                <canvas width="8" height="186" #slider></canvas>\n            </div>\n            <div class="iui-colorslider-button">\n                <canvas width="20" height="200" #sliderButton></canvas>\n            </div>\n        </div>\n    ',encapsulation:core_1.ViewEncapsulation.None}]}],
function(){return[{type:i1.IntegralUICommonService}]},{slider:[{type:core_1.ViewChild,args:["slider",{read:core_1.ElementRef,"static":!0}]}],sliderButton:[{type:core_1.ViewChild,args:["sliderButton",{read:core_1.ElementRef,"static":!0}]}],value:[{type:core_1.Input}],valueChanged:[{type:core_1.Output}],onMouseMove:[{type:core_1.HostListener,args:["window:mousemove",["$event"]]}],onMouseUp:[{type:core_1.HostListener,args:["window:mouseup",["$event"]]}]})})();
var IntegralUIColorPalette=function(){function d(b){this.commonService=b;this.isPalleteActive=!1;this.currentValue=this.currentColor="rgba(0, 0, 0, 1)";this.panelDisplayPosition="absolute";this.panelPos={top:-9999,left:0};this.panelOpacity=0;this.panelSize={width:0,height:0};this.colorList=[];this.buttonPos={x:185,y:185};this.valueChanged=new core_1.EventEmitter}Object.defineProperty(d.prototype,"color",{get:function(){return this.currentColor},set:function(b){this.updateColor(b)},enumerable:!0,configurable:!0});
Object.defineProperty(d.prototype,"value",{get:function(){return this.currentValue},set:function(b){this.updateValue(b)},enumerable:!0,configurable:!0});d.prototype.ngAfterViewInit=function(){this.refresh()};d.prototype.drawPalette=function(){this.ctxPalette||(this.ctxPalette=this.palette.nativeElement.getContext("2d"));var b=this.palette.nativeElement.width,a=this.palette.nativeElement.height;this.ctxPalette.fillStyle=this.currentColor||"rgba(255,255,255,1)";this.ctxPalette.fillRect(0,0,b,a);var c=
this.ctxPalette.createLinearGradient(0,0,b,0);c.addColorStop(0,"rgba(255,255,255,1)");c.addColorStop(1,"rgba(255,255,255,0)");this.ctxPalette.fillStyle=c;this.ctxPalette.fillRect(0,0,b,a);c=this.ctxPalette.createLinearGradient(0,0,0,a);c.addColorStop(0,"rgba(0,0,0,0)");c.addColorStop(1,"rgba(0,0,0,1)");this.ctxPalette.fillStyle=c;this.ctxPalette.fillRect(0,0,b,a);this.drawPaletteButton()};d.prototype.drawPaletteButton=function(){this.ctxPaletteButton||(this.ctxPaletteButton=this.paletteButton.nativeElement.getContext("2d"));
this.ctxPaletteButton.clearRect(0,0,this.paletteButton.nativeElement.width,this.paletteButton.nativeElement.height);this.ctxPaletteButton.strokeStyle="white";this.ctxPaletteButton.fillStyle=this.currentValue;this.ctxPaletteButton.beginPath();this.ctxPaletteButton.ellipse(this.buttonPos.x,this.buttonPos.y,9,9,0,0,2*Math.PI);this.ctxPaletteButton.lineWidth=2;this.ctxPaletteButton.fill();this.ctxPaletteButton.stroke();this.ctxPaletteButton.closePath()};d.prototype.updateColor=function(b,a){void 0!=b&&
this.currentColor!=b&&(this.currentColor=b,this.refresh(),a?this.updateColorList():this.value=this.commonService.getColorAtPosition(this.ctxPalette,this.buttonPos.x-8,this.buttonPos.y-8))};d.prototype.updateValue=function(b,a){void 0!=b&&(this.currentValue=b,this.drawPaletteButton(),a?this.updateLayout():this.valueChanged.emit({value:this.currentValue}))};d.prototype.onCtrlMouseDown=function(b){this.isPalleteActive=!0;this.value=this.commonService.getColorAtPosition(this.ctxPalette,b.offsetX,b.offsetY);
this.buttonPos={x:b.offsetX+8,y:b.offsetY+8};this.drawPaletteButton()};d.prototype.onMouseMove=function(b){this.isPalleteActive&&(b=this.commonService.getMouseOffsetPos(b,this.palette.nativeElement),b.x=Math.max(0,Math.min(185,b.x)),b.y=Math.max(0,Math.min(185,b.y)),this.currentValue=this.commonService.getColorAtPosition(this.ctxPalette,b.x,b.y),b.x=185>b.x?b.x:b.x-1,b.y=185>b.y?b.y:b.y-1,b.x+=8,b.y+=8,this.buttonPos=b,this.drawPaletteButton(),this.valueChanged.emit({value:this.currentValue}))};d.prototype.onMouseUp=
function(b){this.isPalleteActive=!1};d.prototype.refresh=function(){this.drawPalette()};d.prototype.updateColorList=function(){for(var b=this.colorList.length=0;186>b;b++){this.colorList[b]=[];for(var a=0;186>a;a++)this.colorList[b].push(this.commonService.getColorAtPosition(this.ctxPalette,b,a))}};d.prototype.updateLayout=function(){var b=this;setTimeout(function(){b.updatePaletteButtonPos(1)},1)};d.prototype.updatePaletteButtonPos=function(b){for(var a=this.commonService.convertRgbaToNum(this.currentValue),
c=!1,e=0;e<this.colorList.length;e++){for(var d=0;d<this.colorList[e].length;d++){var f=this.commonService.convertRgbaToNum(this.colorList[e][d]);if((this.commonService.checkNumInRange(f[0],a[0],b)||this.commonService.checkNumInRange(f[0],a[0],b+1)||this.commonService.checkNumInRange(f[0],a[0],b+2))&&(this.commonService.checkNumInRange(f[1],a[1],b)||this.commonService.checkNumInRange(f[1],a[1],b+1)||this.commonService.checkNumInRange(f[1],a[1],b+2))&&(this.commonService.checkNumInRange(f[2],a[2],
b)||this.commonService.checkNumInRange(f[2],a[2],b+1)||this.commonService.checkNumInRange(f[2],a[2],b+2))){this.buttonPos={x:e+8,y:d+8};this.drawPaletteButton();c=!0;break}}if(c)break}!c&&20>=b&&this.updatePaletteButtonPos(b+2)};d.\u0275fac=function(b){return new (b||d)(i0.\u0275\u0275directiveInject(i1.IntegralUICommonService))};d.\u0275cmp=i0.\u0275\u0275defineComponent({type:d,selectors:[["iui-colorpalette"]],viewQuery:function(b,a){b&1&&(i0.\u0275\u0275staticViewQuery(_c2,!0,core_1.ElementRef),
i0.\u0275\u0275staticViewQuery(_c3,!0,core_1.ElementRef));if(b&2){var c;i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(a.palette=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(a.paletteButton=c.first)}},hostBindings:function(b,a){b&1&&i0.\u0275\u0275listener("mousemove",function(b){return a.onMouseMove(b)},!1,i0.\u0275\u0275resolveWindow)("mouseup",function(b){return a.onMouseUp(b)},!1,i0.\u0275\u0275resolveWindow)},inputs:{color:"color",value:"value"},outputs:{valueChanged:"valueChanged"},
decls:7,vars:0,consts:[[1,"iui-colorpalette",3,"mousedown"],[1,"iui-colorpalette-block"],["width","186","height","186"],["palette",""],[1,"iui-colorpalette-button"],["width","200","height","200"],["paletteButton",""]],template:function(b,a){b&1&&(i0.\u0275\u0275elementStart(0,"div",0),i0.\u0275\u0275listener("mousedown",function(b){return a.onCtrlMouseDown(b)}),i0.\u0275\u0275elementStart(1,"div",1),i0.\u0275\u0275element(2,"canvas",2,3),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementStart(4,"div",
4),i0.\u0275\u0275element(5,"canvas",5,6),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd())},encapsulation:2});return d}();exports.IntegralUIColorPalette=IntegralUIColorPalette;
(function(){i0.\u0275setClassMetadata(IntegralUIColorPalette,[{type:core_1.Component,args:[{selector:"iui-colorpalette",template:'\n        <div class="iui-colorpalette" (mousedown)="onCtrlMouseDown($event)">\n            <div class="iui-colorpalette-block">\n                <canvas width="186" height="186" #palette></canvas>\n            </div>\n            <div class="iui-colorpalette-button">\n                <canvas width="200" height="200" #paletteButton></canvas>\n            </div>\n        </div>\n    ',encapsulation:core_1.ViewEncapsulation.None}]}],
function(){return[{type:i1.IntegralUICommonService}]},{palette:[{type:core_1.ViewChild,args:["palette",{read:core_1.ElementRef,"static":!0}]}],paletteButton:[{type:core_1.ViewChild,args:["paletteButton",{read:core_1.ElementRef,"static":!0}]}],color:[{type:core_1.Input}],value:[{type:core_1.Input}],valueChanged:[{type:core_1.Output}],onMouseMove:[{type:core_1.HostListener,args:["window:mousemove",["$event"]]}],onMouseUp:[{type:core_1.HostListener,args:["window:mouseup",["$event"]]}]})})();
var IntegralUIColorPickerPopup=function(d){function b(a,b){var c=d.call(this,a,b)||this;c.elemRef=a;c.commonService=b;c.currentValue="rgba(0, 0, 0, 1)";c.inputValue="0, 0, 0";c.isInputActive=!1;c.colorSize={width:0,height:0};c.inputSize={width:0,height:0};c.isVisible=!1;c.colorFormat=integralui_core_1.IntegralUIColorFormat.RGB;c.opacity=1;c.originalColorFormat=integralui_core_1.IntegralUIColorFormat.RGB;c.closed=new core_1.EventEmitter;c.valueChanged=new core_1.EventEmitter;return c}__extends(b,d);
Object.defineProperty(b.prototype,"value",{get:function(){return this.originalValue},set:function(a){if(void 0!=a){if(this.colorFormat==integralui_core_1.IntegralUIColorFormat.HEX){a=this.commonService.convertHexToRgba(a);var b=this.commonService.convertRgbaToNum(a,!0);3==b.length&&(a=b[0]+", "+b[1]+", "+b[2])}this.originalValue=a;this.isInputActive=!0;this.updateCurrentValue()}},enumerable:!0,configurable:!0});b.prototype.updateCurrentValue=function(){var a=this;a.originalValue&&setTimeout(function(){var b=
a.commonService.convertRgbaToNum(a.originalValue,!0);3==b.length&&(a.paletteValue=b[0]+", "+b[1]+", "+b[2],a.currentValue="rgba("+a.paletteValue+", 1)",setTimeout(function(){a.slider.updateValue(a.currentValue);a.palette.updateValue(a.currentValue,!0);a.isInputActive=!1;a.valueChanged.emit({value:a.originalValue})},1))},1)};b.prototype.ngOnInit=function(){this.generalClassName="iui-colorpicker-popup";this.initStyle()};b.prototype.ngAfterContentInit=function(){this.focus()};b.prototype.ngAfterViewInit=
function(){this.open()};b.prototype.open=function(){this.isVisible=!0;this.updateLayout()};b.prototype.close=function(a,b){this.isVisible=!1;this.closed.emit({value:a,format:b})};b.prototype.onPaletteValueChanged=function(a){a=this.commonService.convertRgbaToNum(a.value,!0);this.paletteValue=a[0]+", "+a[1]+", "+a[2]};b.prototype.onSliderValueChanged=function(a){this.palette&&this.palette.updateColor(a.value,this.isInputActive)};b.prototype.processClose=function(){this.colorFormat=this.originalColorFormat;
this.close({rgb:this.getRGBValue(this.originalValue),hex:this.getHEXValue(this.originalValue)},this.colorFormat)};b.prototype.valueOk=function(){this.originalColorFormat=this.colorFormat;this.close({rgb:this.getRGBValue(),hex:this.getHEXValue()},this.colorFormat)};b.prototype.valueCancel=function(){this.processClose()};b.prototype.changeColorFormat=function(){switch(this.colorFormat){case integralui_core_1.IntegralUIColorFormat.RGB:this.colorFormat=integralui_core_1.IntegralUIColorFormat.HEX;break;
default:this.colorFormat=integralui_core_1.IntegralUIColorFormat.RGB}};b.prototype.getColorFormatString=function(){switch(this.colorFormat){case integralui_core_1.IntegralUIColorFormat.HEX:return"HEX";default:return"RGB"}};b.prototype.getDisplayColorValue=function(){return this.isInputActive?this.getInputValue(this.inputValue||this.paletteValue):this.paletteValue};b.prototype.getInputValue=function(a){if(a=a?a:this.paletteValue)switch(this.colorFormat){case integralui_core_1.IntegralUIColorFormat.HEX:a=
this.commonService.convertRgbaToHex(a);break;case integralui_core_1.IntegralUIColorFormat.HSL:a=this.commonService.convertRgbaToHsl(a)}return a};b.prototype.getRGBValue=function(a){return(a=a?a:this.paletteValue)?a:""};b.prototype.getHEXValue=function(a){return(a=a?a:this.paletteValue)?this.commonService.convertRgbaToHex(a):""};b.prototype.getHSLValue=function(a){return(a=a?a:this.paletteValue)?this.commonService.convertRgbaToHsl(a):""};b.prototype.onInputBlur=function(){this.isInputActive=!1};b.prototype.onInputFocus=
function(){this.isInputActive=!0;this.inputValue=this.getInputValue()};b.prototype.onInputChange=function(a){if(this.isInputActive){var b;a=a.target.value.replace(/[.*+?^${}()|[\]\\]/g,"");switch(this.colorFormat){case integralui_core_1.IntegralUIColorFormat.HEX:(b=7==a.length?!0:!1)&&(a=this.commonService.convertHexToRgba(a));break;case integralui_core_1.IntegralUIColorFormat.HSL:a=a.replace(String.fromCharCode(176),"").replace("%","").replace("%","");b=a.split(",");(b=3==b.length&&b[2]&&!isNaN(b[2])?
!0:!1)&&(a=this.commonService.convertHslToRgba(a));break;default:b=a.split(","),b=3==b.length&&b[2]&&!isNaN(b[2])?!0:!1}b&&(a=this.commonService.convertRgbaToNum(a,!0),3==a.length&&(this.inputValue=a[0]+", "+a[1]+", "+a[2],this.currentValue="rgba("+this.inputValue+", 1)",this.palette.updateValue(this.currentValue,!0),this.paletteValue=this.inputValue))}};b.prototype.inputKeyDown=function(a){switch(a.keyCode){case 13:this.close(this.getInputValue(),this.colorFormat);break;case 27:this.processClose()}};
b.prototype.updateLayout=function(){var a=this,b=setTimeout(function(){var c=a.blockElem.nativeElement.offsetWidth,d=a.formatElem.nativeElement.offsetWidth,f=a.formatElem.nativeElement.offsetHeight,g=a.valueElem.nativeElement.offsetHeight,h=a.commonService.getMargin(a.valueElem.nativeElement);a.colorSize.height=Math.max(g,f)-2;a.colorSize.width=a.colorSize.height;a.inputSize={width:c-(a.colorSize.width+d+h.left+h.right+12),height:a.colorSize.height};clearTimeout(b)},1)};b.prototype.getContentStyle=
function(){return{marginTop:this.size.height-this.maxSize.height+"px",opacity:this.opacity,width:this.maxSize.width+"px",height:this.maxSize.height+"px"}};b.\u0275fac=function(a){return new (a||b)(i0.\u0275\u0275directiveInject(i0.ElementRef),i0.\u0275\u0275directiveInject(i1.IntegralUICommonService))};b.\u0275cmp=i0.\u0275\u0275defineComponent({type:b,selectors:[["iui-colorpicker-popup"]],viewQuery:function(a,b){a&1&&(i0.\u0275\u0275viewQuery(_c4,!0,core_1.ElementRef),i0.\u0275\u0275viewQuery(_c5,
!0,core_1.ElementRef),i0.\u0275\u0275viewQuery(_c6,!0,core_1.ElementRef),i0.\u0275\u0275viewQuery(_c7,!0,core_1.ElementRef),i0.\u0275\u0275viewQuery(_c8,!0,core_1.ElementRef),i0.\u0275\u0275viewQuery(_c2,!0),i0.\u0275\u0275viewQuery(_c0,!0),i0.\u0275\u0275viewQuery(_c9,!0,core_1.ElementRef));if(a&2){var c;i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.blockElem=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.btnOkElem=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&
(b.btnCancelElem=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.displayColorElem=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.formatElem=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.palette=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.slider=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.valueElem=c.first)}},inputs:{colorFormat:"colorFormat",opacity:"opacity",originalColorFormat:"originalColorFormat",
value:"value"},outputs:{closed:"closed",valueChanged:"valueChanged"},features:[i0.\u0275\u0275InheritDefinitionFeature],decls:23,vars:14,consts:[["tabindex","999",3,"ngClass","ngStyle"],[3,"ngStyle"],[3,"valueChanged"],["palette",""],[3,"value","valueChanged"],["slider",""],[1,"iui-colorpicker-block"],["block",""],[1,"iui-colorpicker-block-color",3,"ngStyle"],["displayColor",""],[1,"iui-colorpicker-block-value"],["type","text",3,"ngStyle","value","input","blur","focus","keydown"],["value",""],[3,
"click"],["format",""],[2,"text-align","center"],[1,"iui-colorpicker-block-button",3,"click"],["btnOk",""],[1,"iui-colorpicker-block-button-ok"],["btnCancel",""],[1,"iui-colorpicker-block-button-cancel"]],template:function(a,b){a&1&&(i0.\u0275\u0275elementStart(0,"div",0),i0.\u0275\u0275elementStart(1,"div",1),i0.\u0275\u0275elementStart(2,"iui-colorpalette",2,3),i0.\u0275\u0275listener("valueChanged",function(a){return b.onPaletteValueChanged(a)}),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementStart(4,
"iui-colorslider",4,5),i0.\u0275\u0275listener("valueChanged",function(a){return b.onSliderValueChanged(a)}),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementStart(6,"div",6,7),i0.\u0275\u0275element(8,"span",8,9),i0.\u0275\u0275elementStart(10,"div",10),i0.\u0275\u0275elementStart(11,"input",11,12),i0.\u0275\u0275listener("input",function(a){return b.onInputChange(a)})("blur",function(){return b.onInputBlur()})("focus",function(){return b.onInputFocus()})("keydown",function(a){return b.inputKeyDown(a)}),
i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementStart(13,"button",13,14),i0.\u0275\u0275listener("click",function(){return b.changeColorFormat()}),i0.\u0275\u0275text(15),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementStart(16,"div",15),i0.\u0275\u0275elementStart(17,"div",16,17),i0.\u0275\u0275listener("click",function(){return b.valueOk()}),i0.\u0275\u0275element(19,"span",18),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementStart(20,"div",16,19),i0.\u0275\u0275listener("click",
function(){return b.valueCancel()}),i0.\u0275\u0275element(22,"span",20),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd());a&2&&(i0.\u0275\u0275property("ngClass",b.getControlClass())("ngStyle",b.getControlStyle()),i0.\u0275\u0275advance(1),i0.\u0275\u0275property("ngStyle",b.getContentStyle()),i0.\u0275\u0275advance(3),i0.\u0275\u0275property("value",b.currentValue),i0.\u0275\u0275advance(4),i0.\u0275\u0275property("ngStyle",
i0.\u0275\u0275pureFunction3(8,_c10,"rgba("+b.getDisplayColorValue()+", 1)",b.colorSize.height+"px",b.colorSize.height+"px")),i0.\u0275\u0275advance(3),i0.\u0275\u0275property("ngStyle",i0.\u0275\u0275pureFunction1(12,_c11,b.inputSize.width+"px"))("value",b.getInputValue()),i0.\u0275\u0275advance(4),i0.\u0275\u0275textInterpolate(b.getColorFormatString()))},directives:[i2.NgClass,i2.NgStyle,IntegralUIColorPalette,IntegralUIColorSlider],encapsulation:2});return b}(integralui_core_1.IntegralUIPopup);
exports.IntegralUIColorPickerPopup=IntegralUIColorPickerPopup;
(function(){i0.\u0275setClassMetadata(IntegralUIColorPickerPopup,[{type:core_1.Component,args:[{selector:"iui-colorpicker-popup",template:'\n        <div [ngClass]="getControlClass()" [ngStyle]="getControlStyle()" tabindex="999">\n            <div [ngStyle]="getContentStyle()">\n                <iui-colorpalette (valueChanged)="onPaletteValueChanged($event)" #palette></iui-colorpalette>\n                <iui-colorslider [value]="currentValue" (valueChanged)="onSliderValueChanged($event)" #slider></iui-colorslider>\n                <div class="iui-colorpicker-block" #block>\n                    <span class="iui-colorpicker-block-color" [ngStyle]="{ background: \'rgba(\' + getDisplayColorValue() + \', 1)\', width: colorSize.height + \'px\', height: colorSize.height + \'px\' }" #displayColor></span>\n                    <div class="iui-colorpicker-block-value">\n                        <input type="text" [ngStyle]="{ width: inputSize.width + \'px\' }" [value]="getInputValue()" (input)="onInputChange($event)" (blur)="onInputBlur()" (focus)="onInputFocus()" (keydown)="inputKeyDown($event)" #value />\n                        <button (click)="changeColorFormat()" #format>{{getColorFormatString()}}</button>\n                    </div>\n                    <div style="text-align:center">\n                        <div class="iui-colorpicker-block-button" (click)="valueOk()" #btnOk><span class="iui-colorpicker-block-button-ok"></span></div>\n                        <div class="iui-colorpicker-block-button" (click)="valueCancel()" #btnCancel><span class="iui-colorpicker-block-button-cancel"></span></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ',encapsulation:core_1.ViewEncapsulation.None}]}],
function(){return[{type:i0.ElementRef},{type:i1.IntegralUICommonService}]},{blockElem:[{type:core_1.ViewChild,args:["block",{read:core_1.ElementRef,"static":!1}]}],btnOkElem:[{type:core_1.ViewChild,args:["btnOk",{read:core_1.ElementRef,"static":!1}]}],btnCancelElem:[{type:core_1.ViewChild,args:["btnCancel",{read:core_1.ElementRef,"static":!1}]}],displayColorElem:[{type:core_1.ViewChild,args:["displayColor",{read:core_1.ElementRef,"static":!1}]}],formatElem:[{type:core_1.ViewChild,args:["format",{read:core_1.ElementRef,
"static":!1}]}],palette:[{type:core_1.ViewChild,args:["palette",{"static":!1}]}],slider:[{type:core_1.ViewChild,args:["slider",{"static":!1}]}],valueElem:[{type:core_1.ViewChild,args:["value",{read:core_1.ElementRef,"static":!1}]}],colorFormat:[{type:core_1.Input}],opacity:[{type:core_1.Input}],originalColorFormat:[{type:core_1.Input}],value:[{type:core_1.Input}],closed:[{type:core_1.Output}],valueChanged:[{type:core_1.Output}]})})();
var IntegralUIColorPicker=function(d){function b(a,b,e){var c=d.call(this,b)||this;c.elemRef=a;c.commonService=b;c.cmpResolver=e;c.closeTimer=null;c.openTimer=null;c.colorPopupRef=null;c.colorPopup=null;c.isPopupVisible=!1;c.isTouchProcessed=!1;c.buttonMargin={top:2,right:2,bottom:2,left:2};c.colorMargin={top:2,right:2,bottom:2,left:2};c.colorSize={width:0,height:0};c.currentPanelSize={width:240,height:270};c.headerMargin={top:0,right:0,bottom:0,left:0};c.headerSize={width:0,height:0};c.titleMargin=
{top:2,right:2,bottom:2,left:2};c.titleSize={width:0,height:0};c.updateTimer=null;c.headerClass=[];c.animationSpeed=integralui_core_1.IntegralUISpeedMode.Normal;c.colorFormat=integralui_core_1.IntegralUIColorFormat.RGB;c.valueChanged=new core_1.EventEmitter;return c}__extends(b,d);b.prototype.ngOnInit=function(){if(!this.currentSelectedValue)switch(this.colorFormat){case integralui_core_1.IntegralUIColorFormat.HEX:this.currentSelectedValue="#000000";break;default:this.currentSelectedValue="0, 0, 0"}this.generalClassName=
"iui-colorpicker";this.headerClassName=this.generalClassName+"-header";this.colorPopupClassName="iui-colorPopup";this.colorPopupCellClassName="iui-colorPopup-cell";this.initStyle()};b.prototype.ngAfterViewInit=function(){var a=this,b=setTimeout(function(){a.addPopup();clearTimeout(b)},1);a.updateLayout()};b.prototype.initStyle=function(){this.defaultStyle={general:{disabled:this.generalClassName+"-disabled",focused:this.generalClassName+"-focused",normal:this.generalClassName,hovered:this.generalClassName+
"-hovered",selected:this.generalClassName+"-selected"},header:{disabled:this.headerClassName+"-disabled",focused:this.headerClassName+"-focused",normal:this.headerClassName,hovered:this.headerClassName+"-hovered",selected:this.headerClassName+"-selected"},colorPopup:{general:{disabled:this.colorPopupClassName+"-disabled",focused:this.colorPopupClassName+"-focused",normal:this.colorPopupClassName,hovered:this.colorPopupClassName+"-hovered",selected:this.colorPopupClassName+"-selected"},cell:{disabled:this.colorPopupCellClassName+
"-disabled",focused:this.colorPopupCellClassName+"-focused",grayed:this.colorPopupCellClassName+"-grayed",normal:this.colorPopupCellClassName,hovered:this.colorPopupCellClassName+"-hovered",selected:this.colorPopupCellClassName+"-selected",today:this.colorPopupCellClassName+"-today"}}};this.updateStyle(this.controlStyle);this.updateControlClass();this.updateHeaderClass()};b.prototype.removeCloseTimer=function(){this.closeTimer&&clearInterval(this.closeTimer)};b.prototype.removeOpenTimer=function(){this.openTimer&&
clearInterval(this.openTimer)};b.prototype.ngOnDestroy=function(){this.removePopup();this.removeCloseTimer();this.removeOpenTimer()};Object.defineProperty(b.prototype,"panelSize",{get:function(){return this.currentPanelSize},set:function(a){a&&(a.width&&this.currentPanelSize.width!=a.width&&(this.currentPanelSize.width=a.width),a.height&&this.currentPanelSize.height!=a.height&&(this.currentPanelSize.height=a.height))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"selectedValue",
{get:function(){return this.currentSelectedValue},set:function(a){this.currentSelectedValue!=a&&(this.currentSelectedValue=a,this.valueChanged.emit({value:this.currentSelectedValue}))},enumerable:!0,configurable:!0});b.prototype.getSelectedColorBackground=function(){var a="";switch(this.colorFormat){case integralui_core_1.IntegralUIColorFormat.HEX:a=this.currentSelectedValue;break;case integralui_core_1.IntegralUIColorFormat.HSL:break;default:a="rgba("+this.currentSelectedValue+", 1)"}return a};b.prototype.addPopup=
function(){var a=this;if(a.appRef){a.removePopup();var b=a.cmpResolver.resolveComponentFactory(IntegralUIColorPickerPopup);b&&(a.colorPopupRef=a.appRef.createComponent(b),a.colorPopupRef.instance&&(a.colorPopup=a.colorPopupRef.instance),a.hidePopup(),a.colorPopup&&a.colorPopup.closed.subscribe(function(b){b.value&&""!==b.value.rgb&&""!==b.value.hex&&(a.colorFormat=b.format,a.selectedValue=b.format==integralui_core_1.IntegralUIColorFormat.RGB?b.value.rgb:b.value.hex);a.hidePopup()}))}};b.prototype.hidePopup=
function(){this.colorPopup&&this.closePopup()};b.prototype.removePopup=function(){this.colorPopup&&this.colorPopup.closed&&this.colorPopup.closed.unsubscribe();this.colorPopupRef&&this.colorPopupRef.destroy();this.colorPopup=null};b.prototype.showPopup=function(){if(this.colorPopup){var a=this.commonService.getShiftPos(),b=this.commonService.getPageRect(this.elemRef.nativeElement);this.colorPopup.allowAnimation=this.allowAnimation;this.colorPopup.colorFormat=this.colorFormat;this.colorPopup.display=
"block";this.colorPopup.originalColorFormat=this.colorFormat;this.colorPopup.position={x:b.left+a.x,y:b.bottom+a.y-1};this.colorPopup.value=this.selectedValue;this.colorPopup.size={width:this.panelSize.width,height:0};this.colorPopup.maxSize={width:this.panelSize.width,height:this.panelSize.height};this.colorPopup.open();this.openPopup();this.isPopupVisible=!0}};b.prototype.getAnimationFactor=function(a,b){switch(this.animationSpeed){case integralui_core_1.IntegralUISpeedMode.VerySlow:var c=b?a/4:
a/2;break;case integralui_core_1.IntegralUISpeedMode.Slow:c=b?a/8:a/4;break;case integralui_core_1.IntegralUISpeedMode.Fast:c=b?a/20:a/15;break;case integralui_core_1.IntegralUISpeedMode.VeryFast:c=b?a/30:a/25;break;default:c=b?a/15:a/10}return c};b.prototype.closePopup=function(){var a=this;a.removeCloseTimer();a.removeOpenTimer();if(a.allowAnimation){var b=a.getAnimationFactor(a.colorPopup.maxSize.height,!0),d=a.colorPopup.maxSize.height/b;a.colorPopup.opacity=1;a.closeTimer=setInterval(function(){0<
a.colorPopup.size.height?(a.colorPopup.size={width:a.colorPopup.size.width,height:a.colorPopup.size.height-d},a.colorPopup.opacity=a.colorPopup.size.height/a.colorPopup.maxSize.height):(a.colorPopup.size={width:a.colorPopup.size.width,height:0},a.colorPopup.display="none",a.colorPopup.opacity=0,a.isPopupVisible=!1,a.removeCloseTimer())},5)}else a.colorPopup.size={width:a.colorPopup.size.width,height:0},a.colorPopup.display="none",a.isPopupVisible=!1};b.prototype.openPopup=function(){var a=this;a.removeCloseTimer();
a.removeOpenTimer();if(a.allowAnimation){var b=a.getAnimationFactor(a.colorPopup.maxSize.height),d=a.colorPopup.maxSize.height/b;a.colorPopup.opacity=0;a.openTimer=setInterval(function(){a.colorPopup.size.height<a.colorPopup.maxSize.height?(a.colorPopup.size={width:a.colorPopup.size.width,height:a.colorPopup.size.height+d},a.colorPopup.opacity=a.colorPopup.size.height/a.colorPopup.maxSize.height):(a.colorPopup.size={width:a.colorPopup.size.width,height:a.colorPopup.maxSize.height},a.colorPopup.opacity=
1,a.removeOpenTimer())},5)}else a.colorPopup.size={width:a.colorPopup.size.width,height:a.colorPopup.maxSize.height}};b.prototype.updateLayout=function(){var a=this;a.updateTimer=setTimeout(function(){a.clientRect={width:a.elemRef.nativeElement.firstElementChild.clientWidth,height:a.elemRef.nativeElement.firstElementChild.clientHeight};a.headerSize={width:a.clientRect.width-4,height:a.headerElem.nativeElement.offsetHeight};a.updateHeaderLayout();clearTimeout(a.updateTimer)},1)};b.prototype.updateHeaderLayout=
function(){var a=this,b=setTimeout(function(){a.headerMargin={top:(a.clientRect.height-a.headerElem.nativeElement.offsetHeight)/2-2,right:0,bottom:0,left:0};a.buttonMargin={top:(a.headerSize.height-a.headerButtonElem.nativeElement.offsetHeight)/2,right:0,bottom:0,left:2};a.titleMargin={top:(a.headerSize.height-a.headerTitleElem.nativeElement.offsetHeight)/2,right:2,bottom:0,left:7};a.colorMargin={top:(a.headerSize.height-a.headerTitleElem.nativeElement.offsetHeight)/2,right:2,bottom:0,left:2};a.colorSize.height=
Math.max(a.headerTitleElem.nativeElement.offsetHeight,a.headerButtonElem.nativeElement.offsetHeight)-6;a.colorSize.width=a.colorSize.height;a.titleSize={width:a.headerSize.width-a.colorSize.width-(a.headerButtonElem.nativeElement.offsetWidth+a.buttonMargin.left+a.buttonMargin.right)-(a.titleMargin.left+a.titleMargin.right)-2,height:a.headerSize.height};clearTimeout(b)},1)};b.prototype.onCtrlMouseEnter=function(a){this.isEnabled&&(this.state|=integralui_core_1.IntegralUIObjectState.hovered)};b.prototype.onCtrlMouseLeave=
function(a){this.state&=~integralui_core_1.IntegralUIObjectState.hovered};b.prototype.headerButtonMouseDown=function(a){this.isTouchProcessed||this.toggleButtonClicked();a.stopPropagation()};b.prototype.headerButtonTouchStart=function(a){var b=this;b.isTouchProcessed=!0;b.toggleButtonClicked();setTimeout(function(){b.isTouchProcessed=!1},100);a.stopPropagation()};b.prototype.toggleButtonClicked=function(){this.colorPopup&&(this.isPopupVisible?this.hidePopup():this.showPopup())};b.prototype.getControlStyle=
function(){var a={};0<this.ctrlSize.width&&(a.width=this.ctrlSize.width+"px");0<this.ctrlSize.height&&(a.height=this.ctrlSize.height+"px");return a};b.prototype.updateHeaderClass=function(){this.headerClass.length=0;this.headerClass.push(this.headerClassName);this.options.currentStyle&&(this.headerClass.push(this.options.currentStyle.header.normal),this.state&integralui_core_1.IntegralUIObjectState.disabled?this.headerClass.push(this.options.currentStyle.header.disabled):this.state&integralui_core_1.IntegralUIObjectState.focused?
this.headerClass.push(this.options.currentStyle.header.focused):this.state&integralui_core_1.IntegralUIObjectState.selected?this.headerClass.push(this.options.currentStyle.header.selected):this.state&integralui_core_1.IntegralUIObjectState.hovered&&this.headerClass.push(this.options.currentStyle.header.hovered))};b.prototype.getHeaderClass=function(){return this.headerClass};b.prototype.getHeaderStyle=function(a){return this.commonService.isString(a)?a:a?{disabled:this.commonService.isFieldAvailable(a.disabled,
this.headerClassName+"-disabled"),focused:this.commonService.isFieldAvailable(a.focused,this.headerClassName+"-focused"),hovered:this.commonService.isFieldAvailable(a.hovered,this.headerClassName+"-hovered"),normal:this.commonService.isFieldAvailable(a.normal,this.headerClassName),selected:this.commonService.isFieldAvailable(a.selected,this.headerClassName+"-selected")}:{disabled:this.defaultStyle.header.disabled,focused:this.defaultStyle.header.focused,hovered:this.defaultStyle.header.hovered,normal:this.defaultStyle.header.normal,
selected:this.defaultStyle.header.selected}};b.prototype.getColorPopupStyle=function(a){return this.commonService.isString(a)?a:a?{general:this.getColorPopupGeneralStyle(a.general),cell:this.getColorPopupCellStyle(a.cell)}:{general:this.getColorPopupGeneralStyle(),cell:this.getColorPopupCellStyle()}};b.prototype.getColorPopupGeneralStyle=function(a){return this.commonService.isString(a)?a:a?{disabled:this.commonService.isFieldAvailable(a.disabled,this.colorPopupClassName+"-disabled"),focused:this.commonService.isFieldAvailable(a.focused,
this.colorPopupClassName+"-focused"),hovered:this.commonService.isFieldAvailable(a.hovered,this.colorPopupClassName+"-hovered"),normal:this.commonService.isFieldAvailable(a.normal,this.colorPopupClassName),selected:this.commonService.isFieldAvailable(a.selected,this.colorPopupClassName+"-selected")}:{disabled:this.defaultStyle.colorPopup.general.disabled,focused:this.defaultStyle.colorPopup.general.focused,hovered:this.defaultStyle.colorPopup.general.hovered,normal:this.defaultStyle.colorPopup.general.normal,
selected:this.defaultStyle.colorPopup.general.selected}};b.prototype.getColorPopupCellStyle=function(a){return this.commonService.isString(a)?a:a?{disabled:this.commonService.isFieldAvailable(a.disabled,this.colorPopupCellClassName+"-disabled"),focused:this.commonService.isFieldAvailable(a.focused,this.colorPopupCellClassName+"-focused"),grayed:this.commonService.isFieldAvailable(a.focused,this.colorPopupCellClassName+"-grayed"),hovered:this.commonService.isFieldAvailable(a.hovered,this.colorPopupCellClassName+
"-hovered"),normal:this.commonService.isFieldAvailable(a.normal,this.colorPopupCellClassName),selected:this.commonService.isFieldAvailable(a.selected,this.colorPopupCellClassName+"-selected"),today:this.commonService.isFieldAvailable(a.today,this.colorPopupCellClassName+"-today")}:{disabled:this.defaultStyle.colorPopup.cell.disabled,focused:this.defaultStyle.colorPopup.cell.focused,grayed:this.defaultStyle.colorPopup.cell.grayed,normal:this.defaultStyle.colorPopup.cell.normal,hovered:this.defaultStyle.colorPopup.cell.hovered,
selected:this.defaultStyle.colorPopup.cell.selected,today:this.defaultStyle.colorPopup.cell.today}};b.prototype.updateStyle=function(a){this.options.currentStyle=a?{general:this.getGeneralStyle(a.general),header:this.getHeaderStyle(a.header),colorPopup:this.getColorPopupStyle(a.colorPopup)}:{general:{disabled:this.defaultStyle.general.disabled,focused:this.defaultStyle.general.focused,hovered:this.defaultStyle.general.hovered,normal:this.defaultStyle.general.normal,selected:this.defaultStyle.general.selected},
header:{disabled:this.defaultStyle.header.disabled,focused:this.defaultStyle.header.focused,hovered:this.defaultStyle.header.hovered,normal:this.defaultStyle.header.normal,selected:this.defaultStyle.header.selected},colorPopup:{general:{disabled:this.defaultStyle.colorPopup.general.disabled,focused:this.defaultStyle.colorPopup.general.focused,hovered:this.defaultStyle.colorPopup.general.hovered,normal:this.defaultStyle.colorPopup.general.normal,selected:this.defaultStyle.colorPopup.general.selected},
cell:{disabled:this.defaultStyle.colorPopup.cell.disabled,focused:this.defaultStyle.colorPopup.cell.focused,grayed:this.defaultStyle.colorPopup.cell.grayed,normal:this.defaultStyle.colorPopup.cell.normal,hovered:this.defaultStyle.colorPopup.cell.hovered,selected:this.defaultStyle.colorPopup.cell.selected,today:this.defaultStyle.colorPopup.cell.today}}}};b.prototype.refresh=function(){var a=this,b=setTimeout(function(){a.updateStyle(a.controlStyle);a.updateControlClass();a.updateHeaderClass();clearTimeout(b)},
1)};b.\u0275fac=function(a){return new (a||b)(i0.\u0275\u0275directiveInject(i0.ElementRef),i0.\u0275\u0275directiveInject(i1.IntegralUICommonService),i0.\u0275\u0275directiveInject(i0.ComponentFactoryResolver))};b.\u0275cmp=i0.\u0275\u0275defineComponent({type:b,selectors:[["iui-colorpicker"]],viewQuery:function(a,b){a&1&&(i0.\u0275\u0275viewQuery(_c12,!0,core_1.ElementRef),i0.\u0275\u0275viewQuery(_c13,!0,core_1.ElementRef),i0.\u0275\u0275viewQuery(_c14,!0,core_1.ElementRef));if(a&2){var c;i0.\u0275\u0275queryRefresh(c=
i0.\u0275\u0275loadQuery())&&(b.headerElem=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.headerButtonElem=c.first);i0.\u0275\u0275queryRefresh(c=i0.\u0275\u0275loadQuery())&&(b.headerTitleElem=c.first)}},inputs:{controlStyle:"controlStyle",data:"data",enabled:"enabled",name:"name",size:"size",state:"state",animationSpeed:"animationSpeed",appRef:"appRef",colorFormat:"colorFormat",panelSize:"panelSize",selectedValue:"selectedValue"},outputs:{valueChanged:"valueChanged"},features:[i0.\u0275\u0275InheritDefinitionFeature],
decls:12,vars:21,consts:[[3,"ngClass","ngStyle","mouseenter","mouseleave"],[1,"iui-colorpicker-header",3,"ngStyle"],["header",""],[1,"iui-colorpicker-header-button","iui-colorpicker-header-button-down",3,"ngStyle","mousedown","touchstart"],["headerButton",""],[1,"iui-colorpicker-header-color",3,"ngStyle"],["headerColor",""],[1,"iui-colorpicker-header-title",3,"ngStyle"],["headerTitle",""]],template:function(a,b){a&1&&(i0.\u0275\u0275elementStart(0,"div",0),i0.\u0275\u0275listener("mouseenter",function(a){return b.onCtrlMouseEnter(a)})("mouseleave",
function(a){return b.onCtrlMouseLeave(a)}),i0.\u0275\u0275elementStart(1,"div",1,2),i0.\u0275\u0275elementStart(3,"div",3,4),i0.\u0275\u0275listener("mousedown",function(a){return b.headerButtonMouseDown(a)})("touchstart",function(a){return b.headerButtonTouchStart(a)}),i0.\u0275\u0275element(5,"span"),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275element(6,"span",5,6),i0.\u0275\u0275elementStart(8,"div",7,8),i0.\u0275\u0275elementStart(10,"span"),i0.\u0275\u0275text(11),i0.\u0275\u0275elementEnd(),
i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd());a&2&&(i0.\u0275\u0275property("ngClass",b.getControlClass())("ngStyle",b.getControlStyle()),i0.\u0275\u0275advance(1),i0.\u0275\u0275property("ngStyle",i0.\u0275\u0275pureFunction1(7,_c15,b.headerMargin.top+"px")),i0.\u0275\u0275advance(2),i0.\u0275\u0275property("ngStyle",i0.\u0275\u0275pureFunction2(9,_c16,b.buttonMargin.top+"px",b.buttonMargin.right+"px")),i0.\u0275\u0275advance(3),i0.\u0275\u0275property("ngStyle",
i0.\u0275\u0275pureFunction4(12,_c17,b.getSelectedColorBackground(),b.colorMargin.left+"px",b.colorSize.height+"px",b.colorSize.height+"px")),i0.\u0275\u0275advance(2),i0.\u0275\u0275property("ngStyle",i0.\u0275\u0275pureFunction3(17,_c18,b.titleMargin.top+"px",b.titleMargin.left+"px",b.titleSize.width+"px")),i0.\u0275\u0275advance(3),i0.\u0275\u0275textInterpolate(b.selectedValue))},directives:[i2.NgClass,i2.NgStyle],encapsulation:2});return b}(integralui_core_1.IntegralUIBaseComponent);
exports.IntegralUIColorPicker=IntegralUIColorPicker;
(function(){i0.\u0275setClassMetadata(IntegralUIColorPicker,[{type:core_1.Component,args:[{selector:"iui-colorpicker",template:"\n\t\t<div [ngClass]=\"getControlClass()\" [ngStyle]=\"getControlStyle()\" (mouseenter)=\"onCtrlMouseEnter($event)\" (mouseleave)=\"onCtrlMouseLeave($event)\">\n            <div class=\"iui-colorpicker-header\" [ngStyle]=\"{ 'margin-top': headerMargin.top + 'px' }\" #header>\n                <div class=\"iui-colorpicker-header-button iui-colorpicker-header-button-down\" [ngStyle]=\"{ 'margin-top': buttonMargin.top + 'px', 'margin-right': buttonMargin.right + 'px' }\" (mousedown)=\"headerButtonMouseDown($event)\"  (touchstart)=\"headerButtonTouchStart($event)\" #headerButton><span></span></div>\n                <span class=\"iui-colorpicker-header-color\" [ngStyle]=\"{ background: getSelectedColorBackground(), 'margin-left': colorMargin.left + 'px', width: colorSize.height + 'px', height: colorSize.height + 'px' }\" #headerColor></span>\n                <div class=\"iui-colorpicker-header-title\" [ngStyle]=\"{ 'margin-top': titleMargin.top + 'px', 'margin-left': titleMargin.left + 'px', width: titleSize.width + 'px' }\" #headerTitle><span>{{selectedValue}}</span></div>\n            </div>\n\t\t</div>\n\t",inputs:"controlStyle data enabled name size state".split(" "),
encapsulation:core_1.ViewEncapsulation.None}]}],function(){return[{type:i0.ElementRef},{type:i1.IntegralUICommonService},{type:i0.ComponentFactoryResolver}]},{headerElem:[{type:core_1.ViewChild,args:["header",{read:core_1.ElementRef,"static":!1}]}],headerButtonElem:[{type:core_1.ViewChild,args:["headerButton",{read:core_1.ElementRef,"static":!1}]}],headerTitleElem:[{type:core_1.ViewChild,args:["headerTitle",{read:core_1.ElementRef,"static":!1}]}],animationSpeed:[{type:core_1.Input}],appRef:[{type:core_1.Input}],
colorFormat:[{type:core_1.Input}],panelSize:[{type:core_1.Input}],selectedValue:[{type:core_1.Input}],valueChanged:[{type:core_1.Output}]})})();