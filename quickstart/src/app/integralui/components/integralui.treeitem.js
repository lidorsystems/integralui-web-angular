/*
  filename: integralui.treeitem.js
  version : 2.3.0
  Copyright Â© 2016-2020 Lidor Systems. All rights reserved.

  This file is part of the "IntegralUI Web" Library. 
                                                                   
  The contents of this file are subject to the IntegralUI Web License, and may not be used except in compliance with the License.
  A copy of the License should have been installed in the product's root installation directory or it can be found at
  http://www.lidorsystems.com/products/web/studio/license-agreement.aspx.
                                                            
  This SOFTWARE is provided "AS IS", WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License for the specific language 
  governing rights and limitations under the License. Any infringement will be prosecuted under applicable laws.                           
*/
var __extends=this&&this.__extends||function(){var d=function(c,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var b in e)e.hasOwnProperty(b)&&(a[b]=e[b])};return d(c,a)};return function(c,a){function b(){this.constructor=c}d(c,a);c.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)}}();Object.defineProperty(exports,"__esModule",{value:!0});
var core_1=require("@angular/core"),integralui_core_1=require("./integralui.core"),integralui_common_service_1=require("../services/integralui.common.service"),integralui_data_service_1=require("../services/integralui.data.service"),integralui_listitem_1=require("./integralui.listitem"),i0=require("@angular/core"),i1=require("../services/integralui.data.service"),i2=require("../services/integralui.common.service"),i3=require("./integralui.core"),i4=require("@angular/common"),_c0=["content"],_c1=["dragElem"],
_c2=["block"],_c3=["expandBox"];
function IntegralUITreeItem_li_0_span_4_Template(d,c){if(d&1){var a=i0.\u0275\u0275getCurrentView();i0.\u0275\u0275elementStart(0,"span",13);i0.\u0275\u0275elementStart(1,"span",14,15);i0.\u0275\u0275listener("mousedown",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext(2).onExpandBoxMouseDown(b)})("mousedown",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext(2).onExpandBoxMouseUp(b)})("touchstart",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext(2).onExpandBoxTouchStart(b)});
i0.\u0275\u0275elementEnd();i0.\u0275\u0275elementEnd()}if(d&2){var b=i0.\u0275\u0275nextContext(2);i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngClass",b.getExpandBoxClass())}}function IntegralUITreeItem_li_0_ng_template_7_Template(d,c){}var _c4=function(d,c){return{height:d,width:c}},_c5=function(d){return{"iui-listitem-animate-select iui-listitem-animate-select-left":d}},_c6=function(d){return{height:d}};
function IntegralUITreeItem_li_0_span_8_Template(d,c){d&1&&(i0.\u0275\u0275elementStart(0,"span",16),i0.\u0275\u0275element(1,"span",10),i0.\u0275\u0275elementEnd());if(d&2){var a=i0.\u0275\u0275nextContext(2);i0.\u0275\u0275property("ngStyle",i0.\u0275\u0275pureFunction2(3,_c4,a.getSize().height+"px",a.clickPos.x+"px"));i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngClass",i0.\u0275\u0275pureFunction1(6,_c5,a.isClicked))("ngStyle",i0.\u0275\u0275pureFunction1(8,_c6,a.getSize().height+"px"))}}
var _c7=function(d,c,a){return{left:d,height:c,width:a}},_c8=function(d){return{"iui-listitem-animate-select iui-listitem-animate-select-right":d}};
function IntegralUITreeItem_li_0_span_9_Template(d,c){d&1&&(i0.\u0275\u0275elementStart(0,"span",16),i0.\u0275\u0275element(1,"span",10),i0.\u0275\u0275elementEnd());if(d&2){var a=i0.\u0275\u0275nextContext(2);i0.\u0275\u0275property("ngStyle",i0.\u0275\u0275pureFunction3(3,_c7,a.clickPos.x+"px",a.getSize().height+"px",a.getSize().width-a.clickPos.x+"px"));i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngClass",i0.\u0275\u0275pureFunction1(7,_c8,a.isClicked))("ngStyle",i0.\u0275\u0275pureFunction1(9,
_c6,a.getSize().height+"px"))}}
function IntegralUITreeItem_li_0_iui_treeitem_12_Template(d,c){d&1&&(i0.\u0275\u0275elementStart(0,"iui-treeitem",17),i0.\u0275\u0275text(1,">"),i0.\u0275\u0275elementEnd());if(d&2){var a=c.$implicit,b=i0.\u0275\u0275nextContext(2);i0.\u0275\u0275property("allowAnimation",b.getItemObject(a,"allowAnimation"))("enabled",b.getItemObject(a,"enabled"))("expanded",b.getItemObject(a,"expanded"))("text",b.getItemObject(a,"text"))("items",b.getItemObject(a,"items"))("templateRef",b.templateRef)("data",a)("visible",
b.getItemObject(a,"visible"))}}var _c9=function(d,c){return{"iui-treeitem-animate":d,"iui-listitem-animate-enter-suspended":c}},_c10=function(d){return{display:d}},_c11=function(d){return{height:d}};
function IntegralUITreeItem_li_0_Template(d,c){if(d&1){var a=i0.\u0275\u0275getCurrentView();i0.\u0275\u0275elementStart(0,"li",1);i0.\u0275\u0275elementStart(1,"div",2);i0.\u0275\u0275elementStart(2,"div",3,4);i0.\u0275\u0275listener("dragstart",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext().itemDragStart(b)})("dragover",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext().itemDragOver(b)})("drop",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext().itemDragDrop(b)})("mouseenter",
function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext().onMouseEnter(b)})("mousemove",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext().onMouseMove(b)})("mouseleave",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext().onMouseLeave(b)});i0.\u0275\u0275template(4,IntegralUITreeItem_li_0_span_4_Template,3,1,"span",5);i0.\u0275\u0275elementStart(5,"div",6,7);i0.\u0275\u0275listener("click",function(b){i0.\u0275\u0275restoreView(a);
return i0.\u0275\u0275nextContext().onClick(b)})("dblclick",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext().onDblClick(b)})("contextmenu",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext().onRightClick(b)})("mousedown",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext().onMouseDown(b)})("mouseup",function(b){i0.\u0275\u0275restoreView(a);return i0.\u0275\u0275nextContext().onMouseUp(b)})("touchstart",function(b){i0.\u0275\u0275restoreView(a);
return i0.\u0275\u0275nextContext().onTouchStart(b)});i0.\u0275\u0275template(7,IntegralUITreeItem_li_0_ng_template_7_Template,0,0,"ng-template",8);i0.\u0275\u0275elementEnd();i0.\u0275\u0275elementEnd();i0.\u0275\u0275elementEnd();i0.\u0275\u0275template(8,IntegralUITreeItem_li_0_span_8_Template,2,10,"span",9);i0.\u0275\u0275template(9,IntegralUITreeItem_li_0_span_9_Template,2,11,"span",9);i0.\u0275\u0275elementStart(10,"ul",10,11);i0.\u0275\u0275template(12,IntegralUITreeItem_li_0_iui_treeitem_12_Template,
2,8,"iui-treeitem",12);i0.\u0275\u0275elementEnd();i0.\u0275\u0275elementEnd()}if(d&2){var b=i0.\u0275\u0275nextContext();i0.\u0275\u0275property("ngClass",i0.\u0275\u0275pureFunction2(13,_c9,b.allowAnimation,b.allowAnimation&&b.isHovered));i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngClass",b.getControlClass());i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngClass",b.getContentClass())("ngStyle",b.getControlStyle());i0.\u0275\u0275advance(2);i0.\u0275\u0275property("ngIf",b.checkExpandBoxVisibility());
i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngStyle",i0.\u0275\u0275pureFunction1(16,_c10,0==b.getItemDisplayMode()?"inline-block":"block"));i0.\u0275\u0275advance(2);i0.\u0275\u0275property("ngForOf",b.templateData)("ngForTemplate",b.templateRef);i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngIf",b.allowAnimation&&b.isClicked);i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngIf",b.allowAnimation&&b.isClicked);i0.\u0275\u0275advance(1);i0.\u0275\u0275property("ngClass",b.getBlockClass())("ngStyle",
i0.\u0275\u0275pureFunction1(18,_c11,b.blockElemHeight));i0.\u0275\u0275advance(2);i0.\u0275\u0275property("ngForOf",b.items)}}
var IntegralUITreeItem=function(d){function c(a,b,c,g){var e=d.call(this,a,c,g)||this;e.elemRef=a;e.dataService=b;e.commonService=c;e.baseService=g;e.contentAnimation={display:"none",left:0,width:0,height:0};e.numItems=0;e.templateData=[];e.expandState="none";e.blockElemHeight="0";e.eventList=[];e.parentItem=null;e.blockClass=[];e.expandBoxClass=[];e.isExpandBoxTouched=!1;e.itemClick=new core_1.EventEmitter;e.itemDblClick=new core_1.EventEmitter;e.itemRightClick=new core_1.EventEmitter;return e}__extends(c,
d);Object.defineProperty(c.prototype,"expanded",{get:function(){return this.isExpanded},set:function(a){if(this.isExpanded!=a){var b=!0;this.parentCtrl&&this.parentCtrl.invokeEvent&&(b=this.parentCtrl.invokeEvent(a?"BEFORE_EXPAND":"BEFORE_COLLAPSE",this.data));b&&(this.expandState=a?"expand":"collapse",this.isExpanded=a,this.parentCtrl&&this.parentCtrl.invokeMethod("CHANGE_EXPANDED",{component:this}),this.updateBlockClass(),this.updateExpandBoxClass(),this.toggleContent(),this.parentCtrl&&this.parentCtrl.invokeEvent&&
this.parentCtrl.invokeEvent(a?"AFTER_EXPAND":"AFTER_COLLAPSE",this.data))}},enumerable:!0,configurable:!0});c.prototype.ngOnInit=function(){this.templateData.push(this.data);this.parentCtrl=this.baseService.getComponent();this.dataService.init([{data:this.items}]);this.isExpanded=this.parentCtrl?this.parentCtrl.isItemExpanded(this.data):!0;this.blockElemHeight="0";this.generalClassName="iui-treeitem";this.blockClassName=this.generalClassName+"-list";this.contentClassName=this.generalClassName+"-content";
this.expandBoxClassName=this.generalClassName+"-expand-box";this.initStyle()};c.prototype.initStyle=function(){this.defaultStyle={general:{disabled:this.generalClassName+"-disabled",focused:this.generalClassName+"-focused",normal:this.generalClassName,hovered:this.generalClassName+"-hovered",selected:this.generalClassName+"-selected"},expandBox:{general:this.expandBoxClassName,load:this.expandBoxClassName+"-load",expanded:this.expandBoxClassName+"-open",collapsed:this.expandBoxClassName+"-close"},
content:{disabled:this.contentClassName+"-disabled",focused:this.contentClassName+"-focused",normal:this.contentClassName,hovered:this.contentClassName+"-hovered",selected:this.contentClassName+"-selected"}};this.updateStyle(this.controlStyle);this.refresh()};c.prototype.ngAfterViewInit=function(){this.contentElem&&(this.contentAnimation={display:"none",left:this.contentElem.nativeElement.offsetWidth/2,width:0,height:this.contentElem.nativeElement.offsetHeight},this.toggleContent())};c.prototype.ngAfterContentChecked=
function(){this.contentList&&(this.itemList=this.contentList.toArray(),this.numItems!=this.itemList.length&&(this.numItems=this.itemList.length,this.refresh()))};c.prototype.onClick=function(a){this.isEnabled&&1==a.which&&(a={event:a,item:this.data},this.parentCtrl?this.parentCtrl.itemClick.emit(a):this.itemClick.emit(a))};c.prototype.onDblClick=function(a){this.isEnabled&&1==a.which&&(a={cancel:!1,event:a,item:this.data},this.parentCtrl?this.parentCtrl.itemDblClick.emit(a):this.itemDblClick.emit(a),
1!=a.cancel&&this.toggle())};c.prototype.onRightClick=function(a){this.isEnabled&&(a={event:a,item:this.data},this.parentCtrl?this.parentCtrl.itemRightClick.emit(a):this.itemRightClick.emit(a))};c.prototype.itemDragOver=function(a,b){if(this.isEnabled&&this.parentCtrl){var c=this.parentCtrl.getItemFromComponent(this),d=this.getPageRect(),f=this.getContentSize();d={x:d.left,y:d.top,width:d.right-d.left,height:f.height};this.parentCtrl.expandOnDelay(c);this.parentCtrl.processDragOver(a,c,d,b)}a.stopPropagation()};
c.prototype.itemDragDrop=function(a){if(this.isEnabled&&this.parentCtrl){this.parentCtrl.processDragDrop(a,this.data);var b=this;if(b.expanded&&!b.isBlockExpanded())var c=setTimeout(function(){b.toggleContent();clearTimeout(c)},100)}a.stopPropagation()};c.prototype.isBlockExpanded=function(){return"0"==this.blockElemHeight?!1:!0};c.prototype.collapse=function(a){this.expanded=!1;a&&(this.itemList=this.contentList.toArray())&&0<this.itemList.length&&this.itemList.forEach(function(b){b.collapse(a)})};
c.prototype.expand=function(a){this.expanded=!0;a&&(this.itemList=this.contentList.toArray())&&0<this.itemList.length&&this.itemList.forEach(function(b){b.expand(a)})};c.prototype.toggle=function(a,b){this.expanded=void 0!=a?a:!this.expanded;b&&(this.itemList=this.contentList.toArray())&&0<this.itemList.length&&this.itemList.forEach(function(c){c.toggle(a,b)})};c.prototype.onExpandBoxMouseDown=function(a){this.isEnabled&&!this.isExpandBoxTouched&&this.toggle();this.isExpandBoxTouched=!1;a.stopPropagation()};
c.prototype.onExpandBoxMouseUp=function(a){this.isExpandBoxTouched=!1};c.prototype.onExpandBoxTouchStart=function(a){this.isExpandBoxTouched=!0;this.isEnabled&&this.toggle();a.stopPropagation()};c.prototype.toggleContent=function(){var a=this;if(a.items&&a.contentElem){var b=a.contentElem.nativeElement.offsetHeight*a.items.length,c=0,d=0;if(a.expanded)if(a.allowAnimation)var f=setInterval(function(){c<b?(d=0==d?1:d+2,c+=d,a.blockElemHeight=c+"px"):(a.blockElemHeight="auto",a.expandState="none",a.updateExpandBoxClass(),
a.parentCtrl&&a.parentCtrl.updateLayout(),clearInterval(f))},25);else a.blockElemHeight="auto",a.expandState="none",a.updateExpandBoxClass(),a.parentCtrl&&a.parentCtrl.updateLayout();else if(c=a.blockElem.nativeElement.offsetHeight,a.allowAnimation)var h=setInterval(function(){0<c?(d=0==d?1:d+2,c-=d,a.blockElemHeight=c+"px"):(a.blockElemHeight="0",a.expandState="none",a.updateExpandBoxClass(),a.parentCtrl&&a.parentCtrl.updateLayout(),clearInterval(h))},25);else a.blockElemHeight="0",a.expandState=
"none",a.updateExpandBoxClass(),a.parentCtrl&&a.parentCtrl.updateLayout()}};c.prototype.getComponentFromItem=function(a){var b=null;if((this.itemList=this.contentList.toArray())&&0<this.itemList.length)for(var c=0;!b&&c<this.itemList.length;){b=this.itemList[c];if(this.getItemFromComponent(b)==a)break;else b=b.getComponentFromItem(a);c++}return b};c.prototype.getItemFromComponent=function(a){return a&&a.data?a.data:this.items&&(this.itemList=this.contentList.toArray(),a=this.itemList.indexOf(a),0<=
a&&a<this.items.length)?this.items[a]:null};c.prototype.getItemObject=function(a,b){return this.parentCtrl?this.parentCtrl.getItemObject(a,b):null};c.prototype.isThereVisibleChildren=function(){var a=!1;if(this.data&&this.parentCtrl){var b=this.data[this.parentCtrl.getDataFields().items];b&&0<b.length&&(a=!0)}return a};c.prototype.getSize=function(){var a={width:0,height:0};if(this.contentElem&&(a={width:this.contentElem.nativeElement.offsetWidth,height:this.contentElem.nativeElement.offsetHeight},
this.isExpanded&&this.contentList)){var b=this.commonService.getPadding(this.blockElem.nativeElement);this.itemList=this.contentList.toArray();for(var c=0;c<this.itemList.length;c++){var d=this.itemList[c].getSize();d.width+=b.left;a.width<d.width&&(a.width=d.width)}}return a};c.prototype.checkExpandBoxVisibility=function(){return this.parentCtrl?this.parentCtrl.showExpandBox:!0};c.prototype.onMouseEnter=function(a){this.isEnabled&&(this.state|=integralui_core_1.IntegralUIObjectState.hovered,this.mouseEnter.emit(a),
this.data&&this.parentCtrl&&this.parentCtrl.invokeEvent("ITEM_HOVER",this.data),this.isHovered=!0);a.stopPropagation()};c.prototype.clearComponentSelection=function(){(this.itemList=this.contentList.toArray())&&0<this.itemList.length&&this.itemList.forEach(function(a){a.state&=~integralui_core_1.IntegralUIObjectState.selected;a.clearComponentSelection()})};c.prototype.selectItem=function(){this.parentCtrl&&this.parentCtrl.clearSelection();this.state|=integralui_core_1.IntegralUIObjectState.selected};
c.prototype.getControlStyle=function(){var a={};this.data&&this.parentCtrl&&(a=this.parentCtrl.getDataFields(),a=this.data[a.style]||{});a.display=0==this.getItemDisplayMode()?"inline-block":"block";0<this.ctrlSize.width&&(a.width=this.ctrlSize.width+"px");0<this.ctrlSize.height&&(a.height=this.ctrlSize.height+"px");return a};c.prototype.getItemDisplayMode=function(){return this.parentCtrl?this.parentCtrl.itemDisplay:integralui_core_1.IntegralUIItemDisplayMode.Full};c.prototype.refresh=function(){this.updateControlClass();
this.updateContentClass();this.updateBlockClass();this.updateExpandBoxClass();if(this.contentList){this.itemList=this.contentList.toArray();for(var a=0;a<this.itemList.length;a++)this.itemList[a].refresh()}};c.prototype.updateBlockClass=function(){this.blockClass.length=0;this.blockClass.push(this.blockClassName);this.items&&0<this.items.length&&(0!=this.expanded?this.blockClass.push(this.blockClassName+"-open"):this.blockClass.push(this.blockClassName+"-close"))};c.prototype.getBlockClass=function(){return this.blockClass};
c.prototype.getGeneralClass=function(){return this.generalClassName};c.prototype.updateExpandBoxClass=function(){this.expandBoxClass.length=0;if(this.options.currentStyle&&this.parentCtrl){var a=this.parentCtrl.getDataFields();(this.parentCtrl.isThereChildren()||this.data&&this.data[a.hasChildren])&&this.expandBoxClass.push(this.options.currentStyle.expandBox.general);if(this.data&&this.data[a.hasChildren]&&(this.isThereVisibleChildren()||!this.data[a.items]||this.data[a.items]&&0==this.data[a.items].length)||
this.isThereVisibleChildren())this.parentCtrl&&this.parentCtrl.isItemLoading(this.data)?this.expandBoxClass.push(this.options.currentStyle.expandBox.load):0!=this.expanded?"none"==this.expandState?this.expandBoxClass.push(this.options.currentStyle.expandBox.expanded):"expand"==this.expandState&&this.expandBoxClass.push(this.options.currentStyle.expandBox.expanded+"-animate"):"none"==this.expandState?this.expandBoxClass.push(this.options.currentStyle.expandBox.collapsed):"collapse"==this.expandState&&
this.expandBoxClass.push(this.options.currentStyle.expandBox.collapsed+"-animate")}};c.prototype.getExpandBoxClass=function(){return this.expandBoxClass};c.prototype.getExpandBoxStyle=function(a){return this.commonService.isString(a)?a:a?{general:this.commonService.isFieldAvailable(a.general,this.expandBoxClassName),load:this.commonService.isFieldAvailable(a.load,this.expandBoxClassName+"-load"),expanded:this.commonService.isFieldAvailable(a.expanded,this.expandBoxClassName+"-open"),collapsed:this.commonService.isFieldAvailable(a.collapsed,
this.expandBoxClassName+"-close")}:{general:this.defaultStyle.expandBox.general,load:this.defaultStyle.expandBox.load,expanded:this.defaultStyle.expandBox.expanded,collapsed:this.defaultStyle.expandBox.collapsed}};c.prototype.updateControlClass=function(){this.ctrlClass.length=0;this.ctrlClass.push(this.generalClassName);this.options.currentStyle&&this.options.currentStyle.general&&(this.ctrlClass.push(this.options.currentStyle.general.normal),this.parentCtrl&&this.parentCtrl.getDisplayMode()==integralui_core_1.IntegralUIItemDisplayMode.Full&&
(this.ctrlClass.push("iui-treeitem-block"),this.state&integralui_core_1.IntegralUIObjectState.disabled?this.ctrlClass.push(this.options.currentStyle.general.disabled):this.state&integralui_core_1.IntegralUIObjectState.focused?this.ctrlClass.push(this.options.currentStyle.general.focused):this.state&integralui_core_1.IntegralUIObjectState.selected?this.ctrlClass.push(this.options.currentStyle.general.selected):this.state&integralui_core_1.IntegralUIObjectState.hovered&&this.ctrlClass.push(this.options.currentStyle.general.hovered),
this.allowAnimation&&(this.state&integralui_core_1.IntegralUIObjectState.hovered?this.ctrlClass.push(this.defaultStyle.general.normal+"-enter"):this.ctrlClass.push(this.defaultStyle.general.normal+"-leave"))))};c.prototype.updateContentClass=function(){this.contentClass.length=0;this.contentClass.push(this.contentClassName);this.options.currentStyle&&(this.contentClass.push(this.options.currentStyle.content.normal),this.parentCtrl&&this.parentCtrl.getDisplayMode()==integralui_core_1.IntegralUIItemDisplayMode.Partial&&
(this.contentClass.push("iui-treeitem-content-block"),this.state&integralui_core_1.IntegralUIObjectState.disabled?this.contentClass.push(this.options.currentStyle.content.disabled):this.state&integralui_core_1.IntegralUIObjectState.focused?this.contentClass.push(this.options.currentStyle.content.focused):this.state&integralui_core_1.IntegralUIObjectState.selected?this.contentClass.push(this.options.currentStyle.content.selected):this.state&integralui_core_1.IntegralUIObjectState.hovered&&this.contentClass.push(this.options.currentStyle.content.hovered)))};
c.prototype.updateStyle=function(a){this.options.currentStyle=a?{content:this.getContentStyle(a.content),expandBox:this.getExpandBoxStyle(a.expandBox),general:this.getGeneralStyle(a.general)}:{content:{disabled:this.defaultStyle.content.disabled,focused:this.defaultStyle.content.focused,hovered:this.defaultStyle.content.hovered,normal:this.defaultStyle.content.normal,selected:this.defaultStyle.content.selected},expandBox:{general:this.defaultStyle.expandBox.general,load:this.defaultStyle.expandBox.load,
expanded:this.defaultStyle.expandBox.expanded,collapsed:this.defaultStyle.expandBox.collapsed},general:{disabled:this.defaultStyle.general.disabled,focused:this.defaultStyle.general.focused,hovered:this.defaultStyle.general.hovered,normal:this.defaultStyle.general.normal,selected:this.defaultStyle.general.selected}}};c.\u0275fac=function(a){return new (a||c)(i0.\u0275\u0275directiveInject(i0.ElementRef),i0.\u0275\u0275directiveInject(i1.IntegralUIDataService),i0.\u0275\u0275directiveInject(i2.IntegralUICommonService),
i0.\u0275\u0275directiveInject(i3.IntegralUIBaseService))};c.\u0275cmp=i0.\u0275\u0275defineComponent({type:c,selectors:[["iui-treeitem"]],viewQuery:function(a,b){a&1&&(i0.\u0275\u0275viewQuery(_c0,!0,core_1.ElementRef),i0.\u0275\u0275viewQuery(_c1,!0,core_1.ElementRef),i0.\u0275\u0275viewQuery(_c2,!0,core_1.ElementRef),i0.\u0275\u0275viewQuery(_c3,!0,core_1.ElementRef),i0.\u0275\u0275viewQuery(c,!0));if(a&2){var d;i0.\u0275\u0275queryRefresh(d=i0.\u0275\u0275loadQuery())&&(b.contentElem=d.first);
i0.\u0275\u0275queryRefresh(d=i0.\u0275\u0275loadQuery())&&(b.dragElem=d.first);i0.\u0275\u0275queryRefresh(d=i0.\u0275\u0275loadQuery())&&(b.blockElem=d.first);i0.\u0275\u0275queryRefresh(d=i0.\u0275\u0275loadQuery())&&(b.expandBoxElem=d.first);i0.\u0275\u0275queryRefresh(d=i0.\u0275\u0275loadQuery())&&(b.contentList=d)}},inputs:{controlStyle:"controlStyle",data:"data",enabled:"enabled",icon:"icon",name:"name",size:"size",state:"state",text:"text",items:"items",templateRef:"templateRef",expanded:"expanded"},
outputs:{click:"click",mouseDown:"mouseDown",mouseEnter:"mouseEnter",mouseLeave:"mouseLeave",mouseMove:"mouseMove",mouseUp:"mouseUp",itemClick:"itemClick",itemDblClick:"itemDblClick",itemRightClick:"itemRightClick"},features:[i0.\u0275\u0275ProvidersFeature([integralui_data_service_1.IntegralUIDataService]),i0.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["style","position:relative",3,"ngClass",4,"ngIf"],[2,"position","relative",3,"ngClass"],[3,"ngClass"],["draggable","true",3,"ngClass",
"ngStyle","dragstart","dragover","drop","mouseenter","mousemove","mouseleave"],["content",""],["class","iui-treeitem-expand-box-general",4,"ngIf"],[3,"ngStyle","click","dblclick","contextmenu","mousedown","mouseup","touchstart"],["dragElem",""],["ngFor","",3,"ngForOf","ngForTemplate"],["class","iui-listitem-animate-select-block",3,"ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],["block",""],[3,"allowAnimation","enabled","expanded","text","items","templateRef","data","visible",4,"ngFor","ngForOf"],[1,
"iui-treeitem-expand-box-general"],[3,"ngClass","mousedown","touchstart"],["expandBox",""],[1,"iui-listitem-animate-select-block",3,"ngStyle"],[3,"allowAnimation","enabled","expanded","text","items","templateRef","data","visible"]],template:function(a,b){a&1&&i0.\u0275\u0275template(0,IntegralUITreeItem_li_0_Template,13,20,"li",0);a&2&&i0.\u0275\u0275property("ngIf",b.visible)},directives:[i4.NgIf,i4.NgClass,i4.NgStyle,i4.NgForOf,c],encapsulation:2});return c}(integralui_listitem_1.IntegralUIListItem);
exports.IntegralUITreeItem=IntegralUITreeItem;
(function(){i0.\u0275setClassMetadata(IntegralUITreeItem,[{type:core_1.Component,args:[{selector:"iui-treeitem",template:'\n        <li *ngIf="visible" [ngClass]="{ \'iui-treeitem-animate\': allowAnimation, \'iui-listitem-animate-enter-suspended\': allowAnimation && isHovered }" style="position:relative">\n            <div [ngClass]="getControlClass()">\n                <div draggable="true" [ngClass]="getContentClass()" [ngStyle]="getControlStyle()" (dragstart)="itemDragStart($event)" (dragover)="itemDragOver($event)" (drop)="itemDragDrop($event)" (mouseenter)="onMouseEnter($event)" (mousemove)="onMouseMove($event)" (mouseleave)="onMouseLeave($event)" #content>\n                    <span *ngIf="checkExpandBoxVisibility()" class="iui-treeitem-expand-box-general">\n                        <span [ngClass]="getExpandBoxClass()" (mousedown)="onExpandBoxMouseDown($event)" (mousedown)="onExpandBoxMouseUp($event)" (touchstart)="onExpandBoxTouchStart($event)" #expandBox></span>\n                    </span>\n                    <div (click)="onClick($event)" (dblclick)="onDblClick($event)" (contextmenu)="onRightClick($event)" (mousedown)="onMouseDown($event)" (mouseup)="onMouseUp($event)" (touchstart)="onTouchStart($event)" [ngStyle]="{ display: getItemDisplayMode() == 0 ? \'inline-block\' : \'block\' }" #dragElem>\n                        <ng-template ngFor [ngForOf]="templateData" [ngForTemplate]="templateRef"></ng-template> \n                    </div>\n                </div> \n            </div>\n            <span *ngIf="allowAnimation && isClicked" class="iui-listitem-animate-select-block" [ngStyle]="{ height: getSize().height + \'px\', width: clickPos.x + \'px\' }">\n                <span [ngClass]="{ \'iui-listitem-animate-select iui-listitem-animate-select-left\': isClicked }" [ngStyle]="{ height: getSize().height + \'px\' }"></span>\n            </span>\n            <span *ngIf="allowAnimation && isClicked" class="iui-listitem-animate-select-block" [ngStyle]="{ left: clickPos.x + \'px\', height: getSize().height + \'px\', width: getSize().width - clickPos.x + \'px\' }">\n                <span [ngClass]="{ \'iui-listitem-animate-select iui-listitem-animate-select-right\': isClicked }" [ngStyle]="{ height: getSize().height + \'px\' }"></span>\n            </span>\n            <ul [ngClass]="getBlockClass()" [ngStyle]="{ \'height\': blockElemHeight }" #block>\n                <iui-treeitem *ngFor="let item of items" [allowAnimation]="getItemObject(item, \'allowAnimation\')" [enabled]="getItemObject(item, \'enabled\')" [expanded]="getItemObject(item, \'expanded\')" [text]="getItemObject(item, \'text\')" [items]="getItemObject(item, \'items\')" [templateRef]="templateRef" [data]="item" [visible]="getItemObject(item, \'visible\')">></iui-treeitem>\n            </ul>\n        </li>\n    ',inputs:"controlStyle data enabled icon name size state text".split(" "),
outputs:"click mouseDown mouseEnter mouseLeave mouseMove mouseUp".split(" "),providers:[integralui_data_service_1.IntegralUIDataService],encapsulation:core_1.ViewEncapsulation.None}]}],function(){return[{type:i0.ElementRef},{type:i1.IntegralUIDataService},{type:i2.IntegralUICommonService},{type:i3.IntegralUIBaseService}]},{contentElem:[{type:core_1.ViewChild,args:["content",{read:core_1.ElementRef,"static":!1}]}],dragElem:[{type:core_1.ViewChild,args:["dragElem",{read:core_1.ElementRef,"static":!1}]}],
blockElem:[{type:core_1.ViewChild,args:["block",{read:core_1.ElementRef,"static":!1}]}],expandBoxElem:[{type:core_1.ViewChild,args:["expandBox",{read:core_1.ElementRef,"static":!1}]}],contentList:[{type:core_1.ViewChildren,args:[IntegralUITreeItem]}],items:[{type:core_1.Input}],templateRef:[{type:core_1.Input}],expanded:[{type:core_1.Input}],itemClick:[{type:core_1.Output}],itemDblClick:[{type:core_1.Output}],itemRightClick:[{type:core_1.Output}]})})();