/*
  filename: integralui.listscroller.js
  version : 1.0.0
  Copyright Â© 2016-2018 Lidor Systems. All rights reserved.

  This file is part of the "IntegralUI Web" Library. 
                                                                   
  The contents of this file are subject to the IntegralUI Web License, and may not be used except in compliance with the License.
  A copy of the License should have been installed in the product's root installation directory or it can be found at
  http://www.lidorsystems.com/products/web/studio/license-agreement.aspx.
                                                            
  This SOFTWARE is provided "AS IS", WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License for the specific language 
  governing rights and limitations under the License. Any infringement will be prosecuted under applicable laws.                           
*/
var __extends=this&&this.__extends||function(f,c){function a(){this.constructor=f}for(var b in c)c.hasOwnProperty(b)&&(f[b]=c[b]);f.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)},__decorate=this&&this.__decorate||function(f,c,a,b){var g=arguments.length,d=3>g?c:null===b?b=Object.getOwnPropertyDescriptor(c,a):b,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)d=Reflect.decorate(f,c,a,b);else for(var h=f.length-1;0<=h;h--)if(e=f[h])d=(3>g?e(d):3<g?e(c,a,d):
e(c,a))||d;return 3<g&&d&&Object.defineProperty(c,a,d),d},__metadata=this&&this.__metadata||function(f,c){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(f,c)},core_1=require("@angular/core"),integralui_core_1=require("./integralui.core"),integralui_common_service_1=require("../services/integralui.common.service"),integralui_data_service_1=require("../services/integralui.data.service"),IntegralUIListScroller=function(f){function c(a,c,g,d){var b=f.call(this,
g)||this;b.dataService=a;b.elemRef=c;b.commonService=g;b.cmpResolver=d;b.currentList=[];b.options={dataFields:null,selectedItem:null,sorting:integralui_core_1.IntegralUISortOrder.None};b.dataItems=[];b.scrollItemList=[];b.valueTimer=null;b.valueCount=0;b.isChangeActive=!1;b.stopTimer=!0;b.hoverItem=null;b.currentFocusItem=null;b.isKeyboardActive=!1;b.allowUpdate=!0;b.blockSize={width:0,height:0};b.clientRect={width:0,height:0};b.contentOpacity=1;b.contentSize={width:0,height:0};b.currentIndex=0;b.prevIndex=
0;b.updateTimer=null;b.clientSpace={width:0,height:0};b.contentPos={top:0,left:0};b.currentItemSize={width:48,height:48};b.leftRightMarginTop=0;b.topBotomMarginLeft=0;b.currentScrollMode=integralui_core_1.IntegralUIScrollMode.Horizontal;b.currentScrollPos={x:0,y:0};b.initPos={x:0,y:0};b.maxScrollPos={x:0,y:0};b.prevScrollPos={x:0,y:0};b.scrollSize={width:0,height:0};b.removeIndex=-1;b.sortComparer=null;b.refreshTimer=null;b.afterSelect=new core_1.EventEmitter;b.beforeSelect=new core_1.EventEmitter;
b.change=new core_1.EventEmitter;b.clear=new core_1.EventEmitter;b.itemAdding=new core_1.EventEmitter;b.itemAdded=new core_1.EventEmitter;b.itemRemoving=new core_1.EventEmitter;b.itemRemoved=new core_1.EventEmitter;b.scrollModeChanged=new core_1.EventEmitter;b.scrollPosChanged=new core_1.EventEmitter;b.selectionChanged=new core_1.EventEmitter;b.updateComplete=new core_1.EventEmitter;b.updateOptions();return b}__extends(c,f);Object.defineProperty(c.prototype,"items",{get:function(){return this.dataItems},
set:function(a){this.dataItems=a;this.updateData()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"itemSize",{get:function(){return this.currentItemSize},set:function(a){a&&(this.currentItemSize={width:0<a.width?a.width:0,height:0<a.height?a.height:0},this.updateLayout())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"scrollMode",{get:function(){return this.currentScrollMode},set:function(a){this.currentScrollMode!=a&&(this.currentScrollMode=a,this.scrollPos({x:0,
y:0}),this.updateLayout(),this.scrollModeChanged.emit(null))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"selectedItem",{get:function(){return this.currentSelection},set:function(a){if(this.currentSelection!=a)var b=this,c=setTimeout(function(){b.processSelection(a);clearTimeout(c)},1)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"sorting",{set:function(a){this.options.sorting=a},enumerable:!0,configurable:!0});c.prototype.ngOnInit=function(){this.updateData();
this.updateCurrentList();this.generalClassName="iui-listscroller";this.itemClassName="iui-listscroller-item";this.itemContentClassName=this.itemClassName+"-content";this.initStyle()};c.prototype.initStyle=function(){this.defaultStyle={general:{disabled:this.generalClassName+"-disabled",focused:this.generalClassName+"-focused",normal:this.generalClassName,hovered:this.generalClassName+"-hovered",selected:this.generalClassName+"-selected"},item:{general:{disabled:this.itemClassName+"-disabled",focused:this.itemClassName+
"-focused",normal:this.itemClassName,hovered:this.itemClassName+"-hovered",selected:this.itemClassName+"-selected"},content:{disabled:this.itemContentClassName+"-disabled",focused:this.itemContentClassName+"-focused",normal:this.itemContentClassName,hovered:this.itemContentClassName+"-hovered",selected:this.itemContentClassName+"-selected"}}};this.updateStyle(this.controlStyle);this.updateControlClass();this.refresh()};c.prototype.addItem=function(a){this.callEventAdd("add",a,-1,parent)};c.prototype.clearItems=
function(){this.currentSelection=null;this.dataService.clear();this.clear.emit(null);this.updateLayout()};c.prototype.insertItemAt=function(a,b){this.callEventAdd("at",a,b)};c.prototype.insertItemBefore=function(a,b){this.callEventAdd("ref",a,-1,b)};c.prototype.insertItemAfter=function(a,b){this.callEventAdd("ref",a,-1,b,!0)};c.prototype.removeItem=function(a){return this.callEventRemove(a)};c.prototype.removeItemAt=function(a){return this.callEventRemove(null,a)};c.prototype.callEventAdd=function(a,
b,c,d,e){var g={cancel:!1,item:b};this.itemAdding.emit(g);if(1!=g.cancel){switch(a){case "at":this.dataService.insert(b,c);break;case "ref":this.dataService.insertByRef(b,d,e);break;default:this.dataService.insert(b,-1)}this.itemAdded.emit({item:b})}};c.prototype.callEventRemove=function(a,b){var c={cancel:!1,item:a};this.itemRemoving.emit(c);return 1!=c.cancel&&(this.removeIndex=this.items?this.items.indexOf(a):-1,c=this.dataService.removeAt(a,b),c.result)?(this.itemRemoved.emit({item:c.obj}),!0):
!1};c.prototype.updateCurrentList=function(){var a=this;a.currentList.length=0;var b=a.dataService.getList();b&&(a.applySorting(b),b.forEach(function(b){a.addItemToCurrentList(b)}))};c.prototype.addItemToCurrentList=function(a){a.type="item";a[this.options.dataFields.id]||(a[this.options.dataFields.id]=this.commonService.getUniqueId());this.isItemAllowed(a)&&this.currentList.push({data:a})};c.prototype.updateScrollItemList=function(){this.scrollItemList.length=0;var a=this.initPos.x-this.currentScrollPos.x,
b=this.initPos.y-this.currentScrollPos.y;this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?b=0:a=0;for(var c=0,d=this.currentIndex;d<this.currentList.length;d++,c++){var e={data:this.currentList[d].data,index:d-this.currentIndex,position:{x:0,y:0},style:{},tabIndex:c};this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?(e.position={x:a,y:b},a+=this.currentItemSize.width):(e.position={x:a,y:b},b+=this.currentItemSize.height);this.updateItemStyle(e);this.scrollItemList.push(e)}};
c.prototype.updateData=function(){this.dataService.init([{data:this.items}])};c.prototype.updateOptions=function(a){a?this.options={dataFields:null,selectedItem:this.commonService.isFieldAvailable(a.selectedItem,this.options.selectedItem?this.options.selectedItem:null)}:(this.options={dataFields:null,selectedItem:null},this.updateDataFields())};c.prototype.updateDataFields=function(a){this.options.dataFields=a?{canSelect:a.canSelect?a.canSelect:"canSelect",content:a.content?a.content:"content",contextMenu:a.contextMenu?
a.contextMenu:"contextMenu",enabled:a.enabled?a.enabled:"enabled",icon:a.icon?a.icon:"icon",id:a.id?a.id:"id",items:a.items?a.items:"items",selected:a.selected?a.selected:"selected",style:a.style?a.style:"style",text:a.text?a.text:"text",tooltip:a.tooltip?a.tooltip:"tooltip",value:a.value?a.value:"value",visible:a.visible?a.visible:"visible"}:{canSelect:"canSelect",content:"content",contextMenu:"contextMenu",enabled:"enabled",icon:"icon",id:"id",items:"items",selected:"selected",style:"style",text:"text",
tooltip:"tooltip",value:"value",visible:"visible"};this.dataService&&this.dataService.updateDataFields(this.options.dataFields)};c.prototype.cloneItem=function(a){return this.dataService.clone(a)};c.prototype.getItemIndex=function(a){for(var b=-1,c=0;c<this.currentList.length;c++)if(this.currentList[c].data==a){b=c;break}return b};c.prototype.isIndexInRange=function(a){return this.currentList?0<=a&&a<this.currentList.length:!1};c.prototype.isItemAllowed=function(a){return!0};c.prototype.isItemEnabled=
function(a){return!0};c.prototype.isItemHovered=function(a){return a&&a==this.hoverItem?!0:!1};c.prototype.isItemSelected=function(a){return a&&1==a[this.options.dataFields.selected]?!0:!1};c.prototype.itemMouseEnter=function(a,b){this.isEnabled&&(this.hoverItem=b.data,this.updateItemStyle(b))};c.prototype.itemMouseLeave=function(a,b){this.isEnabled&&(this.hoverItem=null,this.updateItemStyle(b))};c.prototype.getContentSize=function(){return{width:0,height:0}};c.prototype.refresh=function(){this.updateView()};
c.prototype.resetLayout=function(){this.updateTimer&&clearTimeout(this.updateTimer);this.updateTimer=null};c.prototype.suspendLayout=function(){this.allowUpdate=!1};c.prototype.resumeLayout=function(){this.allowUpdate=!0;this.updateLayout()};c.prototype.updateLayout=function(){var a=this;a.contentOpacity=0;a.updateTimer=setTimeout(function(){a.updateCurrentList();0==a.currentList.length&&(a.currentScrollPos={x:0,y:0});a.clientRect={width:a.elemRef.nativeElement.firstElementChild.clientWidth,height:a.elemRef.nativeElement.firstElementChild.clientHeight};
a.initPos={x:(a.clientRect.width-a.itemSize.width)/2,y:(a.clientRect.height-a.itemSize.height)/2};a.leftrightButtonsElem?a.initPos.x-=a.leftrightButtonsElem.nativeElement.offsetWidth+1:a.initPos.y-=a.topBottomButtonsElem.nativeElement.offsetHeight+1;a.updateScrollItemList();var b=setTimeout(function(){a.updateScrollSize();a.updateSelection();a.refresh();a.updateComplete.emit(null);clearTimeout(b)},1);a.contentOpacity=1;clearTimeout(a.updateTimer)},100)};c.prototype.updateView=function(){this.updateScrollItemList()};
c.prototype.ctrlMouseWheel=function(a){this.isEnabled&&this.processMouseWheel(a)};c.prototype.itemMouseDown=function(a,b){this.isEnabled&&(this.options.allowFocus&&1==a.buttons&&(this.currentFocusItem=b.data),this.processSelection(b.data));a.stopPropagation()};c.prototype.itemMouseUp=function(a,b){};c.prototype.itemClickEvent=function(a,b){a.stopPropagation()};c.prototype.itemDblClickEvent=function(a,b){a.stopPropagation()};c.prototype.onMouseDown=function(a,b){this.startChange(b)};c.prototype.onMouseUp=
function(a){this.stopChange()};c.prototype.onScroll=function(a){a.target&&(a.target.scrollTop=0,a.target.scrollLeft=0)};c.prototype.changeHorizontalScrollPos=function(a){this.currentScrollPos.x=Math.max(0,Math.min(a,this.maxScrollPos.x));this.currentScrollPos.x!=this.prevScrollPos.x&&(this.scrollPosChanged.emit({value:this.scrollPos()}),this.prevScrollPos.x=this.currentScrollPos.x)};c.prototype.changeVerticalScrollPos=function(a){this.currentScrollPos.y=Math.max(0,Math.min(a,this.maxScrollPos.y));
this.currentScrollPos.y!=this.prevScrollPos.y&&(this.scrollPosChanged.emit({value:this.scrollPos()}),this.prevScrollPos.y=this.currentScrollPos.y)};c.prototype.scrollPos=function(a){a&&(this.currentScrollPos={x:Math.max(0,Math.min(a.x,this.maxScrollPos.x)),y:Math.max(0,Math.min(a.y,this.maxScrollPos.y))},this.updateSelection(),this.updateView(),this.scrollPosChanged.emit({value:this.currentScrollPos}));return{x:Math.floor(this.currentScrollPos.x),y:Math.floor(this.currentScrollPos.y)}};c.prototype.processMouseWheel=
function(a){if(this.isEnabled){a.preventDefault();this.hoverItem=null;var b=Math.max(-1,Math.min(1,a.wheelDelta||-a.detail));if(this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal){var c=this.itemSize.width;b=this.currentScrollPos.x+c*b*-1;this.changeHorizontalScrollPos(b)}else c=this.itemSize.height,b=this.currentScrollPos.y+c*b*-1,this.changeVerticalScrollPos(b);this.updateSelection();this.updateView();a.stopPropagation()}};c.prototype.updateScrollSize=function(){var a=this.commonService.getBorderWidth(this.blockElem.nativeElement),
b=this.commonService.getMargin(this.blockElem.nativeElement),c=this.commonService.getPadding(this.blockElem.nativeElement);switch(this.scrollMode){case integralui_core_1.IntegralUIScrollMode.Vertical:this.topBottomButtonsElem&&this.blockElem&&(this.contentSize={width:this.clientRect.width,height:this.clientRect.height-(a.top+a.bottom+b.top+b.bottom+c.top+c.bottom+2*this.topBottomButtonsElem.nativeElement.offsetHeight)-2},this.contentPos={left:0,top:this.topBottomButtonsElem.nativeElement.offsetHeight+
1},this.topBottomButtonsChildElem&&(this.topBotomMarginLeft=(this.contentSize.width-this.topBottomButtonsChildElem.nativeElement.offsetWidth)/2));break;default:this.leftrightButtonsElem&&(this.contentSize={width:this.clientRect.width-(a.left+a.right+b.left+b.right+c.left+c.right+2*this.leftrightButtonsElem.nativeElement.offsetWidth)-2,height:this.clientRect.height},this.blockElem&&(this.leftRightMarginTop=(this.clientRect.height-this.leftrightButtonsElem.nativeElement.offsetHeight)/2),this.contentPos=
{left:this.leftrightButtonsElem.nativeElement.offsetWidth+1,top:0})}this.scrollSize={width:this.itemSize.width*(this.currentList.length-1),height:this.itemSize.height*(this.currentList.length-1)};this.scrollSize.width=0<this.scrollSize.width?this.scrollSize.width:0;this.scrollSize.height=0<this.scrollSize.height?this.scrollSize.height:0;this.maxScrollPos={x:this.scrollSize.width,y:this.scrollSize.height};this.currentScrollPos.x>this.maxScrollPos.x&&this.changeHorizontalScrollPos(this.maxScrollPos.x);
this.currentScrollPos.y>this.maxScrollPos.y&&this.changeVerticalScrollPos(this.maxScrollPos.y);this.clientSpace={width:this.clientRect.width,height:this.clientRect.height}};c.prototype.changeValueTimerElapsed=function(a){0==this.valueCount&&(this.valueCount=this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?this.itemSize.width:this.itemSize.height);this.stopTimer=!1;this.changeValue(a);this.stopTimer&&(clearInterval(this.valueTimer),this.isChangeActive=!1)};c.prototype.changeValue=
function(a){this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?a?this.currentScrollPos.x+this.valueCount<this.maxScrollPos.x?this.changeHorizontalScrollPos(this.currentScrollPos.x+this.valueCount):(this.stopTimer=!0,this.changeHorizontalScrollPos(this.maxScrollPos.x)):0<this.currentScrollPos.x-this.valueCount?this.changeHorizontalScrollPos(this.currentScrollPos.x-this.valueCount):(this.stopTimer=!0,this.changeHorizontalScrollPos(0)):a?this.currentScrollPos.y+this.valueCount<this.maxScrollPos.y?
this.changeVerticalScrollPos(this.currentScrollPos.y+this.valueCount):(this.stopTimer=!0,this.changeVerticalScrollPos(this.maxScrollPos.y)):0<this.currentScrollPos.y-this.valueCount?this.changeVerticalScrollPos(this.currentScrollPos.y-this.valueCount):(this.stopTimer=!0,this.changeVerticalScrollPos(0));this.updateSelection();this.updateView()};c.prototype.decreaseValue=function(){this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?this.changeHorizontalScrollPos(this.currentScrollPos.x-
this.itemSize.width):this.changeVerticalScrollPos(this.currentScrollPos.y-this.itemSize.height);this.updateSelection();this.updateView()};c.prototype.increaseValue=function(){this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?this.changeHorizontalScrollPos(this.currentScrollPos.x+this.itemSize.width):this.changeVerticalScrollPos(this.currentScrollPos.y+this.itemSize.height);this.updateSelection();this.updateView()};c.prototype.startChange=function(a){var b=this;b.valueTimer&&clearInterval(this.valueTimer);
b.valueCount=0;b.isChangeActive=!0;b.valueTimer=setInterval(function(){b.changeValueTimerElapsed(a)},100)};c.prototype.stopChange=function(){this.valueTimer&&clearInterval(this.valueTimer);this.isChangeActive=!1};c.prototype.findItemById=function(a){return this.dataService.findObjectById(a)};c.prototype.findItemByText=function(a){return this.dataService.findObjectByText(a)};c.prototype.callAfterSelectEvent=function(a){a={item:a};this.afterSelect.emit(a);this.selectionChanged.emit(a)};c.prototype.clearPrevSelection=
function(){this.currentSelection&&(this.currentSelection[this.options.dataFields.selected]=!1);this.currentSelection=null};c.prototype.processSelection=function(a,b){var c=!0;if(a)if(this.isItemEnabled(a)){c=this.currentSelection;var d=!0;c&&(d=!this.commonService.isEqual(c[this.options.dataFields.id],a[this.options.dataFields.id])||0==c[this.options.dataFields.selected]);var e={cancel:!1,item:a};this.beforeSelect.emit(e);c=1==e.cancel?!1:!0;d&&1!=e.cancel&&(this.clearPrevSelection(),this.currentSelection=
a,a[this.options.dataFields.selected]=!0,d=this.getItemIndex(a),0<=d&&(this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?this.changeHorizontalScrollPos(d*this.itemSize.width):this.changeVerticalScrollPos(d*this.itemSize.height)),this.callAfterSelectEvent(a),this.refresh())}else this.clearPrevSelection(),this.refresh(),this.selectionChanged.emit({item:null});return c};c.prototype.updateSelection=function(){var a=this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?Math.floor(this.currentScrollPos.x/
this.itemSize.width):Math.floor(this.currentScrollPos.y/this.itemSize.height);this.isIndexInRange(a)&&this.processSelection(this.currentList[a].data)};c.prototype.applySorting=function(a){var b=this;a&&(b.sortComparer?a.sort(b.sortComparer):b.isSortingAllowed()&&a.sort(function(a,c){var e,d;(e=a[b.options.dataFields.value])||(e=a[b.options.dataFields.text]);b.commonService.isObject(e)&&(e=e.value?e.value:e.text);(d=c[b.options.dataFields.value])||(d=c[b.options.dataFields.text]);b.commonService.isObject(d)&&
(d=d.value?d.value:d.text);e=void 0!=e?e:null;d=void 0!=d?d:null;switch(b.options.sorting){case integralui_core_1.IntegralUISortOrder.Ascending:if(e<d)return-1;if(e>d)return 1;break;case integralui_core_1.IntegralUISortOrder.Descending:if(e>d)return-1;if(e<d)return 1;break;default:return 0}}))};c.prototype.isSortingAllowed=function(){return this.options.sorting==integralui_core_1.IntegralUISortOrder.Ascending||this.options.sorting==integralui_core_1.IntegralUISortOrder.Descending};c.prototype.sort=
function(a,b){this.options.sorting=a;this.sortComparer=b?b:null;this.updateLayout();this.change.emit({type:"sorting"})};c.prototype.getModifiedControlStyle=function(){var a={};this.currentScrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?a.height=this.currentItemSize.height+2+"px":a.width=this.currentItemSize.width+2+"px";return a};c.prototype.updateItemStyle=function(a){a&&(a.style={general:[],content:[]},a.style.general.push(this.itemClassName),a.style.general.push(this.options.currentStyle.item.general.normal),
a.style.content.push(this.itemContentClassName),a.style.content.push(this.options.currentStyle.item.content.normal),this.isItemEnabled(a.data)?this.isItemSelected(a.data)?(a.style.general.push(this.options.currentStyle.item.general.selected),a.style.content.push(this.options.currentStyle.item.content.selected)):this.isItemHovered(a.data)&&(a.style.general.push(this.options.currentStyle.item.general.hovered),a.style.content.push(this.options.currentStyle.item.content.hovered)):(a.style.general.push(this.options.currentStyle.item.general.disabled),
a.style.content.push(this.options.currentStyle.item.content.disabled)),a.data==this.currentFocusItem&&a.style.general.push(this.options.currentStyle.item.general.focused))};c.prototype.getItemStyle=function(a){return a?{general:this.getItemGeneralStyle(a.general),content:this.getItemContentStyle(a.content)}:this.getDefaultItemStyle()};c.prototype.getItemGeneralStyle=function(a){return this.commonService.isString(a)?a:a?{disabled:this.commonService.isFieldAvailable(a.disabled,this.itemClassName+"-disabled"),
focused:this.commonService.isFieldAvailable(a.focused,this.itemClassName+"-focused"),normal:this.commonService.isFieldAvailable(a.normal,this.itemClassName),hovered:this.commonService.isFieldAvailable(a.hovered,this.itemClassName+"-hovered"),selected:this.commonService.isFieldAvailable(a.selected,this.itemClassName+"-selected")}:this.getDefaultItemGeneralStyle()};c.prototype.getItemContentStyle=function(a){return this.commonService.isString(a)?a:a?{disabled:this.commonService.isFieldAvailable(a.disabled,
this.itemContentClassName+"-disabled"),focused:this.commonService.isFieldAvailable(a.focused,this.itemContentClassName+"-focused"),normal:this.commonService.isFieldAvailable(a.normal,this.itemContentClassName),hovered:this.commonService.isFieldAvailable(a.hovered,this.itemContentClassName+"-hovered"),selected:this.commonService.isFieldAvailable(a.selected,this.itemContentClassName+"-selected")}:this.getDefaultItemContentStyle()};c.prototype.getDefaultListStyle=function(){return{general:this.getDefaultGeneralStyle(),
item:this.getDefaultItemStyle()}};c.prototype.getDefaultItemStyle=function(){return{general:this.getDefaultItemGeneralStyle(),content:this.getDefaultItemContentStyle()}};c.prototype.getDefaultItemGeneralStyle=function(){return{disabled:this.defaultStyle.item.general.disabled,focused:this.defaultStyle.item.general.focused,normal:this.defaultStyle.item.general.normal,hovered:this.defaultStyle.item.general.hovered,selected:this.defaultStyle.item.general.selected}};c.prototype.getDefaultItemContentStyle=
function(){return{disabled:this.defaultStyle.item.content.disabled,focused:this.defaultStyle.item.content.focused,normal:this.defaultStyle.item.content.normal,hovered:this.defaultStyle.item.content.hovered,selected:this.defaultStyle.item.content.selected}};c.prototype.updateStyle=function(a){this.options.currentStyle=a?{general:this.getGeneralStyle(a.general),item:this.getItemStyle(a.item)}:this.getDefaultListStyle()};return c}(integralui_core_1.IntegralUIBaseComponent);
__decorate([core_1.ContentChild(core_1.TemplateRef),__metadata("design:type",Object)],IntegralUIListScroller.prototype,"itemTemplate",void 0);__decorate([core_1.ViewChild("block"),__metadata("design:type",core_1.ElementRef)],IntegralUIListScroller.prototype,"blockElem",void 0);__decorate([core_1.ViewChild("leftrightButtons"),__metadata("design:type",core_1.ElementRef)],IntegralUIListScroller.prototype,"leftrightButtonsElem",void 0);
__decorate([core_1.ViewChild("topBottomButtons"),__metadata("design:type",core_1.ElementRef)],IntegralUIListScroller.prototype,"topBottomButtonsElem",void 0);__decorate([core_1.ViewChild("topBottomButtonsChild"),__metadata("design:type",core_1.ElementRef)],IntegralUIListScroller.prototype,"topBottomButtonsChildElem",void 0);__decorate([core_1.Input(),__metadata("design:type",Array),__metadata("design:paramtypes",[Array])],IntegralUIListScroller.prototype,"items",null);
__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],IntegralUIListScroller.prototype,"itemSize",null);__decorate([core_1.Input(),__metadata("design:type",Number),__metadata("design:paramtypes",[Number])],IntegralUIListScroller.prototype,"scrollMode",null);__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],IntegralUIListScroller.prototype,"selectedItem",null);
__decorate([core_1.Input(),__metadata("design:type",Number),__metadata("design:paramtypes",[Number])],IntegralUIListScroller.prototype,"sorting",null);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],IntegralUIListScroller.prototype,"afterSelect",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],IntegralUIListScroller.prototype,"beforeSelect",void 0);
__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],IntegralUIListScroller.prototype,"change",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],IntegralUIListScroller.prototype,"clear",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],IntegralUIListScroller.prototype,"itemAdding",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],IntegralUIListScroller.prototype,"itemAdded",void 0);
__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],IntegralUIListScroller.prototype,"itemRemoving",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],IntegralUIListScroller.prototype,"itemRemoved",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],IntegralUIListScroller.prototype,"scrollModeChanged",void 0);
__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],IntegralUIListScroller.prototype,"scrollPosChanged",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],IntegralUIListScroller.prototype,"selectionChanged",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],IntegralUIListScroller.prototype,"updateComplete",void 0);
IntegralUIListScroller=__decorate([core_1.Component({selector:"iui-listscroller",template:'\n\t\t<div [ngClass]="getControlClass()" (DOMMouseScroll)="ctrlMouseWheel($event)" (mousewheel)="ctrlMouseWheel($event)" (scroll)="onScroll($event)" [ngStyle]="getModifiedControlStyle()">\n            <span [ngSwitch]="scrollMode">\n                <span *ngSwitchCase="1">\n\t\t\t\t\t<div class="iui-listscroller-updown-buttons" (click)="decreaseValue()" (mousedown)="onMouseDown($event)" (mouseup)="onMouseUp($event)" #topBottomButtons>\n\t\t\t\t\t\t<span class="iui-listscroller-updown-increase" [ngStyle]="{ \'margin-left\': topBotomMarginLeft + \'px\' }" #topBottomButtonsChild></span>\n\t\t\t\t\t</div>\n\t\t\t\t    <ul [ngStyle]="{ \'left\': contentPos.left + \'px\', \'top\': contentPos.top + \'px\', width: contentSize.width + \'px\', height: contentSize.height + \'px\', opacity: contentOpacity }" #block>\n\t\t\t\t        <li [ngClass]="item.style.general" *ngFor="let item of scrollItemList; let i = index" (click)="itemClickEvent($event, item)" (mousedown)="itemMouseDown($event, item)" (mouseup)="itemMouseUp($event, item)" (mouseenter)="itemMouseEnter($event, item)" (mouseleave)="itemMouseLeave($event, item)" [ngStyle]="{ \'position\': \'absolute\', \'top\': item.position.y + \'px\', \'left\': item.position.x + \'px\', width: currentItemSize.width + \'px\', height: currentItemSize.height + \'px\' }" #itemElem>\n\t\t\t\t            <div [ngClass]="item.style.content" tabindex="{{item.tabIndex}}">\n\t\t\t\t\t\t\t\t<span [iuiTemplateOutlet]="itemTemplate" [iuiTemplateOutletContext]="{$implicit: (item.data)}"></span>\n\t\t\t\t            </div>\n\t\t\t\t        </li>\n\t\t\t\t    </ul>\n\t\t\t\t\t<div class="iui-listscroller-updown-buttons" (click)="increaseValue()" (mousedown)="onMouseDown($event, true)" (mouseup)="onMouseUp($event)" style="position:absolute;bottom:0;" [ngStyle]="{ width: contentSize.width - 2 + \'px\' }">\n\t\t\t\t\t\t<span class="iui-listscroller-updown-decrease" [ngStyle]="{ \'margin-left\': topBotomMarginLeft + \'px\' }"></span>\n\t\t\t\t\t</div>\n                </span>\n                <span *ngSwitchDefault>\n\t\t\t\t\t<div class="iui-listscroller-leftright-buttons" style="float:left" [ngStyle]="{ \'margin-top\': leftRightMarginTop + \'px\' }" (click)="decreaseValue()" (mousedown)="onMouseDown($event)" (mouseup)="onMouseUp($event)" #leftrightButtons>\n\t\t\t\t\t\t<span class="iui-listscroller-leftright-decrease"></span>\n\t\t\t\t\t</div>\n\t\t\t\t    <ul [ngStyle]="{ \'left\': contentPos.left + \'px\', \'top\': contentPos.top + \'px\', width: contentSize.width + \'px\', height: contentSize.height + \'px\', opacity: contentOpacity }" #block>\n\t\t\t\t        <li [ngClass]="item.style.general" *ngFor="let item of scrollItemList; let i = index" (click)="itemClickEvent($event, item)" (mousedown)="itemMouseDown($event, item)" (mouseup)="itemMouseUp($event, item)" (mouseenter)="itemMouseEnter($event, item)" (mouseleave)="itemMouseLeave($event, item)" [ngStyle]="{ \'position\': \'absolute\', \'top\': item.position.y + \'px\', \'left\': item.position.x + \'px\', width: currentItemSize.width + \'px\', height: currentItemSize.height + \'px\' }" #itemElem>\n\t\t\t\t            <div [ngClass]="item.style.content" tabindex="{{item.tabIndex}}">\n\t\t\t\t\t\t\t\t<span [iuiTemplateOutlet]="itemTemplate" [iuiTemplateOutletContext]="{$implicit: (item.data)}"></span>\n\t\t\t\t            </div>\n\t\t\t\t        </li>\n\t\t\t\t    </ul>\n\t\t\t\t\t<div class="iui-listscroller-leftright-buttons" style="float:right" [ngStyle]="{ \'margin-top\': leftRightMarginTop + \'px\' }" (click)="increaseValue()" (mousedown)="onMouseDown($event, true)" (mouseup)="onMouseUp($event)">\n\t\t\t\t\t\t<span class="iui-listscroller-leftright-increase"></span>\n\t\t\t\t\t</div>\n                </span>\n            </span>\n\t\t</div>\n    ',inputs:["controlStyle",
"data","enabled","name","state"],providers:[integralui_data_service_1.IntegralUIDataService]}),__metadata("design:paramtypes",[integralui_data_service_1.IntegralUIDataService,core_1.ElementRef,integralui_common_service_1.IntegralUICommonService,core_1.ComponentFactoryResolver])],IntegralUIListScroller);exports.IntegralUIListScroller=IntegralUIListScroller;