/*
  filename: integralui.listscroller.js
  version : 1.3.0
  Copyright Â© 2016-2019 Lidor Systems. All rights reserved.

  This file is part of the "IntegralUI Web" Library. 
                                                                   
  The contents of this file are subject to the IntegralUI Web License, and may not be used except in compliance with the License.
  A copy of the License should have been installed in the product's root installation directory or it can be found at
  http://www.lidorsystems.com/products/web/studio/license-agreement.aspx.
                                                            
  This SOFTWARE is provided "AS IS", WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License for the specific language 
  governing rights and limitations under the License. Any infringement will be prosecuted under applicable laws.                           
*/
var __extends=this&&this.__extends||function(){var g=function(b,a){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return g(b,a)};return function(b,a){function c(){this.constructor=b}g(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),__decorate=this&&this.__decorate||function(g,b,a,c){var d=arguments.length,f=3>d?b:null===c?c=Object.getOwnPropertyDescriptor(b,a):c,e;
if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)f=Reflect.decorate(g,b,a,c);else for(var h=g.length-1;0<=h;h--)if(e=g[h])f=(3>d?e(f):3<d?e(b,a,f):e(b,a))||f;return 3<d&&f&&Object.defineProperty(b,a,f),f},__metadata=this&&this.__metadata||function(g,b){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(g,b)};Object.defineProperty(exports,"__esModule",{value:!0});
var core_1=require("@angular/core"),integralui_core_1=require("./integralui.core"),integralui_common_service_1=require("../services/integralui.common.service"),integralui_data_service_1=require("../services/integralui.data.service"),IntegralUIListScroller=function(g){function b(a,b,d,f){var c=g.call(this,d)||this;c.dataService=a;c.elemRef=b;c.commonService=d;c.cmpResolver=f;c.currentList=[];c.options={dataFields:null,selectedItem:null,sorting:integralui_core_1.IntegralUISortOrder.None};c.dataItems=
[];c.scrollItemList=[];c.valueTimer=null;c.valueCount=0;c.isChangeActive=!1;c.stopTimer=!0;c.hoverItem=null;c.currentFocusItem=null;c.isKeyboardActive=!1;c.allowUpdate=!0;c.blockSize={width:0,height:0};c.clientRect={width:0,height:0};c.contentOpacity=1;c.contentSize={width:0,height:0};c.currentIndex=0;c.prevIndex=0;c.updateTimer=null;c.clientSpace={width:0,height:0};c.contentPos={top:0,left:0};c.currentItemSize={width:48,height:48};c.leftRightMarginTop=0;c.topBotomMarginLeft=0;c.currentScrollMode=
integralui_core_1.IntegralUIScrollMode.Horizontal;c.currentScrollPos={x:0,y:0};c.initPos={x:0,y:0};c.maxScrollPos={x:0,y:0};c.prevScrollPos={x:0,y:0};c.scrollSize={width:0,height:0};c.removeIndex=-1;c.sortComparer=null;c.refreshTimer=null;c.mouseWheelSpeed=integralui_core_1.IntegralUISpeedMode.Normal;c.afterSelect=new core_1.EventEmitter;c.beforeSelect=new core_1.EventEmitter;c.change=new core_1.EventEmitter;c.clear=new core_1.EventEmitter;c.itemAdding=new core_1.EventEmitter;c.itemAdded=new core_1.EventEmitter;
c.itemRemoving=new core_1.EventEmitter;c.itemRemoved=new core_1.EventEmitter;c.scrollModeChanged=new core_1.EventEmitter;c.scrollPosChanged=new core_1.EventEmitter;c.selectionChanged=new core_1.EventEmitter;c.updateComplete=new core_1.EventEmitter;c.updateOptions();return c}__extends(b,g);Object.defineProperty(b.prototype,"items",{get:function(){return this.dataItems},set:function(a){this.dataItems=a;this.updateData()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"itemSize",{get:function(){return this.currentItemSize},
set:function(a){a&&(this.currentItemSize={width:0<a.width?a.width:0,height:0<a.height?a.height:0},this.updateLayout())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"scrollMode",{get:function(){return this.currentScrollMode},set:function(a){this.currentScrollMode!=a&&(this.currentScrollMode=a,this.scrollPos({x:0,y:0}),this.updateLayout(),this.scrollModeChanged.emit(null))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"selectedItem",{get:function(){return this.currentSelection},
set:function(a){if(this.currentSelection!=a)var c=this,b=setTimeout(function(){c.processSelection(a);clearTimeout(b)},1)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"sorting",{set:function(a){this.options.sorting=a},enumerable:!0,configurable:!0});b.prototype.ngOnInit=function(){this.updateData();this.updateCurrentList();this.generalClassName="iui-listscroller";this.itemClassName="iui-listscroller-item";this.itemContentClassName=this.itemClassName+"-content";this.initStyle()};
b.prototype.initStyle=function(){this.defaultStyle={general:{disabled:this.generalClassName+"-disabled",focused:this.generalClassName+"-focused",normal:this.generalClassName,hovered:this.generalClassName+"-hovered",selected:this.generalClassName+"-selected"},item:{general:{disabled:this.itemClassName+"-disabled",focused:this.itemClassName+"-focused",normal:this.itemClassName,hovered:this.itemClassName+"-hovered",selected:this.itemClassName+"-selected"},content:{disabled:this.itemContentClassName+
"-disabled",focused:this.itemContentClassName+"-focused",normal:this.itemContentClassName,hovered:this.itemContentClassName+"-hovered",selected:this.itemContentClassName+"-selected"}}};this.updateStyle(this.controlStyle);this.updateControlClass();this.refresh()};b.prototype.addItem=function(a){this.callEventAdd("add",a,-1,parent)};b.prototype.clearItems=function(){this.currentSelection=null;this.dataService.clear();this.clear.emit(null);this.updateLayout()};b.prototype.insertItemAt=function(a,c){this.callEventAdd("at",
a,c)};b.prototype.insertItemBefore=function(a,c){this.callEventAdd("ref",a,-1,c)};b.prototype.insertItemAfter=function(a,c){this.callEventAdd("ref",a,-1,c,!0)};b.prototype.removeItem=function(a){return this.callEventRemove(a)};b.prototype.removeItemAt=function(a){return this.callEventRemove(null,a)};b.prototype.callEventAdd=function(a,c,b,f,e){var d={cancel:!1,item:c};this.itemAdding.emit(d);if(1!=d.cancel){switch(a){case "at":this.dataService.insert(c,b);break;case "ref":this.dataService.insertByRef(c,
f,e);break;default:this.dataService.insert(c,-1)}this.itemAdded.emit({item:c})}};b.prototype.callEventRemove=function(a,c){var b={cancel:!1,item:a};this.itemRemoving.emit(b);return 1!=b.cancel&&(this.removeIndex=this.items?this.items.indexOf(a):-1,b=this.dataService.removeAt(a,c),b.result)?(this.itemRemoved.emit({item:b.obj}),!0):!1};b.prototype.updateCurrentList=function(){var a=this;a.currentList.length=0;var c=a.dataService.getList();c&&(a.applySorting(c),c.forEach(function(c){a.addItemToCurrentList(c)}))};
b.prototype.addItemToCurrentList=function(a){a.type="item";a[this.options.dataFields.id]||(a[this.options.dataFields.id]=this.commonService.getUniqueId());this.isItemAllowed(a)&&this.currentList.push({data:a})};b.prototype.updateScrollItemList=function(){this.scrollItemList.length=0;var a=this.initPos.x-this.currentScrollPos.x,c=this.initPos.y-this.currentScrollPos.y;this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?c=0:a=0;for(var b=0,f=this.currentIndex;f<this.currentList.length;f++,
b++){var e={data:this.currentList[f].data,index:f-this.currentIndex,position:{x:0,y:0},style:{},tabIndex:b};this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?(e.position={x:a,y:c},a+=this.currentItemSize.width):(e.position={x:a,y:c},c+=this.currentItemSize.height);this.updateItemStyle(e);this.scrollItemList.push(e)}};b.prototype.updateData=function(){this.dataService.init([{data:this.items}])};b.prototype.updateOptions=function(a){a?this.options={dataFields:null,selectedItem:this.commonService.isFieldAvailable(a.selectedItem,
this.options.selectedItem?this.options.selectedItem:null)}:(this.options={dataFields:null,selectedItem:null},this.updateDataFields())};b.prototype.updateDataFields=function(a){this.options.dataFields=a?{canSelect:a.canSelect?a.canSelect:"canSelect",content:a.content?a.content:"content",contextMenu:a.contextMenu?a.contextMenu:"contextMenu",enabled:a.enabled?a.enabled:"enabled",icon:a.icon?a.icon:"icon",id:a.id?a.id:"id",items:a.items?a.items:"items",selected:a.selected?a.selected:"selected",style:a.style?
a.style:"style",text:a.text?a.text:"text",tooltip:a.tooltip?a.tooltip:"tooltip",value:a.value?a.value:"value",visible:a.visible?a.visible:"visible"}:{canSelect:"canSelect",content:"content",contextMenu:"contextMenu",enabled:"enabled",icon:"icon",id:"id",items:"items",selected:"selected",style:"style",text:"text",tooltip:"tooltip",value:"value",visible:"visible"};this.dataService&&this.dataService.updateDataFields(this.options.dataFields)};b.prototype.cloneItem=function(a){return this.dataService.clone(a)};
b.prototype.getItemIndex=function(a){for(var c=-1,b=0;b<this.currentList.length;b++)if(this.currentList[b].data==a){c=b;break}return c};b.prototype.isIndexInRange=function(a){return this.currentList?0<=a&&a<this.currentList.length:!1};b.prototype.isItemAllowed=function(a){return!0};b.prototype.isItemEnabled=function(a){return!0};b.prototype.isItemHovered=function(a){return a&&a==this.hoverItem?!0:!1};b.prototype.isItemSelected=function(a){return a&&1==a[this.options.dataFields.selected]?!0:!1};b.prototype.itemMouseEnter=
function(a,b){this.isEnabled&&(this.hoverItem=b.data,this.updateItemStyle(b))};b.prototype.itemMouseLeave=function(a,b){this.isEnabled&&(this.hoverItem=null,this.updateItemStyle(b))};b.prototype.getContentSize=function(){return{width:0,height:0}};b.prototype.refresh=function(){this.updateView()};b.prototype.resetLayout=function(){this.updateTimer&&clearTimeout(this.updateTimer);this.updateTimer=null};b.prototype.suspendLayout=function(){this.allowUpdate=!1};b.prototype.resumeLayout=function(){this.allowUpdate=
!0;this.updateLayout()};b.prototype.updateLayout=function(){var a=this;a.contentOpacity=0;a.updateTimer=setTimeout(function(){a.updateCurrentList();0==a.currentList.length&&(a.currentScrollPos={x:0,y:0});a.clientRect={width:a.elemRef.nativeElement.firstElementChild.clientWidth,height:a.elemRef.nativeElement.firstElementChild.clientHeight};a.initPos={x:(a.clientRect.width-a.itemSize.width)/2,y:(a.clientRect.height-a.itemSize.height)/2};a.leftrightButtonsElem?a.initPos.x-=a.leftrightButtonsElem.nativeElement.offsetWidth+
1:a.initPos.y-=a.topBottomButtonsElem.nativeElement.offsetHeight+1;a.updateScrollItemList();var b=setTimeout(function(){a.updateScrollSize();a.updateSelection();a.refresh();a.updateComplete.emit(null);clearTimeout(b)},1);a.contentOpacity=1;clearTimeout(a.updateTimer)},100)};b.prototype.updateView=function(){this.updateScrollItemList()};b.prototype.ctrlMouseWheel=function(a){this.isEnabled&&this.processMouseWheel(a)};b.prototype.itemMouseDown=function(a,b){this.isEnabled&&(this.options.allowFocus&&
1==a.buttons&&(this.currentFocusItem=b.data),this.processSelection(b.data));a.stopPropagation()};b.prototype.itemMouseUp=function(a,b){};b.prototype.itemClickEvent=function(a,b){a.stopPropagation()};b.prototype.itemDblClickEvent=function(a,b){a.stopPropagation()};b.prototype.onMouseDown=function(a,b){this.startChange(b)};b.prototype.onMouseUp=function(a){this.stopChange()};b.prototype.onScroll=function(a){a.target&&(a.target.scrollTop=0,a.target.scrollLeft=0)};b.prototype.changeHorizontalScrollPos=
function(a){this.currentScrollPos.x=Math.max(0,Math.min(a,this.maxScrollPos.x));this.currentScrollPos.x!=this.prevScrollPos.x&&(this.scrollPosChanged.emit({value:this.scrollPos()}),this.prevScrollPos.x=this.currentScrollPos.x)};b.prototype.changeVerticalScrollPos=function(a){this.currentScrollPos.y=Math.max(0,Math.min(a,this.maxScrollPos.y));this.currentScrollPos.y!=this.prevScrollPos.y&&(this.scrollPosChanged.emit({value:this.scrollPos()}),this.prevScrollPos.y=this.currentScrollPos.y)};b.prototype.scrollPos=
function(a){a&&(this.currentScrollPos={x:Math.max(0,Math.min(a.x,this.maxScrollPos.x)),y:Math.max(0,Math.min(a.y,this.maxScrollPos.y))},this.updateSelection(),this.updateView(),this.scrollPosChanged.emit({value:this.currentScrollPos}));return{x:Math.floor(this.currentScrollPos.x),y:Math.floor(this.currentScrollPos.y)}};b.prototype.processMouseWheel=function(a){if(this.isEnabled){a.preventDefault();this.hoverItem=null;var b=Math.max(-1,Math.min(1,a.wheelDelta||-a.detail)),d=1;switch(this.mouseWheelSpeed){case integralui_core_1.IntegralUISpeedMode.VerySlow:d=
.25;break;case integralui_core_1.IntegralUISpeedMode.Slow:d=.5;break;case integralui_core_1.IntegralUISpeedMode.Fast:d=1.5;break;case integralui_core_1.IntegralUISpeedMode.VeryFast:d=3}this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?(d*=this.itemSize.width,b=this.currentScrollPos.x+d*b*-1,this.changeHorizontalScrollPos(b)):(d*=this.itemSize.height,b=this.currentScrollPos.y+d*b*-1,this.changeVerticalScrollPos(b));this.updateSelection();this.updateView();a.stopPropagation()}};b.prototype.updateScrollSize=
function(){var a=this.commonService.getBorderWidth(this.blockElem.nativeElement),b=this.commonService.getMargin(this.blockElem.nativeElement),d=this.commonService.getPadding(this.blockElem.nativeElement);switch(this.scrollMode){case integralui_core_1.IntegralUIScrollMode.Vertical:this.topBottomButtonsElem&&this.blockElem&&(this.contentSize={width:this.clientRect.width,height:this.clientRect.height-(a.top+a.bottom+b.top+b.bottom+d.top+d.bottom+2*this.topBottomButtonsElem.nativeElement.offsetHeight)-
2},this.contentPos={left:0,top:this.topBottomButtonsElem.nativeElement.offsetHeight+1},this.topBottomButtonsChildElem&&(this.topBotomMarginLeft=(this.contentSize.width-this.topBottomButtonsChildElem.nativeElement.offsetWidth)/2));break;default:this.leftrightButtonsElem&&(this.contentSize={width:this.clientRect.width-(a.left+a.right+b.left+b.right+d.left+d.right+2*this.leftrightButtonsElem.nativeElement.offsetWidth)-2,height:this.clientRect.height},this.blockElem&&(this.leftRightMarginTop=(this.clientRect.height-
this.leftrightButtonsElem.nativeElement.offsetHeight)/2),this.contentPos={left:this.leftrightButtonsElem.nativeElement.offsetWidth+1,top:0})}this.scrollSize={width:this.itemSize.width*(this.currentList.length-1),height:this.itemSize.height*(this.currentList.length-1)};this.scrollSize.width=0<this.scrollSize.width?this.scrollSize.width:0;this.scrollSize.height=0<this.scrollSize.height?this.scrollSize.height:0;this.maxScrollPos={x:this.scrollSize.width,y:this.scrollSize.height};this.currentScrollPos.x>
this.maxScrollPos.x&&this.changeHorizontalScrollPos(this.maxScrollPos.x);this.currentScrollPos.y>this.maxScrollPos.y&&this.changeVerticalScrollPos(this.maxScrollPos.y);this.clientSpace={width:this.clientRect.width,height:this.clientRect.height}};b.prototype.changeValueTimerElapsed=function(a){0==this.valueCount&&(this.valueCount=this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?this.itemSize.width:this.itemSize.height);this.stopTimer=!1;this.changeValue(a);this.stopTimer&&(clearInterval(this.valueTimer),
this.isChangeActive=!1)};b.prototype.changeValue=function(a){this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?a?this.currentScrollPos.x+this.valueCount<this.maxScrollPos.x?this.changeHorizontalScrollPos(this.currentScrollPos.x+this.valueCount):(this.stopTimer=!0,this.changeHorizontalScrollPos(this.maxScrollPos.x)):0<this.currentScrollPos.x-this.valueCount?this.changeHorizontalScrollPos(this.currentScrollPos.x-this.valueCount):(this.stopTimer=!0,this.changeHorizontalScrollPos(0)):
a?this.currentScrollPos.y+this.valueCount<this.maxScrollPos.y?this.changeVerticalScrollPos(this.currentScrollPos.y+this.valueCount):(this.stopTimer=!0,this.changeVerticalScrollPos(this.maxScrollPos.y)):0<this.currentScrollPos.y-this.valueCount?this.changeVerticalScrollPos(this.currentScrollPos.y-this.valueCount):(this.stopTimer=!0,this.changeVerticalScrollPos(0));this.updateSelection();this.updateView()};b.prototype.prevItem=function(){this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?
this.changeHorizontalScrollPos(this.currentScrollPos.x-this.itemSize.width):this.changeVerticalScrollPos(this.currentScrollPos.y-this.itemSize.height);this.updateSelection();this.updateView()};b.prototype.nextItem=function(){this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?this.changeHorizontalScrollPos(this.currentScrollPos.x+this.itemSize.width):this.changeVerticalScrollPos(this.currentScrollPos.y+this.itemSize.height);this.updateSelection();this.updateView()};b.prototype.startChange=
function(a){var b=this;b.valueTimer&&clearInterval(this.valueTimer);b.valueCount=0;b.isChangeActive=!0;b.valueTimer=setInterval(function(){b.changeValueTimerElapsed(a)},100)};b.prototype.stopChange=function(){this.valueTimer&&clearInterval(this.valueTimer);this.isChangeActive=!1};b.prototype.findItemById=function(a){return this.dataService.findObjectById(a)};b.prototype.findItemByText=function(a){return this.dataService.findObjectByText(a)};b.prototype.callAfterSelectEvent=function(a){a={item:a};
this.afterSelect.emit(a);this.selectionChanged.emit(a)};b.prototype.clearPrevSelection=function(){this.currentSelection&&(this.currentSelection[this.options.dataFields.selected]=!1);this.currentSelection=null};b.prototype.processSelection=function(a,b){var c=!0;if(a)if(this.isItemEnabled(a)){c=this.currentSelection;var f=!0;c&&(f=!this.commonService.isEqual(c[this.options.dataFields.id],a[this.options.dataFields.id])||0==c[this.options.dataFields.selected]);var e={cancel:!1,item:a};this.beforeSelect.emit(e);
c=1==e.cancel?!1:!0;f&&1!=e.cancel&&(this.clearPrevSelection(),this.currentSelection=a,a[this.options.dataFields.selected]=!0,f=this.getItemIndex(a),0<=f&&(this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?this.changeHorizontalScrollPos(f*this.itemSize.width):this.changeVerticalScrollPos(f*this.itemSize.height)),this.callAfterSelectEvent(a),this.refresh())}else this.clearPrevSelection(),this.refresh(),this.selectionChanged.emit({item:null});return c};b.prototype.updateSelection=function(){var a=
this.scrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?Math.floor(this.currentScrollPos.x/this.itemSize.width):Math.floor(this.currentScrollPos.y/this.itemSize.height);this.isIndexInRange(a)&&this.processSelection(this.currentList[a].data)};b.prototype.applySorting=function(a){var b=this;a&&(b.sortComparer?a.sort(b.sortComparer):b.isSortingAllowed()&&a.sort(function(a,c){var e,d;(e=a[b.options.dataFields.value])||(e=a[b.options.dataFields.text]);b.commonService.isObject(e)&&(e=e.value?
e.value:e.text);(d=c[b.options.dataFields.value])||(d=c[b.options.dataFields.text]);b.commonService.isObject(d)&&(d=d.value?d.value:d.text);e=void 0!=e?e:null;d=void 0!=d?d:null;switch(b.options.sorting){case integralui_core_1.IntegralUISortOrder.Ascending:if(e<d)return-1;if(e>d)return 1;break;case integralui_core_1.IntegralUISortOrder.Descending:if(e>d)return-1;if(e<d)return 1;break;default:return 0}}))};b.prototype.isSortingAllowed=function(){return this.options.sorting==integralui_core_1.IntegralUISortOrder.Ascending||
this.options.sorting==integralui_core_1.IntegralUISortOrder.Descending};b.prototype.sort=function(a,b){this.options.sorting=a;this.sortComparer=b?b:null;this.updateLayout();this.change.emit({type:"sorting"})};b.prototype.getControlStyle=function(){var a={};this.currentScrollMode==integralui_core_1.IntegralUIScrollMode.Horizontal?a.height=this.currentItemSize.height+2+"px":a.width=this.currentItemSize.width+2+"px";return a};b.prototype.updateItemStyle=function(a){a&&(a.style={general:[],content:[]},
a.style.general.push(this.itemClassName),a.style.general.push(this.options.currentStyle.item.general.normal),a.style.content.push(this.itemContentClassName),a.style.content.push(this.options.currentStyle.item.content.normal),this.isItemEnabled(a.data)?this.isItemSelected(a.data)?(a.style.general.push(this.options.currentStyle.item.general.selected),a.style.content.push(this.options.currentStyle.item.content.selected)):this.isItemHovered(a.data)&&(a.style.general.push(this.options.currentStyle.item.general.hovered),
a.style.content.push(this.options.currentStyle.item.content.hovered)):(a.style.general.push(this.options.currentStyle.item.general.disabled),a.style.content.push(this.options.currentStyle.item.content.disabled)),a.data==this.currentFocusItem&&a.style.general.push(this.options.currentStyle.item.general.focused))};b.prototype.getItemStyle=function(a){return a?{general:this.getItemGeneralStyle(a.general),content:this.getItemContentStyle(a.content)}:this.getDefaultItemStyle()};b.prototype.getItemGeneralStyle=
function(a){return this.commonService.isString(a)?a:a?{disabled:this.commonService.isFieldAvailable(a.disabled,this.itemClassName+"-disabled"),focused:this.commonService.isFieldAvailable(a.focused,this.itemClassName+"-focused"),normal:this.commonService.isFieldAvailable(a.normal,this.itemClassName),hovered:this.commonService.isFieldAvailable(a.hovered,this.itemClassName+"-hovered"),selected:this.commonService.isFieldAvailable(a.selected,this.itemClassName+"-selected")}:this.getDefaultItemGeneralStyle()};
b.prototype.getItemContentStyle=function(a){return this.commonService.isString(a)?a:a?{disabled:this.commonService.isFieldAvailable(a.disabled,this.itemContentClassName+"-disabled"),focused:this.commonService.isFieldAvailable(a.focused,this.itemContentClassName+"-focused"),normal:this.commonService.isFieldAvailable(a.normal,this.itemContentClassName),hovered:this.commonService.isFieldAvailable(a.hovered,this.itemContentClassName+"-hovered"),selected:this.commonService.isFieldAvailable(a.selected,
this.itemContentClassName+"-selected")}:this.getDefaultItemContentStyle()};b.prototype.getDefaultListStyle=function(){return{general:this.getDefaultGeneralStyle(),item:this.getDefaultItemStyle()}};b.prototype.getDefaultItemStyle=function(){return{general:this.getDefaultItemGeneralStyle(),content:this.getDefaultItemContentStyle()}};b.prototype.getDefaultItemGeneralStyle=function(){return{disabled:this.defaultStyle.item.general.disabled,focused:this.defaultStyle.item.general.focused,normal:this.defaultStyle.item.general.normal,
hovered:this.defaultStyle.item.general.hovered,selected:this.defaultStyle.item.general.selected}};b.prototype.getDefaultItemContentStyle=function(){return{disabled:this.defaultStyle.item.content.disabled,focused:this.defaultStyle.item.content.focused,normal:this.defaultStyle.item.content.normal,hovered:this.defaultStyle.item.content.hovered,selected:this.defaultStyle.item.content.selected}};b.prototype.updateStyle=function(a){this.options.currentStyle=a?{general:this.getGeneralStyle(a.general),item:this.getItemStyle(a.item)}:
this.getDefaultListStyle()};__decorate([core_1.ContentChild(core_1.TemplateRef,{"static":!1}),__metadata("design:type",Object)],b.prototype,"itemTemplate",void 0);__decorate([core_1.ViewChild("block",{"static":!1}),__metadata("design:type",core_1.ElementRef)],b.prototype,"blockElem",void 0);__decorate([core_1.ViewChild("leftrightButtons",{"static":!1}),__metadata("design:type",core_1.ElementRef)],b.prototype,"leftrightButtonsElem",void 0);__decorate([core_1.ViewChild("topBottomButtons",{"static":!1}),
__metadata("design:type",core_1.ElementRef)],b.prototype,"topBottomButtonsElem",void 0);__decorate([core_1.ViewChild("topBottomButtonsChild",{"static":!1}),__metadata("design:type",core_1.ElementRef)],b.prototype,"topBottomButtonsChildElem",void 0);__decorate([core_1.Input(),__metadata("design:type",Array),__metadata("design:paramtypes",[Array])],b.prototype,"items",null);__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],b.prototype,"itemSize",null);
__decorate([core_1.Input(),__metadata("design:type",Number)],b.prototype,"mouseWheelSpeed",void 0);__decorate([core_1.Input(),__metadata("design:type",Number),__metadata("design:paramtypes",[Number])],b.prototype,"scrollMode",null);__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],b.prototype,"selectedItem",null);__decorate([core_1.Input(),__metadata("design:type",Number),__metadata("design:paramtypes",[Number])],b.prototype,"sorting",null);__decorate([core_1.Output(),
__metadata("design:type",core_1.EventEmitter)],b.prototype,"afterSelect",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],b.prototype,"beforeSelect",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],b.prototype,"change",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],b.prototype,"clear",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],b.prototype,"itemAdding",void 0);
__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],b.prototype,"itemAdded",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],b.prototype,"itemRemoving",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],b.prototype,"itemRemoved",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],b.prototype,"scrollModeChanged",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],
b.prototype,"scrollPosChanged",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],b.prototype,"selectionChanged",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],b.prototype,"updateComplete",void 0);return b=__decorate([core_1.Component({selector:"iui-listscroller",template:'\n\t\t<div [ngClass]="getControlClass()" [ngStyle]="getControlStyle()" (DOMMouseScroll)="ctrlMouseWheel($event)" (mousewheel)="ctrlMouseWheel($event)" (scroll)="onScroll($event)">\n            <span [ngSwitch]="scrollMode">\n                <span *ngSwitchCase="1">\n\t\t\t\t\t<div class="iui-listscroller-updown-buttons" (click)="prevItem()" (mousedown)="onMouseDown($event)" (mouseup)="onMouseUp($event)" #topBottomButtons>\n\t\t\t\t\t\t<span class="iui-listscroller-updown-increase" [ngStyle]="{ \'margin-left\': topBotomMarginLeft + \'px\' }" #topBottomButtonsChild></span>\n\t\t\t\t\t</div>\n\t\t\t\t    <ul [ngStyle]="{ \'left\': contentPos.left + \'px\', \'top\': contentPos.top + \'px\', width: contentSize.width + \'px\', height: contentSize.height + \'px\', opacity: contentOpacity }" #block>\n\t\t\t\t        <li [ngClass]="item.style.general" *ngFor="let item of scrollItemList; let i = index" (click)="itemClickEvent($event, item)" (mousedown)="itemMouseDown($event, item)" (mouseup)="itemMouseUp($event, item)" (mouseenter)="itemMouseEnter($event, item)" (mouseleave)="itemMouseLeave($event, item)" [ngStyle]="{ \'position\': \'absolute\', \'top\': item.position.y + \'px\', \'left\': item.position.x + \'px\', width: currentItemSize.width + \'px\', height: currentItemSize.height + \'px\' }" #itemElem>\n\t\t\t\t            <div [ngClass]="item.style.content" tabindex="{{item.tabIndex}}">\n\t\t\t\t\t\t\t\t<span [iuiTemplateOutlet]="itemTemplate" [iuiTemplateOutletContext]="{$implicit: (item.data)}"></span>\n\t\t\t\t            </div>\n\t\t\t\t        </li>\n\t\t\t\t    </ul>\n\t\t\t\t\t<div class="iui-listscroller-updown-buttons" (click)="nextItem()" (mousedown)="onMouseDown($event, true)" (mouseup)="onMouseUp($event)" style="position:absolute;bottom:0;" [ngStyle]="{ width: contentSize.width - 2 + \'px\' }">\n\t\t\t\t\t\t<span class="iui-listscroller-updown-decrease" [ngStyle]="{ \'margin-left\': topBotomMarginLeft + \'px\' }"></span>\n\t\t\t\t\t</div>\n                </span>\n                <span *ngSwitchDefault>\n\t\t\t\t\t<div class="iui-listscroller-leftright-buttons" style="float:left" [ngStyle]="{ \'margin-top\': leftRightMarginTop + \'px\' }" (click)="prevItem()" (mousedown)="onMouseDown($event)" (mouseup)="onMouseUp($event)" #leftrightButtons>\n\t\t\t\t\t\t<span class="iui-listscroller-leftright-decrease"></span>\n\t\t\t\t\t</div>\n\t\t\t\t    <ul [ngStyle]="{ \'left\': contentPos.left + \'px\', \'top\': contentPos.top + \'px\', width: contentSize.width + \'px\', height: contentSize.height + \'px\', opacity: contentOpacity }" #block>\n\t\t\t\t        <li [ngClass]="item.style.general" *ngFor="let item of scrollItemList; let i = index" (click)="itemClickEvent($event, item)" (mousedown)="itemMouseDown($event, item)" (mouseup)="itemMouseUp($event, item)" (mouseenter)="itemMouseEnter($event, item)" (mouseleave)="itemMouseLeave($event, item)" [ngStyle]="{ \'position\': \'absolute\', \'top\': item.position.y + \'px\', \'left\': item.position.x + \'px\', width: currentItemSize.width + \'px\', height: currentItemSize.height + \'px\' }" #itemElem>\n\t\t\t\t            <div [ngClass]="item.style.content" tabindex="{{item.tabIndex}}">\n\t\t\t\t\t\t\t\t<span [iuiTemplateOutlet]="itemTemplate" [iuiTemplateOutletContext]="{$implicit: (item.data)}"></span>\n\t\t\t\t            </div>\n\t\t\t\t        </li>\n\t\t\t\t    </ul>\n\t\t\t\t\t<div class="iui-listscroller-leftright-buttons" style="float:right" [ngStyle]="{ \'margin-top\': leftRightMarginTop + \'px\' }" (click)="nextItem()" (mousedown)="onMouseDown($event, true)" (mouseup)="onMouseUp($event)">\n\t\t\t\t\t\t<span class="iui-listscroller-leftright-increase"></span>\n\t\t\t\t\t</div>\n                </span>\n            </span>\n\t\t</div>\n    ',
inputs:"controlStyle data enabled name size state".split(" "),providers:[integralui_data_service_1.IntegralUIDataService]}),__metadata("design:paramtypes",[integralui_data_service_1.IntegralUIDataService,core_1.ElementRef,integralui_common_service_1.IntegralUICommonService,core_1.ComponentFactoryResolver])],b)}(integralui_core_1.IntegralUIBaseComponent);exports.IntegralUIListScroller=IntegralUIListScroller;